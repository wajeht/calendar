import{r as y,p as _,q as B,s as C,E as p,c as z,o as s,e as d,g as u,a as n,n as g,I as f,T as $,B as S,t as E,J as M}from"./vendor-CQEko2iO.js";import{_ as T}from"./index-BFIuO1Fv.js";const b=y([]);function I(r){r.key==="Escape"&&b.value.length>0&&(r.preventDefault(),b.value.at(-1)())}function j(){return{modalStack:b,handleEscape:I}}const P={key:0,class:"bg-gray-100 border-b border-gray-300 p-4 relative dark:bg-gray-900 dark:border-gray-600"},R={class:"m-0 text-base font-bold text-gray-800 dark:text-gray-100"},V={key:1,class:"bg-gray-100 border-t border-gray-300 p-4 text-right dark:bg-gray-900 dark:border-gray-600"},D={__name:"Modal",props:{title:{type:String,default:""},size:{type:String,default:"default",validator:r=>["default","large","xl"].includes(r)},highZIndex:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},bodyPadding:{type:Boolean,default:!0}},emits:["close"],setup(r,{emit:a}){const{modalStack:l,handleEscape:e}=j(),t=r,v=a,h=_("dialogRef"),c=y(!1),m=y(!1);function k(o){o.stopPropagation()}function i(){c.value||!t.closable||(c.value=!0,setTimeout(()=>{h.value?.close(),v("close")},150))}function x(){t.closable&&l.value.at(-1)===i&&i()}B(()=>{h.value?.show(),l.value.push(i),l.value.length===1&&document.addEventListener("keydown",e),setTimeout(()=>{m.value=!0},10)}),C(()=>{const o=l.value.indexOf(i);o>-1&&l.value.splice(o,1),l.value.length===0&&document.removeEventListener("keydown",e)});const w=p(()=>{switch(t.size){case"large":return"max-w-2xl w-[90%] max-h-[85vh]";case"xl":return"max-w-5xl w-[95%] max-h-[85vh]";default:return"max-w-md w-[90%] max-h-[85vh]"}});return(o,L)=>(s(),z($,{to:"body"},[c.value?u("",!0):(s(),d("div",{key:0,class:g(["fixed inset-0 bg-black/40",t.highZIndex?"z-[3999]":"z-[2999]"]),onClick:x},null,2)),n("dialog",{ref_key:"dialogRef",ref:h,closedby:"none",class:g(["modal-dialog","bg-white border border-gray-300 rounded-sm shadow-lg overflow-hidden dark:bg-gray-800 dark:border-gray-600","text-[13px] leading-tight",t.highZIndex?"z-[4001]":"z-[3001]",c.value?"modal-closing":"",m.value?"":"modal-entering",w.value]),onClick:k},[t.title||o.$slots.header?(s(),d("div",P,[n("h2",R,[f(o.$slots,"header",{},()=>[S(E(t.title),1)],!0)]),t.closable?(s(),d("button",{key:0,class:"modal-close-btn absolute top-1/2 right-4 transform -translate-y-1/2 bg-transparent border-0 text-lg cursor-pointer text-gray-500 p-0 w-5 h-5 flex items-center justify-center hover:text-gray-800 transition-colors duration-150 dark:text-gray-400 dark:hover:text-gray-200",tabindex:"-1",onClick:i,style:{"font-family":"inherit",outline:"none"}}," Ã— ")):u("",!0)])):u("",!0),n("div",{class:g([t.bodyPadding?"p-4":"p-0","max-h-[calc(85vh-140px)] overflow-y-auto"])},[f(o.$slots,"default",{},void 0,!0)],2),o.$slots.footer?(s(),d("div",V,[f(o.$slots,"footer",{},void 0,!0)])):u("",!0)],2)]))}},O=T(D,[["__scopeId","data-v-a4b566da"]]),N=["disabled"],Z={key:0,class:"absolute inset-0 flex items-center justify-center","aria-hidden":"true"},U={__name:"Button",props:{variant:{type:String,default:"default",validator:r=>["default","primary","danger","warning"].includes(r)},size:{type:String,default:"default",validator:r=>["default","small"].includes(r)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(r){const a=r,l=p(()=>{const e=[];switch(a.variant){case"primary":e.push("text-white bg-gradient-to-b from-slate-700 to-slate-800 border border-slate-700 hover:from-slate-800 hover:to-slate-700 hover:border-slate-700","dark:from-slate-600 dark:to-slate-700 dark:border-slate-600 dark:hover:from-slate-700 dark:hover:to-slate-600");break;case"danger":e.push("text-white bg-gradient-to-b from-red-500 to-red-700 border border-red-500 hover:from-red-700 hover:to-red-500 hover:border-red-700","dark:from-red-600 dark:to-red-700 dark:border-red-600 dark:hover:from-red-700 dark:hover:to-red-600");break;case"warning":e.push("text-white bg-gradient-to-b from-yellow-500 to-yellow-600 border border-yellow-500 hover:from-yellow-600 hover:to-yellow-500 hover:border-yellow-600","dark:from-yellow-600 dark:to-yellow-700 dark:border-yellow-600 dark:hover:from-yellow-700 dark:hover:to-yellow-600");break;default:e.push("text-gray-800 bg-gradient-to-b from-white to-gray-200 border border-gray-300 hover:from-gray-200 hover:to-gray-300 hover:border-gray-400","dark:text-gray-200 dark:from-gray-700 dark:to-gray-800 dark:border-gray-600 dark:hover:from-gray-600 dark:hover:to-gray-700 dark:hover:border-gray-500")}return a.size==="small"&&e.push("text-xs px-3 py-1"),a.disabled?e.push("opacity-50 cursor-not-allowed"):a.loading&&e.push("cursor-not-allowed"),e.join(" ")});return(e,t)=>(s(),d("button",M({class:["relative inline-flex items-center justify-center px-3 py-1 ml-0 mr-1 leading-snug cursor-pointer text-[13px] font-normal text-center align-middle whitespace-nowrap select-none rounded-sm transition-all duration-200",l.value],disabled:a.disabled||a.loading,style:{"font-family":"inherit"}},e.$attrs),[n("span",{class:g(a.loading?"invisible":"")},[f(e.$slots,"default")],2),a.loading?(s(),d("span",Z,[...t[0]||(t[0]=[n("svg",{class:"animate-spin h-4 w-4 text-current",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},[n("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-dasharray":"44 125"})],-1)])])):u("",!0)],16,N))}};export{O as M,U as _};
