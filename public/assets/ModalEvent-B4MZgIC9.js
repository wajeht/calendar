import{_ as N,M as C}from"./Button-BnIkoBTp.js";import{E as m,c as S,o as s,w as g,e as r,g as o,a as n,t as l,F as w,f as A,B as $,L as B,b as O}from"./vendor-CQEko2iO.js";import"./index-CjNiF3Av.js";import"./fullcalendar-PBRWkKLf.js";const T={key:0,class:"space-y-3 text-gray-800 dark:text-gray-200"},j={class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},H={class:"space-y-2 text-sm"},R={key:0,class:"mb-2"},V={class:"mb-2"},F={key:1,class:"mb-2"},U={key:2,class:"mb-2"},Z={key:3,class:"mb-2"},I=["innerHTML"],W={key:4,class:"mb-2"},Q=["innerHTML"],q={key:5,class:"mb-2"},G={key:6,class:"mb-2"},J={key:0},K={key:1},X=["href"],Y={key:3},ee={key:7,class:"mb-2"},te={key:8,class:"mb-2"},ne={key:9,class:"mb-2"},se=["href"],re={key:0},oe={key:10,class:"mb-2"},ae={key:11,class:"mb-2"},le={key:12,class:"mb-2"},ie={key:13,class:"mb-2"},de={class:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded break-all"},pe={key:14,class:"mb-2"},ue={class:"inline-flex items-center"},me={key:15,class:"mb-2"},ce=["href"],be={__name:"ModalEvent",props:{event:{type:Object,default:null},calendar:{type:Object,default:null}},emits:["close"],setup(E,{emit:D}){const e=E,k=D;function f(p,t=!1){return p?new Date(p).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:t?void 0:"2-digit",minute:t?void 0:"2-digit"}):"N/A"}function b(p){if(!p)return p;const t=p.split(/(\s+)/),a=[];for(let i=0;i<t.length;i++){const c=t[i];if(/^\s+$/.test(c)){a[i]=c;continue}let d=c,x="";const y=c.match(/^(.+?)([.,;:!?)\]}>]+)$/);if(y&&(d=y[1],x=y[2]),/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d)){a[i]=`<a class="hover:underline" href="mailto:${d}">${d}</a>${x}`;continue}const L=/^(\+?1[-.\s]?)?\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})$/;if(d.match(L)){const u=d.replace(/[^\d+]/g,"");a[i]=`<a class="hover:underline" href="tel:${u}">${d}</a>${x}`;continue}try{const u=new URL(d);if(u.protocol==="http:"||u.protocol==="https:"){a[i]=`<a class="hover:underline" href="${u.href}" target="_blank" rel="noopener noreferrer">${d}</a>${x}`;continue}}catch{}a[i]=c}return a.join("")}const M=m(()=>e.event?.start?f(e.event.start,e.event?.allDay):""),z=m(()=>e.event?.end?f(e.event.end,e.event?.allDay):""),_=m(()=>{if(!e.event?.start||!e.event?.end||e.event?.allDay)return null;const t=(new Date(e.event.end)-new Date(e.event.start))/1e3/60;if(t<60)return`${t} minutes`;{const a=Math.floor(t/60),i=t%60;return`${a}h ${i>0?i+"m":""}`}}),v=m(()=>e.event?.extendedProps?.attendeeEmails?e.event.extendedProps.attendeeEmails.split(", "):[]),P=m(()=>e.event?.extendedProps?.description?b(e.event.extendedProps.description):""),h=m(()=>e.event?.extendedProps?.location?b(e.event.extendedProps.location):"");return(p,t)=>(s(),S(C,{title:"Event Details",onClose:t[1]||(t[1]=a=>k("close"))},{footer:g(()=>[O(N,{onClick:t[0]||(t[0]=a=>k("close"))},{default:g(()=>[...t[19]||(t[19]=[$("Close",-1)])]),_:1})]),default:g(()=>[e.event?(s(),r("div",T,[n("h3",j,l(e.event.title||"Event Details"),1),n("div",H,[e.event.allDay?(s(),r("div",R,[...t[2]||(t[2]=[n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"When:",-1),n("span",null,"All day event",-1)])])):o("",!0),n("div",V,[t[3]||(t[3]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Start:",-1)),n("span",null,l(M.value),1)]),e.event.end?(s(),r("div",F,[t[4]||(t[4]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"End:",-1)),n("span",null,l(z.value),1)])):o("",!0),_.value?(s(),r("div",U,[t[5]||(t[5]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Duration:",-1)),n("span",null,l(_.value),1)])):o("",!0),h.value?(s(),r("div",Z,[t[6]||(t[6]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Location:",-1)),n("span",{innerHTML:h.value},null,8,I)])):o("",!0),P.value?(s(),r("div",W,[t[7]||(t[7]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Description:",-1)),n("div",{innerHTML:P.value,class:"inline"},null,8,Q)])):o("",!0),e.event.extendedProps?.status?(s(),r("div",q,[t[8]||(t[8]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Status:",-1)),n("span",null,l(e.event.extendedProps.status),1)])):o("",!0),e.event.extendedProps?.organizerEmail||e.event.extendedProps?.organizerName?(s(),r("div",G,[t[9]||(t[9]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Organizer:",-1)),e.event.extendedProps.organizerName?(s(),r("span",J,l(e.event.extendedProps.organizerName),1)):o("",!0),e.event.extendedProps.organizerName&&e.event.extendedProps.organizerEmail?(s(),r("span",K," (")):o("",!0),e.event.extendedProps.organizerEmail?(s(),r("a",{key:2,href:`mailto:${e.event.extendedProps.organizerEmail}`},l(e.event.extendedProps.organizerEmail),9,X)):o("",!0),e.event.extendedProps.organizerName&&e.event.extendedProps.organizerEmail?(s(),r("span",Y,")")):o("",!0)])):o("",!0),e.event.extendedProps?.attendeeCount&&parseInt(e.event.extendedProps.attendeeCount)>0?(s(),r("div",ee,[t[10]||(t[10]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Attendees:",-1)),n("span",null,l(e.event.extendedProps.attendeeCount)+" attendee(s)",1)])):o("",!0),e.event.extendedProps?.attendeeNames?(s(),r("div",te,[t[11]||(t[11]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Names:",-1)),n("span",null,l(e.event.extendedProps.attendeeNames.split(",").map(a=>a.split("@")[0]).join(",")),1)])):o("",!0),v.value.length>0?(s(),r("div",ne,[t[12]||(t[12]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Emails:",-1)),n("span",null,[(s(!0),r(w,null,A(v.value,(a,i)=>(s(),r(w,{key:a},[n("a",{class:"hover:underline",href:`mailto:${a}`},l(a),9,se),i<v.value.length-1?(s(),r("span",re,", ")):o("",!0)],64))),128))])])):o("",!0),e.event.extendedProps?.transparency?(s(),r("div",oe,[t[13]||(t[13]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Show as:",-1)),n("span",null,l(e.event.extendedProps.transparency==="OPAQUE"?"Busy":"Free"),1)])):o("",!0),e.event.extendedProps?.created?(s(),r("div",ae,[t[14]||(t[14]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Created:",-1)),n("span",null,l(new Date(e.event.extendedProps.created).toLocaleString()),1)])):o("",!0),e.event.extendedProps?.lastModified?(s(),r("div",le,[t[15]||(t[15]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Modified:",-1)),n("span",null,l(new Date(e.event.extendedProps.lastModified).toLocaleString()),1)])):o("",!0),e.event.extendedProps?.uid?(s(),r("div",ie,[t[16]||(t[16]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Event ID:",-1)),n("code",de,l(e.event.extendedProps.uid),1)])):o("",!0),e.calendar?(s(),r("div",pe,[t[17]||(t[17]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Calendar:",-1)),n("span",ue,[n("span",{class:"inline-block w-3 h-3 rounded-sm mr-2",style:B({backgroundColor:e.calendar.color})},null,4),$(" "+l(e.calendar.name),1)])])):o("",!0),e.event.url?(s(),r("div",me,[t[18]||(t[18]=n("span",{class:"font-bold text-gray-800 dark:text-gray-200 mr-2 inline-block min-w-[80px]"},"Link:",-1)),n("a",{href:e.event.url,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 dark:text-blue-400 hover:underline"},"Open in calendar",8,ce)])):o("",!0)])])):o("",!0)]),_:1}))}};export{be as default};
