import{d as Hs,h as Xt,F as Ua,T as Wa}from"./vendor-CQEko2iO.js";var wn,N,Bs,Ls,Ve,fr,Ys,Jn,_i,Kn,ei,Us,At={},Ws=[],za=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,An=Array.isArray;function ke(n,e){for(var t in e)n[t]=e[t];return n}function zs(n){var e=n.parentNode;e&&e.removeChild(n)}function g(n,e,t){var i,r,s,l={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?wn.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)l[s]===void 0&&(l[s]=n.defaultProps[s]);return Jt(n,l,i,r,null)}function Jt(n,e,t,i,r){var s={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Bs,__i:-1,__u:0};return r==null&&N.vnode!=null&&N.vnode(s),s}function V(){return{current:null}}function H(n){return n.children}function ae(n,e){this.props=n,this.context=e}function Je(n,e){if(e==null)return n.__?Je(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Je(n):null}function js(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return js(n)}}function ti(n){(!n.__d&&(n.__d=!0)&&Ve.push(n)&&!ln.__r++||fr!==N.debounceRendering)&&((fr=N.debounceRendering)||Ys)(ln)}function ln(){var n,e,t,i,r,s,l,a;for(Ve.sort(Jn);n=Ve.shift();)n.__d&&(e=Ve.length,i=void 0,s=(r=(t=n).__v).__e,l=[],a=[],t.__P&&((i=ke({},r)).__v=r.__v+1,N.vnode&&N.vnode(i),Ti(t.__P,i,r,t.__n,t.__P.namespaceURI,32&r.__u?[s]:null,l,s??Je(r),!!(32&r.__u),a),i.__v=r.__v,i.__.__k[i.__i]=i,Gs(l,i,a),i.__e!=s&&js(i)),Ve.length>e&&Ve.sort(Jn));ln.__r=0}function Fs(n,e,t,i,r,s,l,a,o,c,u){var d,h,f,m,p,v=i&&i.__k||Ws,b=e.length;for(t.__d=o,ja(t,e,v),o=t.__d,d=0;d<b;d++)(f=t.__k[d])!=null&&typeof f!="boolean"&&typeof f!="function"&&(h=f.__i===-1?At:v[f.__i]||At,f.__i=d,Ti(n,f,h,r,s,l,a,o,c,u),m=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&Ri(h.ref,null,f),u.push(f.ref,f.__c||m,f)),p==null&&m!=null&&(p=m),65536&f.__u||h.__k===f.__k?o=Vs(f,o,n):typeof f.type=="function"&&f.__d!==void 0?o=f.__d:m&&(o=m.nextSibling),f.__d=void 0,f.__u&=-196609);t.__d=o,t.__e=p}function ja(n,e,t){var i,r,s,l,a,o=e.length,c=t.length,u=c,d=0;for(n.__k=[],i=0;i<o;i++)l=i+d,(r=n.__k[i]=(r=e[i])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Jt(null,r,null,null,null):An(r)?Jt(H,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Jt(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=n,r.__b=n.__b+1,a=Fa(r,t,l,u),r.__i=a,s=null,a!==-1&&(u--,(s=t[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof r.type!="function"&&(r.__u|=65536)):a!==l&&(a==l-1?d--:a==l+1?d++:a>l?u>o-l?d+=a-l:d--:a<l&&(a==l-d?d-=a-l:d++),a!==i+d&&(r.__u|=65536))):(s=t[l])&&s.key==null&&s.__e&&(131072&s.__u)==0&&(s.__e==n.__d&&(n.__d=Je(s)),ni(s,s,!1),t[l]=null,u--);if(u)for(i=0;i<c;i++)(s=t[i])!=null&&(131072&s.__u)==0&&(s.__e==n.__d&&(n.__d=Je(s)),ni(s,s))}function Vs(n,e,t){var i,r;if(typeof n.type=="function"){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,e=Vs(i[r],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=Je(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function an(n,e){return e=e||[],n==null||typeof n=="boolean"||(An(n)?n.some(function(t){an(t,e)}):e.push(n)),e}function Fa(n,e,t,i){var r=n.key,s=n.type,l=t-1,a=t+1,o=e[t];if(o===null||o&&r==o.key&&s===o.type&&(131072&o.__u)==0)return t;if(i>(o!=null&&(131072&o.__u)==0?1:0))for(;l>=0||a<e.length;){if(l>=0){if((o=e[l])&&(131072&o.__u)==0&&r==o.key&&s===o.type)return l;l--}if(a<e.length){if((o=e[a])&&(131072&o.__u)==0&&r==o.key&&s===o.type)return a;a++}}return-1}function hr(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||za.test(e)?t:t+"px"}function Lt(n,e,t,i,r){var s;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||hr(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||hr(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in n||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?i?t.u=i.u:(t.u=_i,n.addEventListener(e,s?ei:Kn,s)):n.removeEventListener(e,s?ei:Kn,s);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function gr(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=_i++;else if(e.t<t.u)return;return t(N.event?N.event(e):e)}}}function Ti(n,e,t,i,r,s,l,a,o,c){var u,d,h,f,m,p,v,b,S,w,D,M,I,x,k,_,O=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(o=!!(32&t.__u),s=[a=e.__e=t.__e]),(u=N.__b)&&u(e);e:if(typeof O=="function")try{if(b=e.props,S="prototype"in O&&O.prototype.render,w=(u=O.contextType)&&i[u.__c],D=u?w?w.props.value:u.__:i,t.__c?v=(d=e.__c=t.__c).__=d.__E:(S?e.__c=d=new O(b,D):(e.__c=d=new ae(b,D),d.constructor=O,d.render=Ga),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=D,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),S&&d.__s==null&&(d.__s=d.state),S&&O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ke({},d.__s)),ke(d.__s,O.getDerivedStateFromProps(b,d.__s))),f=d.props,m=d.state,d.__v=e,h)S&&O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),S&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(S&&O.getDerivedStateFromProps==null&&b!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,D),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,D)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(d.props=b,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(j){j&&(j.__=e)}),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[],d.__h.length&&l.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,D),S&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,m,p)})}if(d.context=D,d.props=b,d.__P=n,d.__e=!1,I=N.__r,x=0,S){for(d.state=d.__s,d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++x<25);d.state=d.__s,d.getChildContext!=null&&(i=ke(ke({},i),d.getChildContext())),S&&!h&&d.getSnapshotBeforeUpdate!=null&&(p=d.getSnapshotBeforeUpdate(f,m)),Fs(n,An(_=u!=null&&u.type===H&&u.key==null?u.props.children:u)?_:[_],e,t,i,r,s,l,a,o,c),d.base=e.__e,e.__u&=-161,d.__h.length&&l.push(d),v&&(d.__E=d.__=null)}catch(j){if(e.__v=null,o||s!=null){for(e.__u|=o?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=t.__e,e.__k=t.__k;N.__e(j,e,t)}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Va(t.__e,e,t,i,r,s,l,o,c);(u=N.diffed)&&u(e)}function Gs(n,e,t){e.__d=void 0;for(var i=0;i<t.length;i++)Ri(t[i],t[++i],t[++i]);N.__c&&N.__c(e,n),n.some(function(r){try{n=r.__h,r.__h=[],n.some(function(s){s.call(r)})}catch(s){N.__e(s,r.__v)}})}function Va(n,e,t,i,r,s,l,a,o){var c,u,d,h,f,m,p,v=t.props,b=e.props,S=e.type;if(S==="svg"?r="http://www.w3.org/2000/svg":S==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((f=s[c])&&"setAttribute"in f==!!S&&(S?f.localName===S:f.nodeType===3)){n=f,s[c]=null;break}}if(n==null){if(S===null)return document.createTextNode(b);n=document.createElementNS(r,S,b.is&&b),s=null,a=!1}if(S===null)v===b||a&&n.data===b||(n.data=b);else{if(s=s&&wn.call(n.childNodes),v=t.props||At,!a&&s!=null)for(v={},c=0;c<n.attributes.length;c++)v[(f=n.attributes[c]).name]=f.value;for(c in v)if(f=v[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=f;else if(c!=="key"&&!(c in b)){if(c=="value"&&"defaultValue"in b||c=="checked"&&"defaultChecked"in b)continue;Lt(n,c,null,f,r)}}for(c in b)f=b[c],c=="children"?h=f:c=="dangerouslySetInnerHTML"?u=f:c=="value"?m=f:c=="checked"?p=f:c==="key"||a&&typeof f!="function"||v[c]===f||Lt(n,c,f,v[c],r);if(u)a||d&&(u.__html===d.__html||u.__html===n.innerHTML)||(n.innerHTML=u.__html),e.__k=[];else if(d&&(n.innerHTML=""),Fs(n,An(h)?h:[h],e,t,i,S==="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,l,s?s[0]:t.__k&&Je(t,0),a,o),s!=null)for(c=s.length;c--;)s[c]!=null&&zs(s[c]);a||(c="value",m!==void 0&&(m!==n[c]||S==="progress"&&!m||S==="option"&&m!==v[c])&&Lt(n,c,m,v[c],r),c="checked",p!==void 0&&p!==n[c]&&Lt(n,c,p,v[c],r))}return n}function Ri(n,e,t){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(r){N.__e(r,t)}}function ni(n,e,t){var i,r;if(N.unmount&&N.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Ri(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){N.__e(s,e)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&ni(i[r],e,t||typeof n.type!="function");t||n.__e==null||zs(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function Ga(n,e,t){return this.constructor(n,t)}function _t(n,e,t){var i,r,s,l;N.__&&N.__(n,e),r=(i=!1)?null:e.__k,s=[],l=[],Ti(e,n=e.__k=g(H,null,[n]),r||At,At,e.namespaceURI,r?null:e.firstChild?wn.call(e.childNodes):null,s,r?r.__e:e.firstChild,i,l),Gs(s,n,l)}function qa(n,e){var t={__c:e="__cC"+Us++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(a){a.__e=!0,ti(a)})},this.sub=function(l){r.push(l);var a=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.splice(r.indexOf(l),1),a&&a.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}wn=Ws.slice,N={__e:function(n,e,t,i){for(var r,s,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(a){n=a}throw n}},Bs=0,Ls=function(n){return n!=null&&n.constructor==null},ae.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ke({},this.state),typeof n=="function"&&(n=n(ke({},t),this.props)),n&&ke(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),ti(this))},ae.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ti(this))},ae.prototype.render=H,Ve=[],Ys=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jn=function(n,e){return n.__v.__b-e.__v.__b},ln.__r=0,_i=0,Kn=gr(!1),ei=gr(!0),Us=0;var ye,Yn,pr,qs=[],J=N,mr=J.__b,vr=J.__r,yr=J.diffed,br=J.__c,Er=J.unmount,Sr=J.__;function Qa(){for(var n;n=qs.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Kt),n.__H.__h.forEach(ii),n.__H.__h=[]}catch(e){n.__H.__h=[],J.__e(e,n.__v)}}J.__b=function(n){ye=null,mr&&mr(n)},J.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),Sr&&Sr(n,e)},J.__r=function(n){vr&&vr(n);var e=(ye=n.__c).__H;e&&(Yn===ye?(e.__h=[],ye.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0})):(e.__h.forEach(Kt),e.__h.forEach(ii),e.__h=[])),Yn=ye},J.diffed=function(n){yr&&yr(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(qs.push(e)!==1&&pr===J.requestAnimationFrame||((pr=J.requestAnimationFrame)||Za)(Qa)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.i=void 0})),Yn=ye=null},J.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Kt),t.__h=t.__h.filter(function(i){return!i.__||ii(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],J.__e(i,t.__v)}}),br&&br(n,e)},J.unmount=function(n){Er&&Er(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Kt(i)}catch(r){e=r}}),t.__H=void 0,e&&J.__e(e,t.__v))};var Dr=typeof requestAnimationFrame=="function";function Za(n){var e,t=function(){clearTimeout(i),Dr&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);Dr&&(e=requestAnimationFrame(t))}function Kt(n){var e=ye,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ye=e}function ii(n){var e=ye;n.__c=n.__(),ye=e}function $a(n,e){for(var t in e)n[t]=e[t];return n}function wr(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function Ar(n,e){this.props=n,this.context=e}(Ar.prototype=new ae).isPureReactComponent=!0,Ar.prototype.shouldComponentUpdate=function(n,e){return wr(this.props,n)||wr(this.state,e)};var _r=N.__b;N.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),_r&&_r(n)};var Xa=N.__e;N.__e=function(n,e,t,i){if(n.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}Xa(n,e,t,i)};var Tr=N.unmount;function Qs(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=$a({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Qs(i,e,t)})),n}function Zs(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Zs(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function Un(){this.__u=0,this.t=null,this.__b=null}function $s(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Yt(){this.u=null,this.o=null}N.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),Tr&&Tr(n)},(Un.prototype=new ae).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=$s(i.__v),s=!1,l=function(){s||(s=!0,t.__R=null,r?r(a):a())};t.__R=l;var a=function(){if(!--i.__u){if(i.state.__a){var o=i.state.__a;i.__v.__k[0]=Zs(o,o.__c.__P,o.__c.__O)}var c;for(i.setState({__a:i.__b=null});c=i.t.pop();)c.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},Un.prototype.componentWillUnmount=function(){this.t=[]},Un.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Qs(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&g(H,null,n.fallback);return r&&(r.__u&=-33),[g(H,null,e.__a?null:n.children),r]};var Rr=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Ja(n){return this.getChildContext=function(){return n.context},n.children}function Ka(n){var e=this,t=n.i;e.componentWillUnmount=function(){_t(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),_t(g(Ja,{context:e.context},n.__v),e.l)}function eo(n,e){var t=g(Ka,{__v:n,i:e});return t.containerInfo=e,t}(Yt.prototype=new ae).__a=function(n){var e=this,t=$s(e.__v),i=e.o.get(n);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),Rr(e,n,i)):r()};t?t(s):s()}},Yt.prototype.render=function(n){this.u=null,this.o=new Map;var e=an(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Yt.prototype.componentDidUpdate=Yt.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){Rr(n,t,e)})};var to=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,no=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,io=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ro=/[A-Z0-9]/g,so=typeof document<"u",lo=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};ae.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ae.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Cr=N.event;function ao(){}function oo(){return this.cancelBubble}function co(){return this.defaultPrevented}N.event=function(n){return Cr&&(n=Cr(n)),n.persist=ao,n.isPropagationStopped=oo,n.isDefaultPrevented=co,n.nativeEvent=n};var uo={enumerable:!1,configurable:!0,get:function(){return this.class}},xr=N.vnode;N.vnode=function(n){typeof n.type=="string"&&(function(e){var t=e.props,i=e.type,r={},s=i.indexOf("-")===-1;for(var l in t){var a=t[l];if(!(l==="value"&&"defaultValue"in t&&a==null||so&&l==="children"&&i==="noscript"||l==="class"||l==="className")){var o=l.toLowerCase();l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&a===!0?a="":o==="translate"&&a==="no"?a=!1:o[0]==="o"&&o[1]==="n"?o==="ondoubleclick"?l="ondblclick":o!=="onchange"||i!=="input"&&i!=="textarea"||lo(t.type)?o==="onfocus"?l="onfocusin":o==="onblur"?l="onfocusout":io.test(l)&&(l=o):o=l="oninput":s&&no.test(l)?l=l.replace(ro,"-$&").toLowerCase():a===null&&(a=void 0),o==="oninput"&&r[l=o]&&(l="oninputCapture"),r[l]=a}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=an(t.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=an(t.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",uo)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r})(n),n.$$typeof=to,xr&&xr(n)};var Ir=N.__r;N.__r=function(n){Ir&&Ir(n),n.__c};var Mr=N.diffed;N.diffed=function(n){Mr&&Mr(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};const Xs=[],ri=new Map;function _n(n){Xs.push(n),ri.forEach(e=>{Ks(e,n)})}function fo(n){n.isConnected&&n.getRootNode&&Js(n.getRootNode())}function Js(n){let e=ri.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=go();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}ri.set(n,e),ho(e)}}function ho(n){for(const e of Xs)Ks(n,e)}function Ks(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&t.insertRule(r+"}",i+s)})}let Wn;function go(){return Wn===void 0&&(Wn=po()),Wn}function po(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Js(document);var mo=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc{display:flex;flex-direction:column;gap:1.5em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-border,.fc-border-b,.fc-border-e,.fc-border-s,.fc-border-t{border:0 solid var(--fc-border-color)}.fc-border-transparent{border-color:transparent}.fc-border{border-width:1px}.fc-border-t{border-top-width:1px}.fc-border-b{border-bottom-width:1px}.fc-direction-ltr .fc-border-s,.fc-direction-rtl .fc-border-e{border-left-width:1px}.fc-direction-ltr .fc-border-e,.fc-direction-rtl .fc-border-s{border-right-width:1px}.fc-flex-row{display:flex;flex-direction:row}.fc-flex-col{display:flex;flex-direction:column}.fc-grow{flex-grow:1}.fc-basis0,.fc-liquid{flex-basis:0}.fc-liquid{flex-grow:1;min-height:0;min-width:0}.fc-media-screen .fc-print-header,.fc-media-screen .fc-print-root{display:flex;flex-direction:column}.fc-cell{margin:0!important;padding:0!important}.fc-cell-inner{flex-shrink:0;overflow:hidden;white-space:nowrap}.fc-celldivider,.fc-rowdivider{border:0 solid var(--fc-border-color)}.fc-rowdivider{border-width:1px 0}.fc-celldivider{border-width:0 1px}.fc-celldivider,.fc-rowdivider{background:var(--fc-neutral-bg-color)}.fc-celldivider{padding-left:2px}.fc-rowdivider{padding-bottom:2px}.fc-crop{overflow:hidden}.fc-rel{position:relative}.fc-abs{position:absolute}.fc-fill{bottom:0;top:0}.fc-fill,.fc-fill-top,.fc-fill-x{left:0;position:absolute;right:0}.fc-fill-start,.fc-fill-y{bottom:0;position:absolute;top:0}.fc-fill-top{top:0}.fc-fill-start{left:0;right:0;width:0}.fc-sticky-t{position:sticky;top:0}.fc-sticky-s{left:0;position:sticky;right:0}.fc-table-header-sticky{background:var(--fc-page-bg-color);position:sticky;top:0;z-index:3}.fc-content-box{box-sizing:content-box}.fc-offscreen{left:-10000px;position:absolute}.fc-shaded{background-color:var(--fc-neutral-bg-color)}.fc-filler{opacity:.5}.fc-padding-sm{padding:2px 4px}.fc-padding-md{padding:4px 5px}.fc-padding-lg{padding:8px}.fc-justify-center{justify-content:center}.fc-align-center{align-items:center}.fc-align-start{align-items:flex-start}.fc-footer-scrollbar-sticky{bottom:0;position:sticky;z-index:3}.fc-footer-scrollbar>.fc-scroller{margin-top:-1px}.fc-footer-scrollbar>.fc-scroller>*{height:1px}.fc-navlink{cursor:pointer}.fc-navlink:hover{text-decoration:underline}.fc-view-outer{position:relative}.fc-view-outer-liquid,.fc-view-outer-static{display:flex;flex-direction:column}.fc-view-outer-liquid,.fc-view-outer-liquid>.fc-view,.fc-view-outer-static>.fc-view{flex-basis:0;flex-grow:1;min-height:0;min-width:0}.fc-view-outer-aspect-ratio>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event-selected:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected,.fc-event:focus:not(.fc-list-event){box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:after,.fc-event:focus:not(.fc-list-event):after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-event-inner{position:relative;z-index:2}.fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-bg-event,.fc-highlight,.fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc-non-business{background:var(--fc-non-business-color)}.fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc-highlight{background:var(--fc-highlight-color)}.fc-day-disabled{background:var(--fc-neutral-bg-color)}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:flex;flex-direction:column;position:relative}.fc-h-event.fc-event-mirror{z-index:1}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-h-event .fc-event-inner{color:var(--fc-event-text-color);display:flex;flex-direction:row}.fc-h-event .fc-event-time,.fc-h-event .fc-event-title{overflow:hidden;white-space:nowrap}.fc-media-print .fc-h-event .fc-event-time,.fc-media-print .fc-h-event .fc-event-title{overflow:hidden!important;white-space:nowrap!important}.fc-h-event .fc-event-title-outer{display:flex;flex-basis:0;flex-direction:row;flex-grow:1;min-height:0;min-width:0}.fc-h-event .fc-event-title{left:0;position:sticky;right:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:4}.fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc-popover-title{margin:0 2px}.fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}.fc-scroller{padding:0!important}.fc-scroller-no-bars{-ms-overflow-style:none;scrollbar-width:none}.fc-scroller-no-bars::-webkit-scrollbar{display:none}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc-button{-webkit-appearance:button}.fc-button:not(:disabled){cursor:pointer}.fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc-button:hover{text-decoration:none}.fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc-button:disabled{opacity:.65}.fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc-button-group>.fc-button.fc-button-active,.fc-button-group>.fc-button:active,.fc-button-group>.fc-button:focus,.fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc-toolbar{align-items:center;justify-content:space-between}.fc-toolbar,.fc-toolbar-section{display:flex;flex-direction:row;gap:.75em}.fc-toolbar-section{flex-shrink:0}.fc-toolbar-title{font-size:1.75em;font-weight:700;white-space:nowrap}';_n(mo);class on{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Tn(n){n.preventDefault()}function vo(n,e){return t=>{let i=t.target.closest(n);i&&e.call(i,t,i)}}function el(n,e,t,i){let r=vo(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function yo(n,e,t,i){let r;return el(n,"mouseover",e,(s,l)=>{if(l!==r){r=l,t(s,l);let a=o=>{r=null,i(o,l),l.removeEventListener("mouseleave",a)};l.addEventListener("mouseleave",a)}})}const Or=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function bo(n,e){let t=i=>{e(i),Or.forEach(r=>{n.removeEventListener(r,t)})};Or.forEach(i=>{n.addEventListener(i,t)})}function Ci(n){return Object.assign({onClick:n},tl(n))}function tl(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let Nr=0;function Ye(){return Nr+=1,String(Nr)}function xi(){document.body.classList.add("fc-not-allowed")}function Ii(){document.body.classList.remove("fc-not-allowed")}function Eo(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Tn)}function So(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Tn)}function Do(n){n.addEventListener("contextmenu",Tn)}function wo(n){n.removeEventListener("contextmenu",Tn)}function Ao(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function _o(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=To(n,e,t[i]),r)return r;return 0}function To(n,e,t){return t.func?t.func(n,e):Ro(n[t.field],e[t.field])*(t.order||1)}function Ro(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function dt(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function St(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),n):t}function Co(n,e){return n-e}function en(n){return n%1===0}const kr=["years","months","days","milliseconds"],xo=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function L(n,e){return typeof n=="string"?Io(n):typeof n=="object"&&n?Pr(n):typeof n=="number"?Pr({[e||"milliseconds"]:n}):null}function Io(n){let e=xo.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Pr(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function Mo(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function si(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function Oo(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function No(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function ko(n){return ut(n)/365}function Po(n){return ut(n)/30}function ut(n){return Re(n)/864e5}function Re(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Mi(n,e){let t=null;for(let i=0;i<kr.length;i+=1){let r=kr[i];if(e[r]){let s=n[r]/e[r];if(!en(s)||t!==null&&t!==s)return null;t=s}else if(n[r])return null}return t}function li(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Ke(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(n[r]!==e[r])return!1;return!0}const Ho=["sun","mon","tue","wed","thu","fri","sat"];function Hr(n,e){let t=Pe(n);return t[2]+=e*7,ue(t)}function Q(n,e){let t=Pe(n);return t[2]+=e,ue(t)}function Le(n,e){let t=Pe(n);return t[6]+=e,ue(t)}function Bo(n,e){return rt(n,e)/7}function rt(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function Lo(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function Yo(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function Uo(n,e){return(e.valueOf()-n.valueOf())/1e3}function Wo(n,e){let t=U(n),i=U(e);return{years:0,months:0,days:Math.round(rt(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function zo(n,e){let t=cn(n,e);return t!==null&&t%7===0?t/7:null}function cn(n,e){return He(n)===He(e)?Math.round(rt(n,e)):null}function U(n){return ue([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function jo(n){return ue([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function Fo(n){return ue([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function Vo(n){return ue([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function Go(n,e,t){let i=n.getUTCFullYear(),r=zn(n,i,e,t);if(r<1)return zn(n,i-1,e,t);let s=zn(n,i+1,e,t);return s>=1?Math.min(r,s):r}function zn(n,e,t,i){let r=ue([e,0,1+qo(e,t,i)]),s=U(n),l=Math.round(rt(r,s));return Math.floor(l/7)+1}function qo(n,e,t){let i=7+e-t;return-((7+ue([n,0,i]).getUTCDay()-e)%7)+i-1}function Br(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Lr(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Pe(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function ue(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function nl(n){return!isNaN(n.valueOf())}function He(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function il(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Oi(e,!0)))),i}function Rn(n){return n.toISOString().replace(/T.*$/,"")}function Qo(n){return dt(n.getUTCHours(),2)+":"+dt(n.getUTCMinutes(),2)+":"+dt(n.getUTCSeconds(),2)}function Oi(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=Math.round(i%60);return e?`${t+dt(r,2)}:${dt(s,2)}`:`GMT${t}${r}${s?`:${dt(s,2)}`:""}`}function T(n,e,t){let i,r;return function(...s){if(!i)r=n.apply(this,s);else if(!Ke(i,s)){let l=n.apply(this,s);(!e||!e(l,r))&&(r=l)}return i=s,r}}function tn(n,e,t){let i,r;return s=>(i?gt(i,s)||(r=n.call(this,s)):r=n.call(this,s),i=s,r)}const Yr={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},dn={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ut=/\s*([ap])\.?m\.?/i,Zo=/,/g,$o=/\s+/g,Xo=/\u200e/g,Jo=/UTC|GMT/;class Ko{constructor(e){let t={},i={},r=0;for(let s in e)s in Yr?(i[s]=e[s],r=Math.max(Yr[s],r)):(t[s]=e[s],s in dn&&(r=Math.max(dn[s],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=T(Ur)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:s,extendedSettings:l}=this,a=sc(e.marker,t.marker,i.calendarSystem);if(!a)return this.format(e,i);let o=a;o>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(o=1);let c=this.format(e,i),u=this.format(t,i);if(c===u)return c;let d=lc(s,o),h=Ur(d,l,i),f=h(e),m=h(t),p=ac(c,f,u,m),v=l.separator||r||i.defaultSeparator||"";return p?p.before+f+v+m+p.after:c+v+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Ur(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>Oi(r.timeZoneOffset):i===0&&e.week?r=>rc(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):ec(n,e,t)}function ec(n,e,t){n=Object.assign({},n),e=Object.assign({},e),tc(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let s=Object.assign({},n);delete s.minute,r=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:l}=s,a;r&&!l.getUTCMinutes()?a=r:a=i;let o=a.format(l);return nc(o,s,n,e,t)}}function tc(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function nc(n,e,t,i,r){return n=n.replace(Xo,""),t.timeZoneName==="short"&&(n=ic(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Oi(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(Zo,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(Ut,"").trim():i.meridiem==="narrow"?n=n.replace(Ut,(s,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(Ut,(s,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(Ut,s=>s.toLocaleLowerCase())),n=n.replace($o," "),n=n.trim(),n}function ic(n,e){let t=!1;return n=n.replace(Jo,()=>(t=!0,e)),t||(n+=` ${e}`),n}function rc(n,e,t,i,r){let s=[];return r==="long"?s.push(t):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function sc(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:He(n)!==He(e)?1:0}function lc(n,e){let t={};for(let i in n)(!(i in dn)||dn[i]<=e)&&(t[i]=n[i]);return t}function ac(n,e,t,i){let r=0;for(;r<n.length;){let s=n.indexOf(e,r);if(s===-1)break;let l=n.substr(0,s);r=s+e.length;let a=n.substr(r),o=0;for(;o<t.length;){let c=t.indexOf(i,o);if(c===-1)break;let u=t.substr(0,c);o=c+i.length;let d=t.substr(o);if(l===u&&a===d)return{before:l,after:a}}}return null}function Wr(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function un(n,e,t,i){let r=Wr(n,t.calendarSystem),s=e?Wr(e,t.calendarSystem):null;return{date:r,start:r,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class oc{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,un(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,un(e,t,i,r))}}class cc{constructor(e){this.func=e}format(e,t,i){return this.func(un(e,null,t,i))}formatRange(e,t,i,r){return this.func(un(e,t,i,r))}}function W(n){return typeof n=="object"&&n?new Ko(n):typeof n=="string"?new oc(n):typeof n=="function"?new cc(n):null}const zr={navLinkDayClick:y,navLinkWeekClick:y,duration:L,bootstrapFontAwesome:y,buttonIcons:y,customButtons:y,defaultAllDayEventDuration:L,defaultTimedEventDuration:L,nextDayThreshold:L,scrollTime:L,scrollTimeReset:Boolean,slotMinTime:L,slotMaxTime:L,dayPopoverFormat:W,slotDuration:L,snapDuration:L,headerToolbar:y,footerToolbar:y,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:W,dayHeaderClassNames:y,dayHeaderContent:y,dayHeaderDidMount:y,dayHeaderWillUnmount:y,dayCellClassNames:y,dayCellContent:y,dayCellDidMount:y,dayCellWillUnmount:y,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:y,weekNumbers:Boolean,weekNumberClassNames:y,weekNumberContent:y,weekNumberDidMount:y,weekNumberWillUnmount:y,editable:Boolean,viewClassNames:y,viewDidMount:y,viewWillUnmount:y,nowIndicator:Boolean,nowIndicatorClassNames:y,nowIndicatorContent:y,nowIndicatorDidMount:y,nowIndicatorWillUnmount:y,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:y,locale:y,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:y,eventOrder:Ao,eventOrderStrict:Boolean,eventSlicing:Boolean,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:y,contentHeight:y,direction:String,weekNumberFormat:W,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:y,initialDate:y,now:y,eventDataTransform:y,stickyHeaderDates:y,stickyFooterScrollbar:y,defaultAllDay:Boolean,eventSourceFailure:y,eventSourceSuccess:y,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:y,eventConstraint:y,eventAllow:y,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:y,eventContent:y,eventDidMount:y,eventWillUnmount:y,selectConstraint:y,selectOverlap:y,selectAllow:y,droppable:Boolean,unselectCancel:String,slotLabelFormat:y,slotLaneClassNames:y,slotLaneContent:y,slotLaneDidMount:y,slotLaneWillUnmount:y,slotLabelClassNames:y,slotLabelContent:y,slotLabelDidMount:y,slotLabelWillUnmount:y,dayMaxEvents:y,dayMaxEventRows:y,dayMinWidth:Number,slotLabelInterval:L,allDayText:String,allDayClassNames:y,allDayContent:y,allDayDidMount:y,allDayWillUnmount:y,timedText:String,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:W,rerenderDelay:Number,moreLinkText:y,moreLinkHint:y,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:y,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:L,hiddenDays:y,fixedWeekCount:Boolean,validRange:y,visibleRange:y,titleFormat:y,eventInteractive:Boolean,noEventsText:String,viewHint:y,viewChangeHint:String,navLinkHint:y,closeHint:String,eventsHint:String,headingLevel:Number,moreLinkClick:y,moreLinkClassNames:y,moreLinkContent:y,moreLinkDidMount:y,moreLinkWillUnmount:y,monthStartFormat:W,handleCustomRendering:y,customRenderingMetaMap:y,customRenderingReplaces:Boolean},Dt={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" â€“ ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},headingLevel:2},jr={datesSet:y,eventsSet:y,eventAdd:y,eventChange:y,eventRemove:y,eventClick:y,eventMouseEnter:y,eventMouseLeave:y,select:y,unselect:y,loading:y,_unmount:y,_beforeprint:y,_afterprint:y,_noEventDrop:y,_noEventResize:y,_timeScrollRequest:y},Fr={buttonText:y,buttonHints:y,views:y,plugins:y,initialEvents:y,events:y,eventSources:y},je={headerToolbar:Fe,footerToolbar:Fe,buttonText:Fe,buttonHints:Fe,buttonIcons:Fe,dateIncrement:Fe,plugins:Wt,events:Wt,eventSources:Wt,resources:Wt};function Fe(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?gt(n,e):n===e}function Wt(n,e){return Array.isArray(n)&&Array.isArray(e)?Ke(n,e):n===e}const dc={type:String,component:y,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:y,usesMinMaxTime:Boolean,classNames:y,content:y,didMount:y,willUnmount:y};function jn(n){return ki(n,je)}function Ni(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function y(n){return n}const{hasOwnProperty:fn}=Object.prototype;function ki(n,e){let t={};if(e){for(let i in e)if(e[i]===Fe){let r=[];for(let s=n.length-1;s>=0;s-=1){let l=n[s][i];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[i]=l;break}}r.length&&(t[i]=ki(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let s in r)s in t||(t[s]=r[s])}return t}function et(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Ce(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function rl(n){let e={};for(let t of n)e[t]=!0;return e}function sl(n){let e=[];for(let t in n)e.push(n[t]);return e}function gt(n,e){if(n===e)return!0;for(let t in n)if(fn.call(n,t)&&!(t in e))return!1;for(let t in e)if(fn.call(e,t)&&n[t]!==e[t])return!1;return!0}const uc=/^on[A-Z]/;function fc(n,e){const t=ai(n,e);for(let i of t)if(!uc.test(i))return!1;return!0}function ai(n,e){let t=[];for(let i in n)fn.call(n,i)&&(i in e||t.push(i));for(let i in e)fn.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function Vr(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&hc(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function hc(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}let ll={};function gc(n,e){ll[n]=e}function pc(n){return new ll[n]}class mc{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ue(e)}markerToArray(e){return Pe(e)}}gc("gregory",mc);const vc=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function yc(n){let e=vc.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(nl(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class bc{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=pc(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ue(Br(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ue(e)),t===null||!nl(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=yc(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return He(e)===He(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return He(e)===He(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=zo(e,t),i!==null?{unit:"week",value:i}:(i=cn(e,t),i!==null?{unit:"day",value:i}:(i=Lo(e,t),en(i)?{unit:"hour",value:i}:(i=Yo(e,t),en(i)?{unit:"minute",value:i}:(i=Uo(e,t),en(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/ko(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/Po(i):i.days&&(r=cn(e,t),r!==null)?r/ut(i):(t.valueOf()-e.valueOf())/Re(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?U(e):t==="hour"?jo(e):t==="minute"?Fo(e):t==="second"?Vo(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Go(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=Le(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),il(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?ue(Br(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ue(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Lr(Pe(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Pe(e)):null}toDate(e,t){return this.timeZone==="local"?Lr(Pe(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Pe(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class It{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClassName(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}It.prototype.classes={};It.prototype.iconClasses={};It.prototype.baseIconClass="";It.prototype.iconOverridePrefix="";function wt(){let n=N.debounceRendering,e=[];function t(i){e.push(i)}for(N.debounceRendering=t,_t(g(Sc,{}),document.createElement("div"));e.length;)e.shift()();N.debounceRendering=n}function Ec(n){n(),wt()}class Sc extends ae{render(){return g("div",{})}componentDidMount(){this.setState({})}}const al=qa,zt=N,Ue=al({});function Dc(n,e,t,i,r,s,l,a,o,c,u,d,h){return{dateEnv:r,options:t,pluginHooks:l,emitter:c,dispatch:a,getCurrentData:o,calendarApi:u,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:s,isRtl:t.direction==="rtl",registerInteractiveComponent:d,unregisterInteractiveComponent:h}}class st extends ae{shouldComponentUpdate(e,t){return this.debug&&console.log(ai(e,this.props),ai(t,this.state)),!Vr(this.props,e,this.propEquality)||!Vr(this.state,t,this.stateEquality)}}st.addPropsEquality=wc;st.addStateEquality=Ac;st.contextType=Ue;st.prototype.propEquality={};st.prototype.stateEquality={};class P extends st{}P.contextType=Ue;function wc(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function Ac(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function C(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function A(...n){return n.filter(Boolean).join(" ")}function Gr(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}function hn(n){return n*100+"%"}class Pi extends P{constructor(){super(...arguments),this.id=Ye(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!oi(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&C(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:s,renderProps:l}=e,a=ol(e,"",this.handleEl);let o=!1,c,u=[],d;if(r!=null){const h=typeof r=="function"?r(l,g):r;if(h===!0)o=!0;else{const f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(f?Ls(h):typeof h!="function")?c=h:d=h}}else o=!oi(e.generatorName,i);return o&&s&&(c=s(l)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,g(e.tag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:l}=r.options;if(s){const a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l?.[i.generatorName];a&&s(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},i))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Ke(e,t)){for(const r of t)r.remove();for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}Pi.addPropsEquality({renderProps:gt,attrs:fc,style:gt});function oi(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function ol(n,e,t){const i=Object.assign(Object.assign({},n.attrs),{ref:t});return(n.className||e)&&(i.className=A(e,n.className,i.className)),n.style&&(i.style=n.style),i}const cl=al(0);class oe extends ae{constructor(){super(...arguments),this.InnerContent=_c.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(C(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=Tc(e.classNameGenerator,e.renderProps);if(e.children){const i=ol(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.tag?g(e.tag,i,r):r}else return g(Pi,Object.assign(Object.assign({},e),{elRef:this.handleEl,tag:e.tag||"div",className:A(e.className,t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}oe.contextType=cl;function _c(n,e){const t=n.props;return g(Pi,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function Tc(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?t:t.join(" ")}function dl(n){return n.text}class Hi extends P{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return g(oe,Object.assign({},e,{tag:e.tag||"div",attrs:e.attrs,className:A(e.className,ul(e.viewSpec)),renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function ul(n){return`fc-${n.type}-view fc-view`}function Rc(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function qr(n,e){let t=[],{start:i}=e,r,s;for(n.sort(Cc),r=0;r<n.length;r+=1)s=n[r],s.start>i&&t.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&t.push({start:i,end:e.end}),t}function Cc(n,e){return n.start.valueOf()-e.start.valueOf()}function tt(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function xc(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Bi(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Cn(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function De(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function Ic(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function fl(n){let e=Math.floor(rt(n.start,n.end))||1,t=U(n.start),i=Q(t,e);return{start:t,end:i}}function hl(n,e=L(0)){let t=null,i=null;if(n.end){i=U(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=Re(e)&&(i=Q(i,1))}return n.start&&(t=U(n.start),i&&i<=t&&(i=Q(t,1))),{start:t,end:i}}function ct(n,e,t,i){return i==="year"?L(t.diffWholeYears(n,e),"year"):i==="month"?L(t.diffWholeMonths(n,e),"month"):Wo(n,e)}function Mc(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function Oc(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Mt(n.now,e)}function Mt(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class gl{constructor(e){this.props=e,this.nowDate=Mt(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,t,i=!0){let{props:r}=this,s,l,a,o,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=Ic(e,s)),l=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(l.unit),o=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,a),o=this.trimHiddenDays(o),c=o,r.showNonCurrentDates||(c=tt(c,l.range)),c=this.adjustActiveRange(c),c=tt(c,s),u=Bi(l.range,s),De(o,e)||(e=o.start),{currentDate:e,validRange:s,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:a,activeRange:c,renderRange:o,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,s=null,l=null,a;return i.duration?(r=i.duration,s=i.durationUnit,l=this.buildRangeFromDuration(e,t,r,s)):(a=this.props.dayCount)?(s="day",l=this.buildRangeFromDayCount(e,t,a)):(l=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),s=li(r).unit,l=this.buildRangeFromDuration(e,t,r,s)),{duration:r,unit:s,range:l}}getFallbackDuration(){return L({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:l,end:a}=e;return i&&(ut(r)<0&&(l=U(l),l=t.add(l,r)),ut(s)>1&&(a=U(a),a=Q(a,-1),a=t.add(a,s))),{start:l,end:a}}buildRangeFromDuration(e,t,i,r){let{dateEnv:s,dateAlignment:l}=this.props,a,o,c;if(!l){let{dateIncrement:d}=this.props;d&&Re(d)<Re(i)?l=li(d).unit:l=r}ut(i)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=U(a));function u(){a=s.startOf(e,l),o=s.add(a,i),c={start:a,end:o}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),u()),c}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:s}=this.props,l=0,a=e,o;s&&(a=r.startOf(a,s)),a=U(a),a=this.skipHiddenDays(a,t),o=a;do o=Q(o,1),this.isHiddenDay(o)||(l+=1);while(l<i);return{start:a,end:o}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?L(1,i):e||L({days:1}))}refineRange(e){if(e){let t=Rc(e,this.props.dateEnv);return t&&(t=hl(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Q(e,t);return e}}function Li(n,e,t,i){return{instanceId:Ye(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function Nc(n,e,t,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(n,t);if(s){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=s.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function nt(n,e,t){let{dateEnv:i,pluginHooks:r,options:s}=t,{defs:l,instances:a}=n;a=et(a,o=>!l[o.defId].recurringDef);for(let o in l){let c=l[o];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let d=kc(c,u,e,i,r.recurringTypes);for(let h of d){let f=Li(o,{start:h,end:i.add(h,u)});a[f.instanceId]=f}}}return{defs:l,instances:a}}function kc(n,e,t,i,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(U)),l}const nn={id:String,groupId:String,title:String,url:String,interactive:Boolean},pl={start:y,end:y,date:y,allDay:Boolean},Pc=Object.assign(Object.assign(Object.assign({},nn),pl),{extendedProps:y});function ml(n,e,t,i,r=Yi(t),s,l){let{refined:a,extra:o}=vl(n,t,r),c=Bc(e,t),u=Nc(a,c,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let h=ci(a,o,e?e.sourceId:"",u.allDay,!!u.duration,t,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=Hc(a,c,t,i);if(d){let h=ci(a,o,e?e.sourceId:"",d.allDay,d.hasEnd,t,s),f=Li(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return l&&h.publicId&&l[h.publicId]&&(f.instanceId=l[h.publicId]),{def:h,instance:f}}return null}function vl(n,e,t=Yi(e)){return Ni(n,t)}function Yi(n){return Object.assign(Object.assign(Object.assign({},gn),Pc),n.pluginHooks.eventRefiners)}function ci(n,e,t,i,r,s,l){let a={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||Ye(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:pn(n,s),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let o of s.pluginHooks.eventDefMemberAdders)Object.assign(a,o(n));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Hc(n,e,t,i){let{allDay:r}=n,s,l=null,a=!1,o,c=null,u=n.start!=null?n.start:n.date;if(s=t.dateEnv.createMarkerMeta(u),s)l=s.marker;else if(!i)return null;return n.end!=null&&(o=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!o||o.isTimeUnspecified)),r&&l&&(l=U(l)),o&&(c=o.marker,r&&(c=U(c)),l&&c<=l&&(c=null)),c?a=!0:i||(a=t.options.forceEventDuration||!1,c=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:l,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}function Bc(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Tt(n,e,t,i,r,s){let l=ge(),a=Yi(t);for(let o of n){let c=ml(o,e,t,i,a,r,s);c&&di(c,l)}return l}function di(n,e=ge()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Ui(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=xn(n,s=>Lc(i,s));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return ge()}function Lc(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function ge(){return{defs:{},instances:{}}}function Wi(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function xn(n,e){let t=et(n.defs,e),i=et(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function Yc(n,e){let{defs:t,instances:i}=n,r={},s={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in i)!e.instances[l]&&r[i[l].defId]&&(s[l]=i[l]);return{defs:r,instances:s}}function Uc(n,e){return Array.isArray(n)?Tt(n,null,e,!0):typeof n=="object"&&n?Tt([n],null,e,!0):n!=null?String(n):null}const gn={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:y,overlap:y,allow:y,className:Gr,classNames:Gr,color:String,backgroundColor:String,borderColor:String,textColor:String},Wc={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function pn(n,e){let t=Uc(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function yl(n){return n.reduce(zc,Wc)}function zc(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const jc={id:String,defaultAllDay:Boolean,url:String,format:String,events:y,eventDataTransform:y,success:y,failure:y};function bl(n,e,t=El(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:s}=Ni(i,t),l=Fc(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Ye(),sourceDefId:l.sourceDefId,meta:l.meta,ui:pn(r,e),extendedProps:s}}return null}function El(n){return Object.assign(Object.assign(Object.assign({},gn),jc),n.pluginHooks.eventSourceRefiners)}function Fc(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let s=t[i].parseMeta(n);if(s)return{sourceDefId:i,meta:s}}return null}function Vc(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return Gc(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return qc(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return Qc(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Wi(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?nt(n,i.activeRange,r):n;case"REMOVE_EVENTS":return Yc(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return Dl(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return xn(n,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ge();default:return n}}function Gc(n,e,t,i,r,s){if(e&&t===e.latestFetchId){let l=Tt(Sl(r,e,s),e,s);return i&&(l=nt(l,i,s)),Wi(Dl(n,e.sourceId),l)}return n}function qc(n,e,t,i,r){const{defIdMap:s,instanceIdMap:l}=$c(n);let a=Tt(Sl(t,e,r),e,r,!1,s,l);return nt(a,i,r)}function Sl(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=Qr(n,r)),i&&(n=Qr(n,i)),n}function Qr(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function Qc(n,e,t,i){return t&&(e=nt(e,t,i)),Wi(n,e)}function Zr(n,e,t){let{defs:i}=n,r=Ce(n.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function Dl(n,e){return xn(n,t=>t.sourceId!==e)}function Zc(n,e){return{defs:n.defs,instances:et(n.instances,t=>!e[t.instanceId])}}function $c(n){const{defs:e,instances:t}=n,i={},r={};for(let s in e){const l=e[s],{publicId:a}=l;a&&(i[a]=s)}for(let s in t){const l=t[s],a=e[l.defId],{publicId:o}=a;o&&(r[o]=s)}return{defIdMap:i,instanceIdMap:r}}class Ot{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){Xc(this.handlers,e,t)}off(e,t){Jc(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let l of s)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Xc(n,e,t){(n[e]||(n[e]=[])).push(t)}function Jc(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const Kc={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ed(n,e){return Tt(td(n),null,e)}function td(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},Kc),t)),e}function wl(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},zi(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function nd(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function zi(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,gd(n,e.dateEnv)),t}function $r(n,e,t){let{dateEnv:i,options:r}=t,s=e;return n?(s=U(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function ji(n,e,t,i){let r=mn(n.defs,e),s=ge();for(let l in n.defs){let a=n.defs[l];s.defs[l]=id(a,r[l],t,i)}for(let l in n.instances){let a=n.instances[l],o=s.defs[a.defId];s.instances[l]=rd(a,o,r[a.defId],t,i)}return s}function id(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(s,t,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function rd(n,e,t,i,r){let{dateEnv:s}=r,l=i.standardProps&&i.standardProps.allDay===!0,a=i.standardProps&&i.standardProps.hasEnd===!1,o=Object.assign({},n);return l&&(o.range=fl(o.range)),i.datesDelta&&t.startEditable&&(o.range={start:s.add(o.range.start,i.datesDelta),end:s.add(o.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(o.range={start:s.add(o.range.start,i.startDelta),end:o.range.end}),i.endDelta&&t.durationEditable&&(o.range={start:o.range.start,end:s.add(o.range.end,i.endDelta)}),a&&(o.range={start:o.range.start,end:$r(e.allDay,o.range.start,r)}),e.allDay&&(o.range={start:U(o.range.start),end:U(o.range.end)}),o.range.end<o.range.start&&(o.range.end=$r(e.allDay,o.range.start,r)),o}class ot{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class z{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in pl)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=nn[e](t),this.mutate({standardProps:{publicId:t}});else if(e in nn)t=nn[e](t),this.mutate({standardProps:{[e]:t}});else if(e in gn){let i=gn[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,l=ct(s.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=ct(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},l=r.createMarker(e),a;if(l&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let o=this._instance.range;i.allDay===!0&&(o=fl(o));let c=ct(o.start,l,r,i.granularity);if(a){let u=ct(o.end,a,r,i.granularity);Mo(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let t=L(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=L(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=L(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=W(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),l=Ui(s,t.instanceId);l=ji(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let o=new z(r,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:qe(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=Al(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ot(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:s}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),s&&(l.end=s),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function Al(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function qe(n,e,t){let{defs:i,instances:r}=n,s=[],l=t?t.instanceId:"";for(let a in r){let o=r[a],c=i[o.defId];o.instanceId!==l&&s.push(new z(e,c,o))}return s}function In(n){return n.eventRange.instance.instanceId}function ui(n,e,t,i){let r={},s={},l={},a=[],o=[],c=mn(n.defs,e);for(let u in n.defs){let d=n.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(r[d.groupId]=[],l[d.groupId]||(l[d.groupId]=d)):s[u]=[])}for(let u in n.instances){let d=n.instances[u],h=n.defs[d.defId],f=c[h.defId],m=d.range,p=!h.allDay&&i?hl(m,i):m,v=tt(p,t);v&&(f.display==="inverse-background"?h.groupId?r[h.groupId].push(v):s[d.defId].push(v):f.display!=="none"&&(f.display==="background"?a:o).push({def:h,ui:f,instance:d,range:v,isStart:p.start&&p.start.valueOf()===v.start.valueOf(),isEnd:p.end&&p.end.valueOf()===v.end.valueOf()}))}for(let u in r){let d=r[u],h=qr(d,t);for(let f of h){let m=l[u],p=c[m.defId];a.push({def:m,ui:p,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in s){let d=s[u],h=qr(d,t);for(let f of h)a.push({def:n.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:o}}function sd(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function Xr(n,e){n.fcEventRange=e}function pt(n){return n.fcEventRange||n.parentNode.fcEventRange||null}function mn(n,e){return Ce(n,t=>_l(t,e))}function _l(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),yl(t)}function Fi(n,e){let t=n.map(ld);return t.sort((i,r)=>_o(i,r,e)),t.map(i=>i._seg)}function ld(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:s,duration:s-r,allDay:Number(t.allDay),_seg:n})}function ad(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:s}=n,l=s.startEditable;for(let a of i)l=a(l,r,s,e);return l}function Vi(n,e,t,i,r,s,l,a=!0,o=!0){const{dateEnv:c,options:u}=l,{def:d,instance:h}=e;let{displayEventTime:f,displayEventEnd:m}=u;f==null&&(f=a!==!1),m==null&&(m=o!==!1);const p=!r&&t&&U(t).valueOf()!==U(e.instance.range.start).valueOf()?t:e.instance.range.start,v=!s&&i&&U(Le(i,-1)).valueOf()!==U(Le(e.instance.range.end,-1)).valueOf()?i:e.instance.range.end;if(f&&!d.allDay){if(m&&(r||s)&&d.hasEnd)return c.formatRange(p,v,n,{forcedStartTzo:r?h.forcedStartTzo:null,forcedEndTzo:s?h.forcedEndTzo:null});if(r)return c.format(p,n,{forcedTzo:h.forcedStartTzo})}return""}function Te(n,e,t){let i=n.range;return{isPast:i.end<=(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&De(e,i.start)}}function od(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function Tl(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Gi(n,e){let{def:t,instance:i}=n,{url:r}=t;if(r)return["a",{href:r}];let{emitter:s,options:l}=e,{eventInteractive:a}=l;a==null&&(a=t.interactive,a==null&&(a=!!s.hasHandlers("eventClick")));let o;return a&&(o=tl(c=>{s.trigger("eventClick",{el:c.target,event:new z(e,t,i),jsEvent:c,view:e.viewApi})}),o=Object.assign({role:"button"},o)),["div",o]}const cd={start:y,end:y,allDay:Boolean};function dd(n,e,t){let i=ud(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function ud(n,e){let{refined:t,extra:i}=Ni(n,cd),r=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:l},i)}function fd(n,e){return xc(n.range,e.range)&&n.allDay===e.allDay&&hd(n,e)}function hd(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function gd(n,e){return Object.assign(Object.assign({},Cl(n.range,e,n.allDay)),{allDay:n.allDay})}function Rl(n,e,t){return Object.assign(Object.assign({},Cl(n,e,t)),{timeZone:e.timeZone})}function Cl(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function pd(n,e,t){let i=vl({editable:!1},t),r=ci(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:_l(r,e),instance:Li(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function md(n,e,t){let i=!1,r=function(a){i||(i=!0,e(a))},s=function(a){i||(i=!0,t(a))},l=n(r,s);l&&typeof l.then=="function"&&l.then(r,s)}class Jr extends Error{constructor(e,t){super(e),this.response=t}}function vd(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new Jr("Failure parsing JSON",r)});throw new Jr("Request failed",r)})}function fi(n,e){return n!=null&&(n===e||Math.abs(n-e)<.01)}const yd=!0,bd=100,be=new Map,hi=new Set;let ft=!1;function q(n){ft?hi.add(n):n()}function xl(){for(const n of hi.values())n(),hi.delete(n)}function gi(){let n=!0;if(!ft){ft=!0;const e=[];for(const[t,i]of be.entries()){const{width:r,height:s}=t.getBoundingClientRect();Il(i,r,s)&&(e.push(i),n=!0)}for(const t of e)t.callback(t.width,t.height);xl(),ft=!1}return n}function Il(n,e,t){let i=!1;return fi(n.width,e)||(n.width=e,i=n.watchWidth),fi(n.height,t)||(n.height=t,i||(i=n.watchHeight)),i}function Ed(){const n=new ResizeObserver(t=>{ft=!0;for(let i of t){const r=i.target,s=be.get(r);let l,a;if(i.borderBoxSize&&yd){const o=i.borderBoxSize[0]||i.borderBoxSize;l=o.inlineSize,a=o.blockSize}else({width:l,height:a}=r.getBoundingClientRect());Il(s,l,a)&&s.callback(l,a)}xl(),ft=!1});function e(t,i,r=!0,s=!0){return be.set(t,{callback:i,watchWidth:r,watchHeight:s}),n.observe(t,{box:"border-box"}),()=>{be.delete(t),n.unobserve(t)}}return[e,gi]}const Kr=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],es={capture:!0,passive:!0};function Sd(){let n,e=!1;const[t,i]=Dd(gi,bd);function r(){return i(),gi()}function s(p,v,b=!0,S=!0){return be.size||l(),be.set(p,{callback:v,watchWidth:b,watchHeight:S}),t(),()=>{be.delete(p),be.size||a()}}function l(){n=new MutationObserver(t),e||o();for(const p of Kr)window.addEventListener(p,t,es)}function a(){e||c();for(const p of Kr)window.removeEventListener(p,t,es)}function o(){n.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function c(){n.disconnect()}function u(){e||(e=!0,be.size&&c())}function d(){e&&(e=!1,be.size&&o())}const h=zt.__r||ts,f=zt.__c||ts;let m=!1;return zt.__r=function(){u(),h.apply(this,arguments)},zt.__c=function(){m||(m=!0,requestAnimationFrame(()=>{r(),d(),m=!1})),f.apply(this,arguments)},[s,r]}const ts=()=>{};function Dd(n,e){let t,i,r;function s(o){t=Date.now(),i=0,r=setTimeout(()=>{i?s(i):(r=void 0,n())},o)}function l(){r?i=Date.now()-t:s(e)}function a(){r&&(clearTimeout(r),r=void 0)}return[l,a]}const[Nt,Ml]=typeof ResizeObserver<"u"?Ed():Sd();function Mn(n,e){return Nt(n,e,!0)}function vt(n,e){return Nt(n,(t,i)=>e(i),!1,!0)}class wd extends P{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0}),wt(),Ml(),wt()},this.handleAfterPrint=()=>{this.setState({forPrint:!1}),wt()}}render(){let{props:e,state:t}=this,{options:i}=e,{forPrint:r}=t,s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${i.direction}`,e.theme.getClassName("root")];return e.children(s,i.height,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class yt{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Ad(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function qi(n){return{[n.component.uid]:n}}const pi={},_d=/(top|left|right|bottom|width|height)$/i;function rn(n,e){for(let t in e)Ol(n,t,e[t])}function Ol(n,e,t){t==null?n.style[e]="":typeof t=="number"&&_d.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Nl(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let ns=0;function Qi(){return ns+=1,"fc-dom-"+ns}function xe(n){return n.height==="auto"||n.contentHeight==="auto"}function kt(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=xe(n)),e}function kl(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=xe(n)),e}function Pl(n){const e=n.scrollerSyncerClass;if(!e)throw new RangeError("Must import @fullcalendar/scrollgrid");return e}class Td{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){let e=0;for(;e++<3&&Ml();)wt()}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,l;for(let a in t)r.push(a);for(s=0;s<r.length;s+=1)if(l=t[r[s]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Mt(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=L(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),W(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),W(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),s=dd(i,r.dateEnv,L({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),wl(s,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),nd(e,t))}addEvent(e,t){if(e instanceof z){let l=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:di({def:l,instance:a})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof ot)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=sl(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let s=ml(e,r,i,!1);if(s){let l=new z(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:di(s)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Al(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let s in i){let l=i[s];if(l.publicId===e){if(l.recurringDef)return new z(t,l,null);for(let a in r){let o=r[a];if(o.defId===l.defId)return new z(t,l,o)}}}return null}getEvents(){let e=this.getCurrentData();return qe(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new ot(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new ot(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ot)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=bl(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new ot(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=L(e);t&&this.trigger("_timeScrollRequest",t)}}function Rd(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Hl(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function Cd(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function xd(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function Id(n,e){return{left:n.left-e.left,top:n.top-e.top}}const Fn=ge();class Md{constructor(){this.getKeysForEventDefs=T(this._getKeysForEventDefs),this.splitDateSelection=T(this._splitDateSpan),this.splitEventStore=T(this._splitEventStore),this.splitIndividualUi=T(this._splitIndividualUi),this.splitEventDrag=T(this._splitInteraction),this.splitEventResize=T(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),l=this.splitEventStore(e.eventStore,i),a=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Ce(t,(u,d)=>this.eventUiBuilders[d]||T(Od));for(let u in t){let d=t[u],h=l[u]||Fn,f=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:r[u]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],d.ui,s[u]),eventDrag:a[u]||null,eventResize:o[u]||null,eventSelection:h.instances[e.eventSelection]?e.eventSelection:""}}return c}_splitDateSpan(e){let t={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)t[r]=e}return t}_getKeysForEventDefs(e){return Ce(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:i,instances:r}=e,s={};for(let l in i)for(let a of t[l])s[a]||(s[a]=ge()),s[a].defs[l]=i[l];for(let l in r){let a=r[l];for(let o of t[a.defId])s[o]&&(s[o].instances[l]=a)}return s}_splitIndividualUi(e,t){let i={};for(let r in e)if(r)for(let s of t[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let t={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),l=a=>{t[a]||(t[a]={affectedEvents:i[a]||Fn,mutatedEvents:s[a]||Fn,isEvent:e.isEvent})};for(let a in i)l(a);for(let a in s)l(a)}return t}}function Od(n,e,t){let i=[];n&&i.push(n),e&&i.push(e);let r={"":yl(i)};return t&&Object.assign(r,t),r}function Pt(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!De(i.activeRange,n)),isOther:!!(i&&!De(i.currentRange,n)),isToday:!!(e&&De(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function vn(n){return A("fc-day",n.isDisabled?"fc-day-disabled":A(`fc-day-${Ho[n.dow]}`,n.isToday&&"fc-day-today",n.isPast&&"fc-day-past",n.isFuture&&"fc-day-future",n.isOther&&"fc-day-other"))}const Nd=W({year:"numeric",month:"long",day:"numeric"}),kd=W({week:"long"});function bt(n,e,t="day"){return n.dateEnv.format(e,t==="week"?kd:Nd)}function mt(n,e,t="day",i=bt(n,e,t),r=!0){const{dateEnv:s,options:l,calendarApi:a}=n,o=s.toDate(e),c=u=>{let d=t==="day"?l.navLinkDayClick:t==="week"?l.navLinkWeekClick:null;typeof d=="function"?d.call(a,s.toDate(e),u):(typeof d=="string"&&(t=d),a.zoomTo(e,t))};return Object.assign({role:"link","aria-label":St(l.navLinkHint,[i,o],i),className:"fc-navlink"},r?Ci(c):{onClick:c})}function Pd(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,a=Ld(n),o=a.y-i-r,c=a.x-s-l,u={borderLeft:i,borderRight:r,borderTop:s,borderBottom:l,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return t.direction==="rtl"?u.scrollbarLeft=o:u.scrollbarRight=o,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function Hd(n,e=!1,t){let i=Zi(n),r=Pd(n,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function Zi(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Bd(n){let e=Bl(n),t=n.getBoundingClientRect();for(let i of e){let r=Hl(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function Bl(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}function Ld(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}class $i{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Yd extends $i{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Ud extends $i{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class We extends P{constructor(){super(...arguments),this.uid=Ye()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!e.closest(".fc-event-mirror")}isValidDateDownEl(e){return!e.closest(".fc-event:not(.fc-bg-event)")&&!e.closest(".fc-more-link")&&!e.closest(".fc-navlink")&&!e.closest(".fc-popover")}}function Wd(n,e){return n.end>e.start&&n.start<e.end}function is(n,e){const t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);if(t<i)return{start:t,end:i,isStart:n.isStart&&t===n.start,isEnd:n.isEnd&&i===n.end}}function zd(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function mi(n){return n.end}function Ll(n){return n.reduce(Fd).eventRange.range.start}function jd(n){return n.reduce(Vd).eventRange.range.end}function Fd(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function Vd(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class vi{constructor(e,t=o=>1,i=!1,r,s,l=!1,a=!1){this.getSegThickness=t,this.strictOrder=i,this.maxCoord=r,this.maxDepth=s,this.hiddenConsumes=l,this.allowSlicing=a,this.placementsByLevel=[],this.levelCoords=[],this.hiddenSegs=[];for(const o of e)this.insertSeg(o,this.getSegThickness(o))}insertSeg(e,t,i){if(t!=null){const r=this.findInsertion(e,t);if(this.isInsertionValid(r,t))this.insertSegAt(e,r,t,i);else{const{touchingPlacement:s}=r;if(s){if(this.hiddenConsumes&&!s.isZombie&&(s.isZombie=!0,this.hiddenSegs.push(s),this.allowSlicing)){const l=Object.assign({},s);Object.assign(s,is(s,e)),s.isSlice=!0,this.splitSeg(l,s.thickness,s)}this.allowSlicing?(this.hiddenSegs.push(Object.assign(Object.assign({},e),is(e,s))),this.splitSeg(e,t,s)):this.hiddenSegs.push(e)}else this.hiddenSegs.push(e)}}}isInsertionValid(e,t){return(this.maxCoord==null||e.levelCoord+t<=this.maxCoord)&&(this.maxDepth==null||e.depth<this.maxDepth)}splitSeg(e,t,i){e.start<i.start&&this.insertSeg(Object.assign(Object.assign({},e),{end:i.start,isEnd:!1}),t,!0),e.end>i.end&&this.insertSeg(Object.assign(Object.assign({},e),{start:i.end,isStart:!1}),t,!0)}insertSegAt(e,t,i,r){const s=Object.assign(Object.assign({},e),{thickness:i,depth:t.depth,isSlice:r||e.isSlice||!1,isZombie:!1});t.lateralIndex===-1?(Vn(this.placementsByLevel,t.levelIndex,[s]),Vn(this.levelCoords,t.levelIndex,t.levelCoord)):Vn(this.placementsByLevel[t.levelIndex],t.lateralIndex,s)}findInsertion(e,t){let{placementsByLevel:i,levelCoords:r}=this,s=i.length,l=0,a,o,c=0;for(let h=0;h<s;h+=1){const f=r[h];if(!this.strictOrder&&f>=l+t)break;let m=i[h],p,[v,b]=yi(m,e.start,mi),S=v+b;for(;(p=m[S])&&p.start<e.end;){let w=f+p.thickness;w>l&&(l=w,a=p,o=h),w===l&&(c=Math.max(c,p.depth+1)),S+=1}}let u=0;if(a)for(u=o+1;u<s&&r[u]<l;)u+=1;let d=-1;return u<s&&r[u]===l&&([d]=yi(i[u],e.end,mi)),{touchingPlacement:a,levelCoord:l,levelIndex:u,lateralIndex:d,depth:c}}traverseSegs(e){const{placementsByLevel:t,levelCoords:i}=this;for(let r=0;r<t.length;r++){const s=t[r],l=i[r];for(const a of s)a.isZombie||e(a,l)}}}function Gd(n){let e=[];for(let t of n){let i=[],r={segs:[t],start:t.start,end:t.end};for(let s of e)Wd(s,r)?r=Object.assign(Object.assign({},zd(s,r)),{segs:s.segs.concat(r.segs)}):i.push(s);i.push(r),e=i}return e.map(t=>Object.assign({key:il(Ll(n))},t))}function Vn(n,e,t){n.splice(e,0,t)}function yi(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),l=t(n[s]);if(e<l)r=s;else if(e>l)i=s+1;else return[s,1]}return[i,0]}class qd{constructor(e,t){this.emitter=new Ot}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Xi={};class Yl{constructor(e,t){let i=e.start,{end:r}=e,s=[],l=[],a=-1;for(;i<r;)t.isHiddenDay(i)?s.push(a+.5):(a+=1,s.push(a),l.push(i)),i=Q(i,1);this.dates=l,this.indices=s,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Q(e.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{start:r,end:s+1,isStart:t===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(rt(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class Ul{constructor(e,t){let{dates:i}=e,r,s,l;if(t){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);l=Math.ceil(i.length/r)}else l=1,r=i.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cellRows=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cellRows[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){const{start:s,end:l}=i;let a=s;for(;a<l;){let o=Math.floor(a/t),c=Math.min((o+1)*t,l);r.push({row:o,start:a%t,end:(c-1)%t+1,isStart:i.isStart&&a===s,isEnd:i.isEnd&&c===l}),a=c}}return r}}class Qd{constructor(e){this.el=e,this.emitter=new Ot,this.isScroll=!1,this.isScrollRecent=!1,this.isWheelRecent=!1,this.isMouseDown=!1,this.isTouchDown=!1,this.isMouse=!1,this.isTouch=!1,this.isWheel=!1,this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.getIsUser()),this.isScrollRecent=!0,this.isMouseDown&&(this.isMouse=!0),this.isTouchDown&&(this.isTouch=!0),this.isWheelRecent&&(this.isWheel=!0),this.scrollWaiter.request(500)},this.handleScrollWait=()=>{this.isScrollRecent=!1,this.isTouchDown||this.endScroll()},this.handleWheel=()=>{this.isWheelRecent=!0,this.wheelWaiter.request(500)},this.handleWheelWait=()=>{this.isWheelRecent=!1},this.handleMouseDown=()=>{this.isMouseDown=!0},this.handleMouseUp=()=>{this.isMouseDown=!1},this.handleTouchStart=()=>{this.isTouchDown=!0},this.handleTouchEnd=()=>{this.isTouchDown=!1,this.isScrollRecent||this.endScroll()},this.wheelWaiter=new on(this.handleWheelWait),this.scrollWaiter=new on(this.handleScrollWait),e.addEventListener("scroll",this.handleScroll),e.addEventListener("wheel",this.handleWheel,{passive:!0}),e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("mouseup",this.handleMouseUp),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("wheel",this.handleWheel,{passive:!0}),e.removeEventListener("mousedown",this.handleMouseDown),e.removeEventListener("mouseup",this.handleMouseUp),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd)}startScroll(){this.isScroll||(this.isScroll=!0,this.emitter.trigger("scrollStart",this.getIsUser()))}endScroll(){this.isScroll&&(this.scrollWaiter.clear(),this.wheelWaiter.clear(),this.isScroll=!1,this.isWheelRecent=!1,this.emitter.trigger("scrollEnd",this.getIsUser()),this.isMouse=!1,this.isTouch=!1,this.isWheel=!1)}getIsUser(){return this.isWheel||this.isMouse||this.isTouch}}class Se extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el&&(this.el=null,this.listener.destroy()),e&&(this.el=e,this.listener=new Qd(e))},this.handleHRuler=e=>{this.disconnectHRuler&&(this.disconnectHRuler(),this.disconnectHRuler=void 0,this.clientWidth!==void 0&&(this.clientWidth=void 0,C(this.props.clientWidthRef,null))),e&&(this.disconnectHRuler=Mn(e,t=>{t!==this.clientWidth&&(this.clientWidth=t,C(this.props.clientWidthRef,t))}))},this.handleVRuler=e=>{this.disconnectVRuler&&(this.disconnectVRuler(),this.disconnectVRuler=void 0,this.clientHeight!==void 0&&(this.clientHeight=void 0,C(this.props.clientHeightRef,null))),e&&(this.disconnectVRuler=vt(e,t=>{t!==this.clientHeight&&(this.clientHeight=t,C(this.props.clientHeightRef,t));const i=Math.round(this.el.getBoundingClientRect().height-t);i!==this.bottomScrollbarWidth&&(this.bottomScrollbarWidth=i,C(this.props.bottomScrollbarWidthRef,i))}))}}render(){const{props:e}=this,t=e.horizontal||e.vertical?"hidden":"";return g("div",{ref:this.handleEl,className:A(e.className,"fc-scroller fc-rel",e.hideScrollbars&&"fc-scroller-no-bars"),style:Object.assign(Object.assign({},e.style),{overflowX:e.horizontal?"auto":t,overflowY:e.vertical?"auto":t})},e.children,!!e.clientWidthRef&&g("div",{ref:this.handleHRuler,className:"fc-fill-top"}),!!(e.clientHeightRef||e.bottomScrollbarWidthRef)&&g("div",{ref:this.handleVRuler,className:"fc-fill-start"}))}endScroll(){this.listener.endScroll()}get x(){const{isRtl:e}=this.context,{el:t}=this;return t?Zd(t,e):0}get y(){const{el:e}=this;return e?e.scrollTop:0}scrollTo({x:e,y:t}){const{isRtl:i}=this.context,{el:r}=this;r&&(t!=null&&(r.scrollTop=t),e!=null&&$d(r,i,e))}addScrollEndListener(e){this.listener.emitter.on("scrollEnd",e)}removeScrollEndListener(e){this.listener.emitter.off("scrollEnd",e)}}function Zd(n,e){const{scrollLeft:t}=n;return e?Xd(t,n):t}function $d(n,e,t){n.scrollLeft=e?Jd(t,n):t}function Xd(n,e){switch(Wl()){case"positive":return e.scrollWidth-e.clientWidth-n;case"negative":return-n}return n}function Jd(n,e){switch(Wl()){case"positive":return e.scrollWidth-e.clientWidth-n;case"negative":return-n}return n}let rs;function Wl(){return rs||(rs=Kd())}function Kd(){let n=document.createElement("div");n.style.position="absolute",n.style.top="-1000px",n.style.width="100px",n.style.height="100px",n.style.overflow="scroll",n.style.direction="rtl";let e=document.createElement("div");e.style.width="200px",e.style.height="200px",n.appendChild(e),document.body.appendChild(n);let t;return n.scrollLeft>0?t="positive":(n.scrollLeft=50,n.scrollLeft>0?t="reverse":t="negative"),n.remove(),t}class zl{constructor(){this.sliceBusinessHours=T(this._sliceBusinessHours),this.sliceDateSelection=T(this._sliceDateSpan),this.sliceEventStore=T(this._sliceEventStore),this.sliceEventDrag=T(this._sliceInteraction),this.sliceEventResize=T(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...s){let{eventUiBases:l}=e,a=this.sliceEventStore(e.eventStore,l,t,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...s),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...s){return this._sliceDateSpan({range:{start:e,end:Le(e,1)},allDay:!1},t,i,{},r,...s)}_sliceBusinessHours(e,t,i,r,...s){return e?this._sliceEventStore(nt(e,jt(t,!!i),r),{},t,i,...s).bg:[]}_sliceEventStore(e,t,i,r,...s){if(e){let l=ui(e,t,jt(i,!!r),r);return{bg:this.sliceEventRanges(l.bg,s),fg:this.sliceEventRanges(l.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...s){if(!e)return null;let l=ui(e.mutatedEvents,t,jt(i,!!r),r);return{segs:this.sliceEventRanges(l.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,s,...l){if(!e)return[];let a=jt(t,!!i),o=tt(e.range,a);if(o){e=Object.assign(Object.assign({},e),{range:o});let c=pd(e,r,s),u=this.sliceRange(e.range,...l);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Q(i.start,1)});let r=this.sliceRange(i,...t);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function jt(n,e){let t=n.activeRange;return e?t:{start:Le(t.start,n.slotMinTime.milliseconds),end:Le(t.end,n.slotMaxTime.milliseconds-864e5)}}function jl(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Cn(e.validRange,i[r].range))return!1;return Fl({eventDrag:n},t)}function eu(n,e,t){return Cn(e.validRange,n.range)?Fl({dateSelection:n},t):!1}function Fl(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||tu)(i,e)}function tu(n,e,t={},i){return!(n.eventDrag&&!nu(n,e,t,i)||n.dateSelection&&!iu(n,e,t,i))}function nu(n,e,t,i){let r=e.getCurrentData(),s=n.eventDrag,l=s.mutatedEvents,a=l.defs,o=l.instances,c=mn(a,s.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=Ce(c,i));let u=Zc(n.eventStore,s.affectedEvents.instances),d=u.defs,h=u.instances,f=mn(d,n.eventUiBases);for(let m in o){let p=o[m],v=p.range,b=c[p.defId],S=a[p.defId];if(!Vl(b.constraints,v,u,n.businessHours,e))return!1;let{eventOverlap:w}=e.options,D=typeof w=="function"?w:null;for(let I in h){let x=h[I];if(Bi(v,x.range)&&(f[x.defId].overlap===!1&&s.isEvent||b.overlap===!1||D&&!D(new z(e,d[x.defId],x),new z(e,S,p))))return!1}let M=r.eventStore;for(let I of b.allows){let x=Object.assign(Object.assign({},t),{range:p.range,allDay:S.allDay}),k=M.defs[S.defId],_=M.instances[m],O;if(k?O=new z(e,k,_):O=new z(e,S),!I(zi(x,e),O))return!1}}return!0}function iu(n,e,t,i){let r=n.eventStore,s=r.defs,l=r.instances,a=n.dateSelection,o=a.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!Vl(c.constraints,o,r,n.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in l){let f=l[h];if(Bi(o,f.range)&&(c.overlap===!1||d&&!d(new z(e,s[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},t),a);if(!h(zi(f,e),null))return!1}return!0}function Vl(n,e,t,i,r){for(let s of n)if(!su(ru(s,e,t,i,r),e))return!1;return!0}function ru(n,e,t,i,r){return n==="businessHours"?Gn(nt(i,e,r)):typeof n=="string"?Gn(xn(t,s=>s.groupId===n)):typeof n=="object"&&n?Gn(nt(n,e,r)):[]}function Gn(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function su(n,e){for(let t of n)if(Cn(t,e))return!0;return!1}class On extends P{constructor(){super(...arguments),this.elRef=V()}render(){return g("div",{ref:this.elRef})}componentDidMount(){const{props:e}=this,t=this.elRef.current;this.disconnectWidth=Mn(t,i=>{C(e.widthRef,i)})}componentWillUnmount(){this.disconnectWidth();const{props:e}=this;e.widthRef&&C(e.widthRef,null)}}class X{constructor(e){this.masterCallback=e,this.rev="",this.current=new Map,this.callbacks=new Map,this.handleValue=(t,i)=>{let{current:r,callbacks:s}=this;t===null?(r.delete(i),s.delete(i)):r.set(i,t),this.rev=Ye(),this.masterCallback&&this.masterCallback(t,i)}}createRef(e){let t=this.callbacks.get(e);return t||(t=i=>{this.handleValue(i,e)},this.callbacks.set(e,t)),t}}class Nn extends ae{constructor(e,t){super(e,t),this.initialNowDate=Mt(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=Le(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(i,e.unit),s=t.dateEnv.add(r,L(1,e.unit)),l=s.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:r,todayRange:ss(r)},nextState:{nowDate:s,todayRange:ss(s)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Nn.contextType=Ue;function ss(n){let e=U(n),t=Q(e,1);return{start:e,end:t}}class kn extends P{constructor(){super(...arguments),this.buildPublicEvent=T((e,t,i)=>new z(e,t,i)),this.handleEl=e=>{this.el=e,e&&Xr(e,this.props.eventRange)}}render(){const{props:e,context:t}=this,{options:i}=t,{eventRange:r}=e,{ui:s}=r,l={event:this.buildPublicEvent(t,r.def,r.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&ad(r,t),isStartResizable:!e.disableResizing&&e.isStart&&r.ui.durationEditable&&i.eventResizableFromStart,isEndResizable:!e.disableResizing&&e.isEnd&&r.ui.durationEditable,isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!e.isStart,isEnd:!!e.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return g(oe,{attrs:e.attrs,className:A(e.className,...od(l),...r.ui.classNames),style:e.style,elRef:this.handleEl,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,tag:e.tag,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.eventRange!==e.eventRange&&Xr(this.el,this.props.eventRange)}}class Gl extends P{render(){const{props:e,context:t}=this,{eventRange:i}=e,{options:r}=t,s=r.eventTimeFormat||e.defaultTimeFormat,l=Vi(s,i,e.slicedStart,e.slicedEnd,e.isStart,e.isEnd,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd),[a,o]=Gi(i,t);return g(kn,Object.assign({},e,{tag:a,style:{borderColor:i.ui.borderColor,backgroundColor:i.ui.backgroundColor},attrs:o,defaultGenerator:lu,timeText:l}),(c,u)=>g(H,null,g(c,{tag:"div",className:"fc-event-inner",style:{color:u.textColor}}),!!u.isStartResizable&&g("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&g("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function lu(n){return g(H,null,n.timeText&&g("div",{className:"fc-event-time"},n.timeText),g("div",{className:"fc-event-title-outer"},g("div",{className:"fc-event-title"},n.event.title||g(H,null,"Â "))))}const ql=n=>g(Ue.Consumer,null,e=>{let{options:t}=e,i={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return g(oe,Object.assign({},n,{tag:n.tag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),au=W({day:"numeric"});class Ji extends P{constructor(){super(...arguments),this.refineRenderProps=tn(ou)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateMeta:e.dateMeta,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,renderProps:e.renderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return g(oe,Object.assign({},e,{className:A(e.className,vn(r)),attrs:Object.assign(Object.assign(Object.assign({},e.attrs),{"data-date":Rn(e.date)}),r.isToday?{"aria-current":"date"}:{}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function Ki(n){return!!(n.dayCellContent||oi("dayCellContent",n))}function ou(n){let{date:e,dateEnv:t,isMonthStart:i}=n,r=n.showDayNumber?t.format(e,i?n.monthStartFormat:au):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},n.dateMeta),{isMonthStart:i,dayNumberText:r}),n.renderProps)}class Ql extends P{render(){let{props:e}=this,{eventRange:t}=e;return g(kn,{tag:"div",className:"fc-bg-event",style:{backgroundColor:t.ui.backgroundColor},defaultGenerator:cu,eventRange:t,isStart:e.isStart,isEnd:e.isEnd,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function cu(n){let{title:e}=n.event;return e&&g("div",{className:"fc-event-title"},n.event.title)}function Zl(n){return g("div",{className:`fc-${n}`})}const $l=n=>g(Ue.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,s=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),a=t.format(r,s);return g(oe,Object.assign({},n,{renderProps:{num:l,text:a,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:dl,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))}),qn=10,du=1;class uu extends P{constructor(){super(...arguments),this.closeRef=V(),this.focusStartRef=V(),this.focusEndRef=V(),this.titleId=Qi(),this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&C(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Nl(e);this.rootEl.contains(t)||this.handleClose()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleClose()},this.handleClose=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i}=this;return eo(g("div",Object.assign({},i.attrs,{id:i.id,role:"dialog","aria-labelledby":this.titleId,className:A(i.className,"fc-popover",e.getClassName("popover")),ref:this.handleRootEl}),g("div",{tabIndex:0,style:{outline:"none"},ref:this.focusStartRef}),g("div",{className:"fc-popover-header "+e.getClassName("popoverHeader")},g("div",{className:"fc-popover-title",id:this.titleId},i.title),g("div",Object.assign({role:"button","aria-label":t.closeHint,className:"fc-popover-close "+e.getIconClass("close")},Ci(this.handleClose),{ref:this.closeRef}))),g("div",{className:"fc-popover-body "+e.getClassName("popoverContent")},i.children),g("div",{tabIndex:0,style:{outline:"none"},ref:this.focusEndRef})),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.focusStartRef.current.addEventListener("focus",this.handleClose),this.focusEndRef.current.addEventListener("focus",this.handleClose),this.closeRef.current.focus({preventScroll:!0}),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.focusStartRef.current.removeEventListener("focus",this.handleClose),this.focusEndRef.current.removeEventListener("focus",this.handleClose)}updateSize(){let{isRtl:e}=this.context,{alignEl:t,alignParentTop:i}=this.props,{rootEl:r}=this,s=Bd(t);if(s){let l=r.getBoundingClientRect(),a=i?t.closest(i).getBoundingClientRect().top-du:s.top,o=e?s.right-l.width:s.left;a=Math.max(a,qn),o=Math.min(o,document.documentElement.clientWidth-qn-l.width),o=Math.max(o,qn);let c=r.offsetParent.getBoundingClientRect();rn(r,{top:a-c.top,left:o-c.left})}}}class fu extends We{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:l}=i,a=Pt(r,s,null,l),o=t.format(r,e.dayPopoverFormat);return g(Ji,{elRef:this.handleRootEl,date:r,dateMeta:a},(c,u,d)=>g(uu,{elRef:d.ref,id:i.id,title:o,attrs:d,className:A(d.className,"fc-more-popover"),parentEl:i.parentEl,alignEl:i.alignEl,alignParentTop:i.alignParentTop,onClose:i.onClose},Ki(e)&&g(c,{tag:"div",className:"fc-more-popover-misc"}),i.children))}queryHit(e,t,i,r){let{rootEl:s,props:l}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.dateSpanProps),getDayEl:()=>s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class Xl extends P{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Qi()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&C(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{dateEnv:r,options:s}=i,{moreLinkClick:l}=s,a=ls(t).start;function o(c){let{def:u,instance:d,range:h}=c.eventRange;return{event:new z(i,u,d),start:r.toDate(h.start),end:r.toDate(h.end),isStart:c.isStart,isEnd:c.isEnd}}typeof l=="function"&&(l=l({date:r.toDate(a),allDay:!!t.allDayDate,allSegs:t.segs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!l||l==="popover"?this.setState({isPopoverOpen:!0}):typeof l=="string"&&i.calendarApi.zoomTo(a,l)},this.handlePopoverClose=()=>{this.linkEl&&this.linkEl.focus(),this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return g(Ue.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:l}=i,{moreLinkText:a}=s,o=e.hiddenSegs.length,c=ls(e),u=typeof a=="function"?a.call(l,o):`+${o} ${a}`,d=St(s.moreLinkHint,[o],u),h={num:o,shortText:`+${o}`,text:u,view:r};return g(H,null,!!o&&g(oe,{tag:"div",elRef:this.handleLinkEl,className:A(e.className,"fc-more-link"),style:e.style,attrs:Object.assign(Object.assign(Object.assign({},e.attrs),Ci(this.handleClick)),{title:d,role:"button","aria-haspopup":"dialog","aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:void 0}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||hu,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&g(fu,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,dateSpanProps:e.dateSpanProps,parentEl:this.parentEl,alignEl:e.alignElRef?e.alignElRef.current:this.linkEl,alignParentTop:e.alignParentTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=this.linkEl.closest(".fc-view-outer"))}}function hu(n){return n.text}function ls(n){return n.allDayDate?{start:n.allDayDate,end:Q(n.allDayDate,1)}:{start:Ll(n.hiddenSegs),end:jd(n.hiddenSegs)}}class gu{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class pu extends gu{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}class Jl extends P{constructor(){super(...arguments),this.rootElRef=V()}render(){const{props:e}=this;return g("div",{ref:this.rootElRef,className:A("fc-footer-scrollbar",e.isSticky&&"fc-footer-scrollbar-sticky")},g(Se,{horizontal:!0,ref:e.scrollerRef},g("div",{style:{minWidth:e.canvasWidth}})))}componentDidMount(){this.disconnectHeight=vt(this.rootElRef.current,e=>{C(this.props.scrollbarWidthRef,e)})}componentWillUnmount(){this.disconnectHeight(),C(this.props.scrollbarWidthRef,null)}}const mu=[],Kl={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",eventsHint:"Events",allDayText:"all-day",timedText:"timed",moreLinkText:"more",noEventsText:"No events to display"},ea=Object.assign(Object.assign({},Kl),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",viewChangeHint:"Change view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function vu(n){let e=n.length>0?n[0].code:"en",t=mu.concat(n),i={en:ea};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function ta(n,e){return typeof n=="object"&&!Array.isArray(n)?na(n.code,[n.code],n):yu(n,e)}function yu(n,e){let t=[].concat(n||[]),i=bu(t,e)||ea;return na(n,t,i)}function bu(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function na(n,e,t){let i=ki([Kl,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function me(n){return{id:Ye(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollerSyncerClass:n.scrollerSyncerClass||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function Eu(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollerSyncerClass:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let l of s){const a=l.name,o=t[a];o===void 0?(t[a]=l.id,r(l.deps),i=Du(i,l)):o!==l.id&&console.warn(`Duplicate plugin '${a}'`)}}return n&&r(n),r(e),i}function Su(){let n=[],e=[],t;return(i,r)=>((!t||!Ke(i,n)||!Ke(r,e))&&(t=Eu(i,r)),n=i,e=r,t)}function Du(n,e){return{premiumReleaseDate:wu(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollerSyncerClass:n.scrollerSyncerClass||e.scrollerSyncerClass,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function wu(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ze extends It{}ze.prototype.classes={root:"fc-theme-standard",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ze.prototype.baseIconClass="fc-icon";ze.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ze.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ze.prototype.iconOverrideOption="buttonIcons";ze.prototype.iconOverrideCustomButtonOption="icon";ze.prototype.iconOverridePrefix="fc-icon-";function Au(n,e){let t={},i;for(i in n)bi(i,t,n,e);for(i in e)bi(i,t,n,e);return t}function bi(n,e,t,i){if(e[n])return e[n];let r=_u(n,e,t,i);return r&&(e[n]=r),r}function _u(n,e,t,i){let r=t[n],s=i[n],l=u=>r&&r[u]!==null?r[u]:s&&s[u]!==null?s[u]:null,a=l("component"),o=l("superType"),c=null;if(o){if(o===n)throw new Error("Can't have a custom view type that references itself");c=bi(o,e,t,i)}return!a&&c&&(a=c.component),a?{type:n,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function as(n){return Ce(n,Tu)}function Tu(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=os(e):t&&!(t.prototype instanceof P)&&(t=os(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function os(n){return e=>g(Ue.Consumer,null,t=>g(oe,{tag:"div",className:ul(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function Ru(n,e,t,i){let r=as(n),s=as(e.views),l=Au(r,s);return Ce(l,a=>Cu(a,s,e,t,i))}function Cu(n,e,t,i,r){let s=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,a="",o="",c={};if(s&&(l=xu(s),l)){let h=li(l);a=h.unit,h.value===1&&(o=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let f=h.buttonText||{},m=n.defaults.buttonTextKey;return m!=null&&f[m]!=null?f[m]:f[n.type]!=null?f[n.type]:f[o]!=null?f[o]:null},d=h=>{let f=h.buttonHints||{},m=n.defaults.buttonTextKey;return m!=null&&f[m]!=null?f[m]:f[n.type]!=null?f[n.type]:f[o]!=null?f[o]:null};return{type:n.type,component:n.component,duration:l,durationUnit:a,singleUnit:o,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:u(i)||u(t)||n.overrides.buttonText,buttonTextDefault:u(r)||n.defaults.buttonText||u(Dt)||n.type,buttonTitleOverride:d(i)||d(t)||n.overrides.buttonHint,buttonTitleDefault:d(r)||n.defaults.buttonHint||d(Dt)}}let cs={};function xu(n){let e=JSON.stringify(n),t=cs[e];return t===void 0&&(t=L(n),cs[e]=t),t}function Iu(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function Mu(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function Ou(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function Nu(n,e,t){let i=e?e.activeRange:null;return ra({},Uu(n,t),i,t)}function ku(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return ra(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return Hu(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?sa(n,r,i):n;case"FETCH_EVENT_SOURCES":return er(n,e.sourceIds?rl(e.sourceIds):la(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Yu(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function Pu(n,e,t){let i=e?e.activeRange:null;return er(n,la(n,t),i,!0,t)}function ia(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function ra(n,e,t,i){let r={};for(let s of e)r[s.sourceId]=s;return t&&(r=sa(r,t,i)),Object.assign(Object.assign({},n),r)}function Hu(n,e){return et(n,t=>t.sourceId!==e)}function sa(n,e,t){return er(n,et(n,i=>Bu(i,e,t)),e,!1,t)}function Bu(n,e,t){return aa(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function er(n,e,t,i,r){let s={};for(let l in n){let a=n[l];e[l]?s[l]=Lu(a,t,i,r):s[l]=a}return s}function Lu(n,e,t,i){let{options:r,calendarApi:s}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],a=Ye();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},o=>{let{rawEvents:c}=o;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(s,c,o.response)||c),n.success&&(c=n.success.call(s,c,o.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},o=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,o),c=!0),n.failure&&(n.failure(o),c=!0),c||console.warn(o.message,o),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:e,error:o})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}function Yu(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function la(n,e){return et(n,t=>aa(t,e))}function Uu(n,e){let t=El(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let s of i){let l=bl(s,e,t);l&&r.push(l)}return r}function aa(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Wu(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function zu(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function ju(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Fu(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Vu(n,e,t,i,r){let s=n.headerToolbar?ds(n.headerToolbar,n,e,t,i,r):null,l=n.footerToolbar?ds(n.footerToolbar,n,e,t,i,r):null;return{header:s,footer:l}}function ds(n,e,t,i,r,s){let l=e.direction==="rtl",a=[],o=!1;function c(d){let h=Gu(d,e,t,i,r,s);return a.push(...h.viewsWithButtons),o=o||h.hasTitle,h.widgets}return{sectionWidgets:{start:c(n[l?"right":"left"]||n.start||""),center:c(n.center||""),end:c(n[l?"left":"right"]||n.end||"")},viewsWithButtons:a,hasTitle:o}}function Gu(n,e,t,i,r,s){let l=e.direction==="rtl",a=e.customButtons||{},o=t.buttonText||{},c=e.buttonText||{},u=t.buttonHints||{},d=e.buttonHints||{},h=n?n.split(" "):[],f=[],m=!1;return{widgets:h.map(v=>v.split(",").map(b=>{if(b==="title")return m=!0,{buttonName:b};let S,w,D,M,I,x,k=!1;if(S=a[b])D=_=>{S.click&&S.click.call(_.target,_,_.target)},(M=i.getCustomButtonIconClass(S))||(M=i.getIconClass(b,l))||(I=S.text),x=S.hint||S.text;else if(w=r[b]){k=!0,f.push(b),D=()=>{s.changeView(b)},(I=w.buttonTextOverride)||(M=i.getIconClass(b,l))||(I=w.buttonTextDefault);let _=w.buttonTextOverride||w.buttonTextDefault;x=St(w.buttonTitleOverride||w.buttonTitleDefault||e.viewHint,[_,b],_)}else if(s[b])if(D=()=>{s[b]()},(I=o[b])||(M=i.getIconClass(b,l))||(I=c[b]),b==="prevYear"||b==="nextYear"){let _=b==="prevYear"?"prev":"next";x=St(u[_]||d[_],[c.year||"year","year"],c[b])}else x=_=>St(u[b]||d[b],[c[_]||_,_],c[b]);return{buttonName:b,buttonClick:D,buttonIcon:M,buttonText:I,buttonHint:x,isView:k}})),viewsWithButtons:f,hasTitle:m}}class qu{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Qu={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const Zu=me({name:"array-event-source",eventSourceDefs:[Qu]});let $u={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;md(r.bind(null,Rl(n.range,i)),s=>e({rawEvents:s}),t)}};const Xu=me({name:"func-event-source",eventSourceDefs:[$u]}),Ju={method:String,extraParams:y,startParam:String,endParam:String,timeZoneParam:String};let Ku={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=tf(i,n.range,n.context);vd(i.method,i.url,r).then(([s,l])=>{e({rawEvents:s,response:l})},t)}};const ef=me({name:"json-event-source",eventSourceRefiners:Ju,eventSourceDefs:[Ku]});function tf(n,e,t){let{dateEnv:i,options:r}=t,s,l,a,o,c={};return s=n.startParam,s==null&&(s=r.startParam),l=n.endParam,l==null&&(l=r.endParam),a=n.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof n.extraParams=="function"?o=n.extraParams():o=n.extraParams||{},Object.assign(c,o),c[s]=i.formatIso(e.start),c[l]=i.formatIso(e.end),i.timeZone!=="local"&&(c[a]=i.timeZone),c}const nf={daysOfWeek:y,startTime:L,endTime:L,duration:L,startRecur:y,endRecur:y};let rf={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=Oo(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=tt(e,{start:n.startRecur,end:n.endRecur});return i?lf(n.daysOfWeek,n.startTime,i,t):[]}};const sf=me({name:"simple-recurring-event",recurringTypes:[rf],eventRefiners:nf});function lf(n,e,t,i){let r=n?rl(n):null,s=U(t.start),l=t.end,a=[];for(;s<l;){let o;(!r||r[s.getUTCDay()])&&(e?o=i.add(s,e):o=s,a.push(o)),s=Q(s,1)}return a}const af=me({name:"change-handler",optionChangeHandlers:{events(n,e){us([n],e)},eventSources:us}});function us(n,e){let t=sl(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let s=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),s=!0;break}s||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function of(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Rl(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function cf(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",qe(n,e))}const df=[Zu,Xu,ef,sf,af,me({name:"misc",isLoadingFuncs:[n=>ia(n.eventSources)],propSetHandlers:{dateProfile:of,eventStore:cf}})];class uf{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new on(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function ff(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,W(e.titleFormat||hf(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function hf(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=cn(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class gf{constructor(e){this.computeCurrentViewData=T(this._computeCurrentViewData),this.organizeRawLocales=T(vu),this.buildLocale=T(ta),this.buildPluginHooks=Su(),this.buildDateEnv=T(pf),this.buildTheme=T(mf),this.parseToolbars=T(Vu),this.buildViewSpecs=T(Ru),this.buildDateProfileGenerator=tn(vf),this.buildViewApi=T(yf),this.buildViewUiProps=tn(Sf),this.buildEventUiBySource=T(bf,gt),this.buildEventUiBases=T(Ef),this.parseContextBusinessHours=tn(Df),this.buildTitle=T(ff),this.emitter=new Ot,this.actionRunner=new uf(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let l=Oc(i.calendarOptions,i.dateEnv),a=s.dateProfileGenerator.build(l);De(a.activeRange,l)||(l=a.currentRange.start);let o={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of i.pluginHooks.contextInit)h(o);let c=Nu(i.calendarOptions,a,o),u={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:a,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:ge(),renderableEventStore:ge(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let h of i.pluginHooks.reducers)Object.assign(u,h(null,null,d));Qn(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,s=Mu(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),a=Iu(i.currentViewType,e),o=this.computeCurrentViewData(a,l,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(o.options);let c={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=i;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(d=o.dateProfileGenerator.build(u)),u=Mc(u,e),d=Ou(d,e,u,o.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!De(d.currentRange,u))&&(u=d.currentRange.start);let h=ku(i.eventSources,e,d,c),f=Vc(i.eventStore,e,h,d,c),p=ia(h)&&!o.options.progressiveEventRendering&&i.renderableEventStore||f,{eventUiSingleBase:v,selectionConfig:b}=this.buildViewUiProps(c),S=this.buildEventUiBySource(h),w=this.buildEventUiBases(p.defs,v,S),D={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:p,selectionConfig:b,eventUiBases:w,businessHours:this.parseContextBusinessHours(c),dateSelection:Wu(i.dateSelection,e),eventSelection:zu(i.eventSelection,e),eventDrag:ju(i.eventDrag,e),eventResize:Fu(i.eventResize,e)},M=Object.assign(Object.assign({},c),D);for(let k of l.pluginHooks.reducers)Object.assign(D,k(i,e,M));let I=Qn(i,c),x=Qn(D,c);!I&&x?r.trigger("loading",!0):I&&!x&&r.trigger("loading",!1),this.state=D,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),a=r.pluginHooks.optionChangeHandlers,o=i&&i.calendarOptions,c=r.calendarOptions;if(o&&o!==c){o.timeZone!==c.timeZone&&(t.eventSources=l.eventSources=Pu(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=Zr(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=Zr(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||o[u]!==c[u])&&a[u](c[u],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:l,availableLocaleData:a,extra:o}=this.processRawCalendarOptions(e,t);fs(o);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,a,r.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),d=this.buildTheme(r,s),h=this.parseToolbars(r,this.stableOptionOverrides,d,u,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:l,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=jn([Dt,e,t]),s=this.organizeRawLocales(i),l=s.map,a=this.buildLocale(r||s.defaultCode,l).options,o=this.buildPluginHooks(e.plugins||[],df),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr),jr),Fr),o.listenerRefiners),o.optionRefiners),u={},d=jn([Dt,a,e,t]),h={},f=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,p=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===f[v]||je[v]&&v in f&&je[v](f[v],d[v]))?h[v]=m[v]:c[v]?(h[v]=c[v](d[v]),p=!0):u[v]=f[v];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,i,r){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:a}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,i,r);fs(a);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:l,dateProfileGenerator:o,viewApi:c}}processRawViewOptions(e,t,i,r,s){let l=jn([Dt,e.optionDefaults,i,r,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zr),jr),Fr),dc),t.listenerRefiners),t.optionRefiners),o={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let f in l)l[f]===c[f]||je[f]&&je[f](l[f],c[f])?o[f]=u[f]:(l[f]===this.currentCalendarOptionsInput[f]||je[f]&&je[f](l[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(o[f]=this.currentCalendarOptionsRefined[f]):a[f]?o[f]=a[f](l[f]):h[f]=l[f],d=!0);return d&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function pf(n,e,t,i,r,s,l,a){let o=ta(e||l.defaultCode,l.map);return new bc({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:o,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function mf(n,e){let t=e.themeClasses[n.themeSystem]||ze;return new t(n)}function vf(n){let e=n.dateProfileGeneratorClass||gl;return new e(n)}function yf(n,e,t){return new qu(n,e,t)}function bf(n){return Ce(n,e=>e.ui)}function Ef(n,e,t){let i={"":e};for(let r in n){let s=n[r];s.sourceId&&t[s.sourceId]&&(i[r]=t[s.sourceId])}return i}function Sf(n){let{options:e}=n;return{eventUiSingleBase:pn({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:pn({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Qn(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function Df(n){return ed(n.options.businessHours,n)}function fs(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class wf extends P{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return g("div",{className:"fc-toolbar-section fc-toolbar-"+this.props.name},...e)}renderWidgetGroup(e){let{props:t,context:i}=this,{options:r,theme:s}=i,l=[],a=!0,o=!0;for(const c of e){const{buttonName:u,isView:d}=c;u==="title"?a=!1:d||(o=!1)}for(let c of e){let{buttonName:u,buttonClick:d,buttonText:h,buttonIcon:f,buttonHint:m}=c;if(u==="title")l.push(g("div",{role:"heading","aria-level":r.headingLevel,id:t.titleId,className:"fc-toolbar-title"},t.title));else{let p=u===t.activeButton,v=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next";l.push(g("button",Object.assign({type:"button",disabled:v},a&&o?{role:"tab","aria-selected":p}:{"aria-pressed":p},{"aria-label":typeof m=="function"?m(t.navUnit):m,className:A(`fc-${u}-button`,s.getClassName("button"),p&&s.getClassName("buttonActive")),onClick:d}),h||(f?g("span",{className:f,"aria-hidden":!0}):"")))}}return l.length>1?g("div",{role:a&&o?"tablist":void 0,"aria-label":a&&o?r.viewChangeHint:void 0,className:a?s.getClassName("buttonGroup"):void 0},...l):l[0]}}class hs extends P{render(){let{model:e,className:t}=this.props,{sectionWidgets:i}=e;return g("div",{className:A(t,"fc-toolbar")},this.renderSection("start",i.start),this.renderSection("center",i.center),this.renderSection("end",i.end))}renderSection(e,t){let{props:i}=this;return g(wf,{key:e,name:e,widgetGroups:t,title:i.title,titleId:i.titleId,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled})}}class Af extends yt{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:s}=r,l=pt(i);l&&r.isValidSegDownEl(t.target)&&s.emitter.trigger("eventClick",{el:i,event:new z(r.context,l.def,l.instance),jsEvent:t,view:s.viewApi})},this.destroy=el(e.el,"click",".fc-event",this.handleSegClick)}}class _f extends yt{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{pt(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=yo(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:s}=r,l=pt(i);(!t||r.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:i,event:new z(s,l.def,l.instance),jsEvent:t,view:s.viewApi})}}class Tf extends ae{render(){const{props:e}=this;return g("div",{className:A("fc-view-outer",e.height!=null?"fc-view-outer-static":e.heightLiquid?"fc-view-outer-liquid":e.aspectRatio!=null&&"fc-view-outer-aspect-ratio"),style:{height:e.height,paddingBottom:e.aspectRatio!=null?`${1/e.aspectRatio*100}%`:void 0}},e.children)}}class Rf extends st{constructor(){super(...arguments),this.buildViewContext=T(Dc),this.buildViewPropTransformers=T(xf),this.buildToolbarProps=T(Cf),this.interactionsStore={},this.viewTitleId=Qi(),this.registerInteractiveComponent=(e,t)=>{let i=Ad(e,t),s=[Af,_f];t.disableHits||(s=s.concat(this.props.pluginHooks.componentInteractions));let l=s.map(a=>new a(i));this.interactionsStore[e.uid]=l,pi[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete pi[e.uid]}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Mt(e.options.now,e.dateEnv),e.viewTitle),s,l=!1,a;e.forPrint||xe(i)||(i.height!=null?l=!0:i.contentHeight!=null?s=i.contentHeight:a=Math.max(i.aspectRatio,.5));let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return g(Ue.Provider,{value:o},t.header&&g(hs,Object.assign({className:"fc-header-toolbar",model:t.header,titleId:this.viewTitleId},r)),g(Tf,{height:s,heightLiquid:l,aspectRatio:a},this.renderView(e,r.title),this.buildAppendContent()),t.footer&&g(hs,Object.assign({className:"fc-footer-toolbar",model:t.footer},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e));let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return g(H,{},...t)}renderView(e,t){let{pluginHooks:i}=e,{viewSpec:r,toolbarConfig:s}=e,l={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,forPrint:e.forPrint,labelId:s.header&&s.header.hasTitle?this.viewTitleId:void 0,labelStr:s.header&&s.header.hasTitle?void 0:t},a=this.buildViewPropTransformers(i.viewPropsTransformers);for(let c of a)Object.assign(l,c.transform(l,e));let o=r.component;return g(o,Object.assign({},l))}}function Cf(n,e,t,i,r,s){let l=t.build(r,void 0,!1),a=t.buildPrev(e,i,!1),o=t.buildNext(e,i,!1);return{title:s,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!De(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:o.isValid}}function xf(n){return n.map(e=>new e)}class If extends Td{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Ec(()=>{_t(g(wd,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,l)=>(this.setClassNames(r),this.setHeight(s),g(cl.Provider,{value:this.customContentRenderId},g(Rf,Object.assign({forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,_t(null,this.el),this.setClassNames([]),this.setHeight(""))},fo(e),this.el=e,this.renderRunner=new on(this.handleRenderRequest),new gf({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Ke(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){Ol(this.el,"height",e)}}const Mf={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},rp=Hs({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(n){return{...n,customRenderingMetaMap:kf(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const n=[];for(const e of this.customRenderingMap.values())n.push(Xt(Of,{key:e.id,customRendering:e}));return Xt("div",{attrs:{"data-fc-render-id":this.renderId}},Xt(Ua,n))},mounted(){const n=new pu;this.handleCustomRendering=n.handle.bind(n);const e=this.buildOptions(this.options),t=new If(this.$el,e);this.calendar=t,t.render(),n.subscribe(i=>{this.customRenderingMap=i,this.renderId++})},beforeUpdate(){this.getApi().resumeRendering()},beforeUnmount(){this.getApi().destroy()},watch:Nf()}),Of=Hs({props:{customRendering:Object},render(){const n=this.customRendering,e=typeof n.generatorMeta=="function"?n.generatorMeta(n.renderProps):n.generatorMeta;return Xt(Wa,{to:n.containerEl},e)}});function Nf(){let n={options:{deep:!0,handler(e){let t=this.getApi();t.pauseRendering();let i=this.buildOptions(e);t.resetOptions(i),this.renderId++}}};for(let e in Mf)n[`options.${e}`]={deep:!0,handler(t){if(t!==void 0){let i=this.getApi();i.pauseRendering(),i.resetOptions({[e]:t},[e]),this.renderId++}}};return n}function kf(n){const e={};for(const t in n)e[Pf(t)]=n[t];return e}function Pf(n){return n.split("-").map((e,t)=>t?Hf(e):e).join("")}function Hf(n){return n.charAt(0).toUpperCase()+n.slice(1)}class oa extends zl{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}const Bf=W({weekday:"long"}),Lf=new Date(2592e5);function ca(...n){return[Yf(...n)]}function Yf(n,e,t,i,r,s,l){return{isDateRow:!0,renderConfig:Uf(s),dataConfigs:Wf(n,e,t,i,r,s,l)}}function Uf(n){const{options:e}=n;return{generatorName:"dayHeaderContent",customGenerator:e.dayHeaderContent,classNameGenerator:e.dayHeaderClassNames,didMount:e.dayHeaderDidMount,willUnmount:e.dayHeaderWillUnmount}}const da=[];for(let n=0;n<7;n++)da.push(Q(new Date(2592e5),n));function Wf(n,e,t,i,r,s,l=1,a="",o={},c={},u=""){const{dateEnv:d,viewApi:h,options:f}=s;return e?n.map(m=>{const p=Pt(m,i,null,t),v=d.format(m,r),b=Object.assign(Object.assign(Object.assign({},p),{date:d.toDate(m),view:h,text:v}),o),S=f.navLinks&&!p.isDisabled&&n.length>1,w=bt(s,m);return{key:a+m.toUTCString(),renderProps:b,attrs:Object.assign(Object.assign(Object.assign({"aria-label":w},p.isToday?{"aria-current":"date"}:{}),{"data-date":Rn(m)}),c),innerAttrs:S?mt(s,m,void 0,w):{"aria-hidden":!0},colSpan:l,isNavLink:S,className:A(u,vn(p))}}):n.map(m=>{const p=m.getUTCDay(),v=Q(Lf,p),b={dow:p,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},S=d.format(v,r),w=Object.assign(Object.assign(Object.assign({},b),{date:da[p],view:h,text:S}),o),D=d.format(v,Bf);return{key:a+String(p),renderProps:w,attrs:Object.assign({"aria-label":D},c),innerAttrs:{"aria-hidden":!0},colSpan:l,className:A(u,vn(b))}})}function Ge(n){return In(n)+":"+n.start+(n.standinFor?":standin":n.isSlice?":slice":"")}function Ft(n,e){const t=[];for(let i=0;i<e;i++)t[i]=[];for(const i of n)t[i.row].push(i);return t}function gs(n,e){const t=[];if(n){for(let i=0;i<e;i++)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(const i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i++)t[i]=null;return t}function ps(n,e){return Object.assign(Object.assign({},n),{start:e,end:e+1,isStart:n.isStart&&n.start===e,isEnd:n.isEnd&&n.end-1===e,standinFor:n})}const ua=W({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function fa(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.end-n.start===1&&n.isStart&&n.isEnd}class ha extends P{render(){let{props:e}=this;return g(Gl,Object.assign({},e,{className:"fc-daygrid-block-event fc-daygrid-event fc-h-event",defaultTimeFormat:ua,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.eventRange.def.allDay}))}}class ga extends P{render(){let{props:e,context:t}=this,{options:i}=t,{eventRange:r}=e,s=i.eventTimeFormat||ua,l=Vi(s,r,void 0,void 0,e.isStart,e.isEnd,t,!0,e.defaultDisplayEventEnd),[a,o]=Gi(r,t);return g(kn,Object.assign({},e,{tag:a,attrs:o,className:"fc-daygrid-dot-event fc-daygrid-event",defaultGenerator:zf,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function zf(n){return g(H,null,g("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&g("div",{className:"fc-event-time"},n.timeText),g("div",{className:"fc-event-title"},n.event.title||g(H,null,"Â ")))}class jf extends P{render(){let{props:e}=this;return g(Xl,{className:A("fc-daygrid-more-link",e.isBlock?"fc-daygrid-more-link-block":"fc-daygrid-more-link-button"),dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:e.alignElRef,alignParentTop:e.alignParentTop,dateSpanProps:e.dateSpanProps,popoverContent:()=>{let t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return g(H,null,e.segs.map(i=>{let{eventRange:r}=i,{instanceId:s}=r.instance;return g("div",{key:s,style:{visibility:t[s]?"hidden":""}},fa(i)?g(ga,Object.assign({eventRange:r,isStart:i.isStart,isEnd:i.isEnd,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Te(r,e.todayRange))):g(ha,Object.assign({eventRange:r,isStart:i.isStart,isEnd:i.isEnd,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Te(r,e.todayRange))))}))}})}}class Ff extends We{constructor(){super(...arguments),this.getDateMeta=T(Pt),this.rootElRef=V(),this.handleBodyEl=e=>{this.disconnectBodyHeight&&(this.disconnectBodyHeight(),this.disconnectBodyHeight=void 0,C(this.props.headerHeightRef,null),C(this.props.mainHeightRef,null)),e&&(this.disconnectBodyHeight=Nt(e,(t,i)=>{const{props:r}=this,s=e.getBoundingClientRect(),l=this.rootElRef.current.getBoundingClientRect(),a=s.top-l.top;fi(this.headerHeight,a)||(this.headerHeight=a,C(r.headerHeightRef,a)),r.fgLiquidHeight&&C(r.mainHeightRef,i)}))}}render(){let{props:e,context:t}=this,{options:i,dateEnv:r}=t;const s=e.showDayNumber&&Gf(e.date,e.dateProfile.currentRange,r),l=this.getDateMeta(e.date,e.todayRange,null,e.dateProfile),a=A("fc-daygrid-day",e.borderStart&&"fc-border-s",e.width!=null?"":"fc-liquid","fc-flex-col");if(l.isDisabled)return g("div",{role:"gridcell","aria-disabled":!0,className:A(a,"fc-day-disabled"),style:{width:e.width}});const o=e.showDayNumber||Ki(i),c=i.navLinks,u=bt(t,e.date);return g(Ji,{tag:"div",className:A(a,e.className),attrs:Object.assign(Object.assign({},e.attrs),{role:"gridcell","aria-label":u}),style:{width:e.width},elRef:this.rootElRef,renderProps:e.renderProps,defaultGenerator:Vf,date:e.date,dateMeta:l,showDayNumber:e.showDayNumber,isMonthStart:s},d=>g(H,null,o&&g("div",{className:"fc-daygrid-day-header"},g(d,{tag:"div",attrs:c?mt(t,e.date,void 0,u):{"aria-hidden":!0},className:A("fc-daygrid-day-number",s&&"fc-daygrid-month-start")})),g("div",{className:A("fc-daygrid-day-body",e.isTall&&"fc-daygrid-day-body-tall",e.fgLiquidHeight?"fc-liquid":"fc-grow"),ref:this.handleBodyEl},g("div",{className:"fc-daygrid-day-events",style:{height:e.fgHeight}},e.fg),g(jf,{isBlock:e.isCompact,allDayDate:e.date,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:this.rootElRef,alignParentTop:e.showDayNumber?"[role=row]":".fc-view",dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))))}}function Vf(n){return n.dayNumberText||g(H,null,"Â ")}function Gf(n,e,t){const{start:i,end:r}=e,s=Le(r,-1),l=t.getYear(i),a=t.getMonth(i),o=t.getYear(s),c=t.getMonth(s);return!(l===o&&a===c)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function qf(n,e,t,i,r,s=!0,l,a){let o,c,u;l===!0||a===!0?(o=i,u=!0):typeof l=="number"?(c=l,u=!1):typeof a=="number"&&(c=a,u=!0);const d=new Map,h=new Map,f=new Map,m=new Map;let p=new vi(n,D=>e.get(Ge(D)),r,o,c,u,s);p.traverseSegs((D,M)=>{Zn(d,D),f.set(Ge(D),M),D.isSlice&&m.set(D.eventRange,!0)});for(const D of p.hiddenSegs)Zn(h,D);if(m.size){f.clear(),p=new vi(Qf(n,d),D=>e.get(Ge(D)),r,o,c,u),p.traverseSegs((D,M)=>{f.set(Ge(D),M)});for(const D of p.hiddenSegs)Zn(h,D)}const v=[],b=[],S=[],w=[];for(let D=0;D<t.length;D++)v.push([]),b.push([]),S.push([]),w.push(0);for(const D of n){const{eventRange:M}=D,I=d.get(M)||[],x=h.get(M)||[],k=m.get(M)||!1;if(S[D.start].push(D),k)for(const _ of I)S[_.start].push(_);for(const _ of I){for(let K=_.start;K<_.end;K++){const Z=ps(_,K);v[K].push(Z)}const O=Ge(_),j=f.get(O);if(j!=null){const K=e.get(O);for(let Z=_.start;Z<_.end;Z++)w[Z]=Math.max(w[Z],j+K)}}for(const _ of x)for(let O=_.start;O<_.end;O++){const j=ps(_,O);v[O].push(j),b[O].push(j)}}return[v,b,S,f,w]}function Zn(n,e){let t=n.get(e.eventRange);t||n.set(e.eventRange,t=[]),t.push(e)}function Qf(n,e){const t=[];for(const i of n)t.push(...e.get(i.eventRange)||[]);return t}function Zf(n,e){let t=new Yl(n.renderRange,e);return new Ul(t,/year|month|week/.test(n.currentRangeUnit))}function pa(n,e,t){return t==null?[void 0,void 0]:t/n<e?[e*n,e]:[t,void 0]}function $f(n,e,t,i=0){let r=0;for(const s of e){const l=s[0].date,a=s[s.length-1].date,o=l.toISOString();if(n>=l&&n<=a)return r;const c=t.get(o);if(c==null)return;r+=c+i}return r}function ms(n,e,t,i){let r,s;if(e!=null)r=n.start*e,s=(t-n.end)*e;else{const l=1/t;r=hn(n.start*l),s=hn(1-n.end*l)}return i?{right:r,left:s}:{left:r,right:s}}function tr(n,e,t,i,r){const s=t??e/i,l=Math.floor(n/s),a=r?i-l-1:l,o=l*s,c=o+s;return{col:a,left:o,right:c}}function Xf(n,e,t){let i=0,r=0,s=0;for(const l of e){const a=l[0].key;if(r=s,s=r+t.get(a),n<s)break;i++}return{row:i,top:r,bottom:s}}function Jf(n,e){return n.querySelectorAll("[role=row]")[e]}function nr(n,e){return n.querySelectorAll("[role=gridcell]")[e]}function ma(n,e,t){return n||Kf(e,t)}function Kf(n,e){return!n||e>10?W({weekday:"short"}):e>1?W({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):W({weekday:"long"})}class eh extends ae{constructor(){super(...arguments),this.rootElRef=V()}render(){const{props:e}=this;return g("div",{className:A(e.className,"fc-abs"),style:e.style,ref:this.rootElRef},e.children)}componentDidMount(){const e=this.rootElRef.current;this.disconnectHeight=vt(e,t=>{C(this.props.heightRef,t)})}componentWillUnmount(){this.disconnectHeight(),C(this.props.heightRef,null)}}const th=W({week:"narrow"});class va extends P{constructor(){super(...arguments),this.headerHeightRefMap=new X(()=>{q(this.handleSegPositioning)}),this.mainHeightRefMap=new X(()=>{(this.props.dayMaxEvents===!0||this.props.dayMaxEventRows===!0)&&q(this.handleSegPositioning)}),this.segHeightRefMap=new X(()=>{q(this.handleSegPositioning)}),this.handleRootEl=e=>{this.rootEl=e,C(this.props.rootElRef,e)},this.handleSegPositioning=()=>{this.forceUpdate()}}render(){const{props:e,context:t,headerHeightRefMap:i,mainHeightRefMap:r}=this,{cells:s}=e,{options:l}=t,a=e.cells[0].date,o=e.dayMaxEvents===!0||e.dayMaxEventRows===!0,c=Fi(e.fgEventSegs,l.eventOrder),[u,d]=this.computeFgDims(),[h,f,m,p,v]=qf(c,this.segHeightRefMap.current,s,o?d:void 0,l.eventOrderStrict,l.eventSlicing,e.dayMaxEvents,e.dayMaxEventRows),b=[];if(u!=null){let x=0;for(const k of s){const _=i.current.get(k.key),O=u-_;b.push(v[x++]+O)}}const S=this.getHighlightSegs(),w=this.getMirrorSegs(),D=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},M=l.navLinks,I=bt(t,a,"week");return g("div",{role:e.role,"aria-label":e.role==="row"?I:void 0,className:A("fc-daygrid-row",e.forPrint&&"fc-daygrid-row-print","fc-flex-row fc-rel",e.className),style:{"flex-basis":e.basis},ref:this.handleRootEl},e.showWeekNumbers&&g($l,{tag:"div",attrs:Object.assign(Object.assign({},M?mt(t,a,"week",I,!1):{}),{role:void 0,"aria-hidden":!0}),className:"fc-daygrid-week-number",date:a,defaultFormat:th}),this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(S,"highlight"),e.cells.map((x,k)=>{const _=this.renderFgSegs(u,m[k],p,e.todayRange,D);return g(Ff,{key:x.key,dateProfile:e.dateProfile,todayRange:e.todayRange,date:x.date,showDayNumber:e.showDayNumbers,isCompact:e.isCompact,isTall:e.isTall,borderStart:!!k,segs:h[k],hiddenSegs:f[k],fgLiquidHeight:o,fg:g(H,null,_),eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,renderProps:x.renderProps,dateSpanProps:x.dateSpanProps,attrs:x.attrs,className:x.className,fgHeight:b[k],width:e.colWidth,headerHeightRef:i.createRef(x.key),mainHeightRef:r.createRef(x.key)})}),this.renderFgSegs(u,w,p,e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1))}renderFgSegs(e,t,i,r,s,l,a,o){var c;const{props:u,context:d,segHeightRefMap:h}=this,{isRtl:f}=d,{colWidth:m,eventSelection:p}=u,v=u.cells.length,b=u.cells.length===1,S=l||a||o,w=[];for(const D of t){const M=Ge(D),{standinFor:I,eventRange:x}=D,{instanceId:k}=x.instance;if(I)continue;const{left:_,right:O}=ms(D,m,v,f),j=(c=i.get(I?Ge(I):M))!==null&&c!==void 0?c:S?0:void 0,K=e!=null&&j!=null?e+j:void 0,Z=I||s[k]||K==null;w.push(g(eh,{key:M,className:D.start?"fc-border-transparent fc-border-s":"",style:{visibility:Z?"hidden":"",top:K,left:_,right:O},heightRef:!I&&!S?h.createRef(M):null},fa(D)?g(ga,Object.assign({eventRange:x,isStart:D.isStart,isEnd:D.isEnd,isDragging:l,isSelected:k===p,defaultDisplayEventEnd:b},Te(x,r))):g(ha,Object.assign({eventRange:x,isStart:D.isStart,isEnd:D.isEnd,isDragging:l,isResizing:a,isDateSelecting:o,isSelected:k===p,defaultDisplayEventEnd:b},Te(x,r)))))}return w}renderFillSegs(e,t){const{props:i,context:r}=this,{isRtl:s}=r,{todayRange:l,colWidth:a}=i,o=i.cells.length,c=[];for(const u of e){const d=Tl(u.eventRange),{left:h,right:f}=ms(u,a,o,s),m=!u.standinFor;c.push(g("div",{key:d,className:"fc-fill-y",style:{visibility:m?"":"hidden",left:h,right:f}},t==="bg-event"?g(Ql,Object.assign({eventRange:u.eventRange,isStart:u.isStart,isEnd:u.isEnd},Te(u.eventRange,l))):Zl(t)))}return g(H,{},...c)}componentDidMount(){const{rootEl:e}=this;this.disconnectHeight=vt(e,t=>{C(this.props.heightRef,t)})}componentWillUnmount(){this.disconnectHeight(),C(this.props.heightRef,null)}computeFgDims(){const{cells:e}=this.props,t=this.headerHeightRefMap.current,i=this.mainHeightRefMap.current;let r,s;for(const l of e){const a=t.get(l.key),o=i.get(l.key);if(a!=null&&((r===void 0||a>r)&&(r=a),o!=null)){const c=a+o;(s===void 0||c<s)&&(s=c)}}return[r,s!=null&&r!=null?s-r:void 0]}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}}class ya extends We{constructor(){super(...arguments),this.splitBusinessHourSegs=T(Ft),this.splitBgEventSegs=T(Ft),this.splitFgEventSegs=T(Ft),this.splitDateSelectionSegs=T(Ft),this.splitEventDrag=T(gs),this.splitEventResize=T(gs),this.rowHeightRefMap=new X((e,t)=>{const{rowHeightRefMap:i}=this.props;i&&i.handleValue(e,t)}),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t,rowHeightRefMap:i}=this,{options:r}=t,s=e.cellRows.length,l=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitBusinessHourSegs(e.businessHourSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),d=this.splitEventResize(e.eventResize,s),h=xe(r),f=!e.forPrint&&!h,m=ih(e.visibleWidth,s,h,r),p=ir(e.visibleWidth,r);return g("div",{role:"rowgroup",className:A(!e.forPrint&&"fc-flex-col",e.className),style:{width:e.width},ref:this.handleRootEl},e.cellRows.map((v,b)=>g(va,{key:v[0].key,role:"row",dateProfile:e.dateProfile,todayRange:e.todayRange,cells:v,showDayNumbers:s>1,showWeekNumbers:s>1&&r.weekNumbers,forPrint:e.forPrint,isCompact:p,className:A(f&&"fc-grow",s>1&&"fc-break-inside-avoid",b<s-1&&"fc-border-b"),fgEventSegs:l[b],bgEventSegs:a[b].filter(nh),businessHourSegs:o[b],dateSelectionSegs:c[b],eventSelection:e.eventSelection,eventDrag:u[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:e.colWidth,basis:m,heightRef:i.createRef(v[0].key)})))}queryHit(e,t,i){const{props:r,context:s}=this,l=r.cellRows[0].length,{col:a,left:o,right:c}=tr(e,i,r.colWidth,l,s.isRtl),{row:u,top:d,bottom:h}=Xf(t,r.cellRows,this.rowHeightRefMap.current),f=r.cellRows[u][a],m=f.date,p=Q(m,1);return{dateProfile:r.dateProfile,dateSpan:Object.assign({range:{start:m,end:p},allDay:!0},f.dateSpanProps),getDayEl:()=>nr(Jf(this.rootEl,u),a),rect:{left:o,right:c,top:d,bottom:h},layer:0}}}function nh(n){return n.eventRange.def.allDay}function ih(n,e,t,i){if(n!=null){const r=n/i.aspectRatio/6;return e>6||t?r:0}return 0}function ir(n,e){return n!=null?n/e.aspectRatio/6<70:!1}class rh extends P{constructor(){super(...arguments),this.handleInnerEl=e=>{this.disconectInnerHeight&&(this.disconectInnerHeight(),this.disconectInnerHeight=void 0),e?this.disconectInnerHeight=vt(e,t=>{C(this.props.innerHeightRef,t)}):C(this.props.innerHeightRef,null)}}render(){const{props:e}=this,{renderConfig:t,dataConfig:i}=e,r=i.renderProps.isDisabled;return g(oe,{tag:"div",attrs:Object.assign({role:"columnheader","aria-colspan":i.colSpan},i.attrs),className:A("fc-header-cell fc-cell fc-flex-col fc-align-center",e.borderStart&&"fc-border-s",!e.isSticky&&"fc-crop",e.colWidth==null&&"fc-liquid",i.className),style:{width:e.colWidth!=null?e.colWidth*(i.colSpan||1):void 0},renderProps:i.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:dl,classNameGenerator:r?void 0:t.classNameGenerator,didMount:t.didMount,willUnmount:t.willUnmount},s=>g(s,{tag:"div",attrs:i.innerAttrs,className:A("fc-cell-inner fc-flex-col fc-padding-sm",e.isSticky&&"fc-sticky-s"),elRef:this.handleInnerEl}))}}class rr extends P{constructor(){super(...arguments),this.innerHeightRefMap=new X(()=>{q(this.handleInnerHeights)}),this.handleInnerHeights=()=>{const e=this.innerHeightRefMap.current;let t=0;for(const i of e.values())t=Math.max(t,i);this.currentInnerHeight!==t&&(this.currentInnerHeight=t,C(this.props.innerHeightRef,t))}}render(){const{props:e}=this;return g("div",{role:e.role,"aria-rowindex":e.rowIndex!=null?1+e.rowIndex:void 0,className:A("fc-flex-row fc-content-box",e.className),style:{height:e.height}},e.dataConfigs.map((t,i)=>g(rh,{key:t.key,renderConfig:e.renderConfig,dataConfig:t,isSticky:e.isSticky,borderStart:!!i,colWidth:e.colWidth,innerHeightRef:e.innerHeightRef})))}componentWillUnmount(){C(this.props.innerHeightRef,null)}}class ba extends P{render(){const{props:e}=this;return g("div",{role:"rowgroup",className:A(e.className,"fc-flex-col",e.width==null&&"fc-liquid"),style:{width:e.width}},e.headerTiers.map((t,i)=>g(rr,Object.assign({},t,{key:i,role:"row",className:i?"fc-border-t":"",colWidth:e.colWidth}))))}}class sh extends P{constructor(){super(...arguments),this.handleScroller=e=>{C(this.props.scrollerRef,e)},this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:t,context:i}=this,{options:r}=i,{totalWidth:s,clientWidth:l}=t,a=s!=null&&l!=null?s-l:void 0,o=!e.forPrint&&!xe(r),c=!e.forPrint&&kt(r);return g(H,null,r.dayHeaders&&g("div",{className:A(e.forPrint?"fc-print-header":"fc-flex-row",c&&"fc-table-header-sticky","fc-border-b")},g(ba,{headerTiers:e.headerTiers,className:"fc-daygrid-header"}),!!a&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:a}})),g(Se,{vertical:o,className:A("fc-daygrid-body",!e.forPrint&&"fc-flex-col",o&&"fc-liquid"),ref:this.handleScroller,clientWidthRef:this.handleClientWidth},g(ya,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:"fc-grow",dayMaxEvents:e.forPrint?void 0:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,visibleWidth:s,rowHeightRefMap:e.rowHeightRefMap})),g(On,{widthRef:this.handleTotalWidth}))}}class lh extends P{constructor(){super(...arguments),this.headerScrollerRef=V(),this.bodyScrollerRef=V(),this.footerScrollerRef=V(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:t,context:i}=this,{options:r}=i,{totalWidth:s,clientWidth:l}=t,a=s!=null&&l!=null?s-l:void 0,o=!e.forPrint&&!xe(r),c=!e.forPrint&&kt(r),u=!e.forPrint&&kl(r),d=e.cellRows[0].length,[h,f]=pa(d,e.dayMinWidth,l);return g(H,null,r.dayHeaders&&g("div",{className:A("fc-print-header",c&&"fc-table-header-sticky")},g(Se,{horizontal:!0,hideScrollbars:!0,className:"fc-daygrid-header fc-flex-row fc-border-b",ref:this.headerScrollerRef},g(ba,{headerTiers:e.headerTiers,colWidth:f,width:h}),!!a&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:a}}))),g(Se,{vertical:o,horizontal:!0,hideScrollbars:u||e.forPrint,className:A("fc-daygrid-body",!e.forPrint&&"fc-flex-col",o&&"fc-liquid"),ref:this.bodyScrollerRef,clientWidthRef:this.handleClientWidth},g(ya,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:"fc-grow",dayMaxEvents:e.forPrint?void 0:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,colWidth:f,width:h,visibleWidth:s,rowHeightRefMap:e.rowHeightRefMap})),!!u&&g(Jl,{isSticky:!0,canvasWidth:h,scrollerRef:this.footerScrollerRef}),g(On,{widthRef:this.handleTotalWidth}))}componentDidMount(){const e=Pl(this.context.pluginHooks);this.syncedScroller=new e(!0),C(this.props.scrollerRef,this.syncedScroller),this.updateSyncedScroller()}componentDidUpdate(){this.updateSyncedScroller()}componentWillUnmount(){this.syncedScroller.destroy()}updateSyncedScroller(){this.syncedScroller.handleChildren([this.headerScrollerRef.current,this.bodyScrollerRef.current,this.footerScrollerRef.current])}}class ah extends P{constructor(){super(...arguments),this.scrollerRef=V(),this.rowHeightRefMap=new X(()=>{q(this.updateScrollY)}),this.scrollDate=null,this.updateScrollY=()=>{const e=this.rowHeightRefMap.current,t=this.scrollerRef.current;if(t&&this.scrollDate){let i=$f(this.scrollDate,this.props.cellRows,e,1);i!=null&&(i&&i++,t.scrollTo({y:i}))}},this.handleScrollEnd=e=>{e&&(this.scrollDate=null)}}render(){const{props:e,context:t}=this,{options:i}=t,r=Object.assign(Object.assign({},e),{scrollerRef:this.scrollerRef,rowHeightRefMap:this.rowHeightRefMap});return g(Hi,{viewSpec:t.viewSpec,attrs:{role:"grid","aria-rowcount":e.headerTiers.length+e.cellRows.length,"aria-colcount":e.cellRows[0].length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:A(e.className,"fc-print-root fc-border")},i.dayMinWidth?g(lh,Object.assign({},r,{dayMinWidth:i.dayMinWidth})):g(sh,Object.assign({},r)))}componentDidMount(){this.resetScroll(),this.scrollerRef.current.addScrollEndListener(this.handleScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset&&this.resetScroll()}componentWillUnmount(){this.scrollerRef.current.removeScrollEndListener(this.handleScrollEnd)}resetScroll(){this.scrollDate=this.props.dateProfile.currentDate,this.updateScrollY(),this.scrollerRef.current.scrollTo({x:0})}}class oh extends P{constructor(){super(...arguments),this.buildDayTableModel=T(Zf),this.buildDateRowConfigs=T(ca),this.createDayHeaderFormatter=T(ma),this.slicer=new oa}render(){const{props:e,context:t}=this,{options:i}=t,r=this.buildDayTableModel(e.dateProfile,t.dateProfileGenerator),s=r.rowCnt===1,l=this.createDayHeaderFormatter(t.options.dayHeaderFormat,s,r.colCnt),a=this.slicer.sliceProps(e,e.dateProfile,i.nextDayThreshold,t,r);return g(Nn,{unit:"day"},(o,c)=>{const u=this.buildDateRowConfigs(r.headerDates,s,e.dateProfile,c,l,t);return g(ah,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:e.dateProfile,todayRange:c,cellRows:r.cellRows,forPrint:e.forPrint,className:"fc-daygrid",headerTiers:u,fgEventSegs:a.fgEventSegs,bgEventSegs:a.bgEventSegs,businessHourSegs:a.businessHourSegs,dateSelectionSegs:a.dateSelectionSegs,eventDrag:a.eventDrag,eventResize:a.eventResize,eventSelection:a.eventSelection})})}}class ch extends gl{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:s}=this;return dh({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function dh(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,s;if(n.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=Hr(s,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(Q(t.end,-1))),a=Math.ceil(Bo(l,r));r=Hr(r,6-a)}return{start:i,end:r}}var uh=":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-row-print{min-height:6em}.fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc-daygrid-day-header{display:flex;flex-direction:row-reverse}.fc-day-other .fc-daygrid-day-header{opacity:.3}.fc-daygrid-day-number{padding:4px;position:relative}.fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc-daygrid-day-body{display:flex;flex-direction:column;margin-bottom:1px}.fc-daygrid-day-body-tall{margin-bottom:1em;min-height:2em}.fc-daygrid-day-body:only-child{margin-top:2px}.fc-daygrid-more-link{border-radius:3px;cursor:pointer;font-size:var(--fc-small-font-size);margin:0 2px 1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap}.fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc-daygrid-more-link-button{align-self:flex-start}.fc-daygrid-more-link-block{border:1px solid var(--fc-event-border-color);padding:1px}.fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:1}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px}.fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);margin-bottom:1px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;direction:row;display:flex;padding:2px 0;position:relative}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-daygrid-dot-event .fc-event-time,.fc-daygrid-dot-event .fc-event-title{overflow:hidden;white-space:nowrap}.fc-media-print .fc-daygrid-dot-event .fc-event-time,.fc-media-print .fc-daygrid-dot-event .fc-event-title{overflow:hidden!important;white-space:nowrap!important}.fc-daygrid-dot-event .fc-event-title{flex-basis:0;flex-grow:1;font-weight:700;min-height:0;min-width:0}";_n(uh);var sp=me({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:oh,dateProfileGeneratorClass:ch},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class fh extends Md{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?sd(e)?["timed","allDay"]:["allDay"]:["timed"]}}class hh extends zl{sliceRange(e,t){let i=[];for(let r=0;r<t.length;r+=1){let s=tt(e,t[r]);s&&i.push({startDate:s.start,endDate:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}function Et(n,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function vs(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const ys=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function gh(n,e,t,i,r){let s=new Date(0),l=n,a=L(0),o=t||ph(i),c=[];for(;Re(l)<Re(e);){let u=r.add(s,l),d=Mi(a,o)!==null;c.push({date:u,time:l,key:u.toISOString(),isoTimeStr:Qo(u),isLabeled:d}),l=si(l,i),a=si(a,i)}return c}function ph(n){let e,t,i;for(e=ys.length-1;e>=0;e-=1)if(t=L(ys[e]),i=Mi(t,n),i!==null&&i>1)return t;return n}class Ea extends P{constructor(){super(...arguments),this.innerElRef=V()}render(){let{props:e}=this,{options:t,viewApi:i}=this.context,r={text:t.allDayText,view:i};return g(oe,{tag:"div",attrs:{role:"rowheader"},className:"fc-timegrid-allday-label fc-timegrid-axis fc-cell fc-content-box",style:{width:e.width},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:mh,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},s=>g(s,{tag:"span",className:"fc-timegrid-allday-label-inner fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;this.disconnectInnerWidth=Mn(t,i=>{C(e.innerWidthRef,i)})}componentWillUnmount(){this.disconnectInnerWidth(),C(this.props.innerWidthRef,null)}}function mh(n){return n.text}class Sa extends We{constructor(){super(...arguments),this.heightRef=V(),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){return g(va,Object.assign({},this.props,{isTall:!0,rootElRef:this.handleRootEl,heightRef:this.heightRef}))}queryHit(e,t,i){const{props:r,context:s,heightRef:l}=this,a=r.cells.length,{col:o,left:c,right:u}=tr(e,i,r.colWidth,a,s.isRtl),d=r.cells[o],h=d.date,f=Q(h,1);return{dateProfile:r.dateProfile,dateSpan:Object.assign({range:{start:h,end:f},allDay:!0},d.dateSpanProps),getDayEl:()=>nr(this.rootEl,o),rect:{left:c,right:u,top:0,bottom:l.current},layer:0}}}function vh(n,e){let t=new Yl(n.renderRange,e);return new Ul(t,!1)}function yh(n,e,t){let i=[];for(let r of n.headerDates)i.push({start:t.add(r,e.slotMinTime),end:t.add(r,e.slotMaxTime)});return i}function Da(n,e,t,i){if(!t||!i)return[void 0,!1];const r=t+1,s=i/e;let l,a;return n&&s>=r?(l=!0,a=s):(l=!1,a=r),[a,l]}function yn(n,e,t){return t||(t=U(n)),wa(L(n.valueOf()-t.valueOf()),e)}function wa(n,e){const t=Re(e.slotMinTime),i=Re(e.slotMaxTime);let r=(n.milliseconds-t)/(i-t);return r=Math.max(0,r),r=Math.min(1,r),r}function Ei(n){return["fc-timegrid-slot",n.isLabeled?"":"fc-timegrid-slot-minor","fc-flex-row"]}function bs(n,e,t,i,r,s,l){const a=[];if(r!=null){const o=r*i;for(const c of n){const u=yn(c.startDate,e,t),d=yn(c.endDate,e,t),h=u*o;let f=d*o,m=f-h;s!=null&&m<s&&(m=s,f=h+m),a.push({start:h,end:f,size:m,isShort:l!=null&&m<l})}}return a}function bh(n,e,t,i){const r=[];for(let c=0;c<n.length;c++){const u=e[c];u&&r.push(Object.assign(Object.assign({},n[c]),{start:u.start,end:u.end}))}const s=new vi(r,void 0,t,void 0,i);let l=Eh(s);l=Ah(l,1);const a=_h(l),o=Gd(s.hiddenSegs);return[a,o]}function Eh(n){const{placementsByLevel:e}=n,t=sr((r,s)=>r+":"+s,(r,s)=>{let l=wh(n,r,s),[a,o]=Es(l,t),c=e[r][s];return[Object.assign(Object.assign({},c),{nextLevelNodes:a}),c.thickness+o]}),[i]=Es(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t);return i}function Es(n,e){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:r}=n,s=i,l=[];for(;s<r;)l.push(e(t,s)),s+=1;return l.sort(Sh),[l.map(Dh),l[0][1]]}function Sh(n,e){return e[1]-n[1]}function Dh(n){return n[0]}function wh(n,e,t){let{levelCoords:i,placementsByLevel:r}=n,s=r[e][t],l=i[e]+s.thickness,a=i.length,o=e;for(;o<a&&i[o]<l;o+=1);for(;o<a;o+=1){let c=r[o],u,d=yi(c,s.start,mi),h=d[0]+d[1],f=h;for(;(u=c[f])&&u.start<s.end;)f+=1;if(h<f)return{level:o,lateralStart:h,lateralEnd:f}}return null}function Ah(n,e){const t=sr((i,r,s)=>In(i),(i,r,s)=>{let{nextLevelNodes:l,thickness:a}=i,o=a+s,c=a/o,u,d=[];if(!l.length)u=e;else for(let f of l)if(u===void 0){let m=t(f,r,o);u=m[0],d.push(m[1])}else{let m=t(f,u,0);d.push(m[1])}let h=(u-r)*c;return[u-h,Object.assign(Object.assign({},i),{thickness:h,nextLevelNodes:d})]});return n.map(i=>t(i,0,0)[1])}function _h(n){let e=new Map;const t=sr((r,s,l)=>In(r),(r,s,l)=>{let a=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:l,stackForward:0});return e.set(a.eventRange.instance.instanceId,a),a.stackForward=i(r.nextLevelNodes,s+r.thickness,l+1)});function i(r,s,l){let a=0;for(let o of r)a=Math.max(t(o,s,l)+1,a);return a}return i(n,0,0),e}function sr(n,e){const t={};return(...i)=>{let r=n(...i);return r in t?t[r]:t[r]=e(...i)}}const Th=W({hour:"numeric",minute:"2-digit",meridiem:!1});class Aa extends P{render(){const{props:e}=this;return g(Gl,Object.assign({},e,{className:A("fc-timegrid-event",e.isShort&&"fc-timegrid-event-short",e.isInset&&"fc-timegrid-event-inset","fc-v-event",e.isLiquid&&"fc-liquid"),defaultTimeFormat:Th}))}}class Rh extends P{render(){let{props:e}=this;return g(Xl,{className:"fc-timegrid-more-link fc-abs",style:{top:e.top,height:e.height},allDayDate:null,segs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>_a(e.hiddenSegs,e),defaultGenerator:Ch,forceTimed:!0},t=>g(t,{tag:"div",className:"fc-timegrid-more-link-inner fc-sticky-t"}))}}function Ch(n){return n.shortText}function xh(n){return g("div",{className:"fc-timegrid-now-indicator-container"},g(ql,{className:"fc-timegrid-now-indicator-line",style:{top:n.totalHeight!=null?n.totalHeight*yn(n.nowDate,n.dateProfile,n.dayDate):void 0},isAxis:!1,date:n.nowDate}))}const Qe=typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox");class Ih extends P{constructor(){super(...arguments),this.sortEventSegs=T(Fi),this.getDateMeta=T(Pt)}render(){let{props:e,context:t}=this,{options:i}=t,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],l=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.getDateMeta(e.date,e.todayRange,null,e.dateProfile);const o=A("fc-timegrid-day",e.borderStart&&"fc-border-s",e.width==null&&"fc-liquid","fc-flex-col fc-rel"),c={width:e.width,zIndex:1};if(a.isDisabled)return g("div",{role:"gridcell","aria-disabled":!0,className:A(o,"fc-day-disabled"),style:c});let u=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return g(Ji,{tag:"div",attrs:Object.assign(Object.assign({},e.attrs),{role:"gridcell"}),className:o,style:c,date:e.date,dateMeta:a,renderProps:e.renderProps},d=>g(H,null,this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight"),Ki(i)&&g(d,{tag:"div",className:"fc-timegrid-day-misc fc-fill-top"}),g("div",{className:A("fc-timegrid-day-events",e.forPrint&&Qe?"fc-timegrid-day-events-simple":"fc-fill")},this.renderFgSegs(u,l,!1,!1,!1)),!!s.length&&g("div",{className:"fc-timegrid-day-events fc-fill"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),this.renderNowIndicator(e.nowIndicatorSegs)))}renderFgSegs(e,t,i,r,s,l){const{props:a}=this;return a.forPrint&&Qe?_a(e,a):this.renderPositionedFgSegs(e,t,i,r,s,l)}renderPositionedFgSegs(e,t,i,r,s,l){let{props:a,context:o}=this,{date:c,dateProfile:u,eventSelection:d,todayRange:h,nowDate:f}=a,{eventMaxStack:m,eventShortHeight:p,eventOrderStrict:v,eventMinHeight:b}=o.options,S=bs(e,u,c,a.slatCnt,a.slatHeight,b,p),[w,D]=bh(e,S,v,m),M=i||r||s;return g(H,null,e.map((I,x)=>{let{eventRange:k}=I,_=k.instance.instanceId,O=S[x]||{},j=w.get(_),K=!M&&j?this.computeSegHStyle(j):{left:0,right:0},Z=M||j&&!t[_],at=j?!!j.stackDepth:!1;return g("div",{className:"fc-abs fc-flex-col",key:l||_,style:Object.assign({visibility:Z?"":"hidden",top:O.start,height:O.size},K)},g(Aa,Object.assign({eventRange:k,slicedStart:I.startDate,slicedEnd:I.endDate,isStart:I.isStart,isEnd:I.isEnd,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:_===d,isShort:O.isShort||!1,isInset:at,isLiquid:!0},Te(k,h,f))))}),this.renderHiddenGroups(D))}renderHiddenGroups(e){let{dateSpanProps:t,dateProfile:i,todayRange:r,nowDate:s,eventSelection:l,eventDrag:a,eventResize:o}=this.props;return g(H,null,e.map(c=>g(Rh,{key:c.key,hiddenSegs:c.segs,top:c.start,height:c.end-c.start,dateSpanProps:t,dateProfile:i,todayRange:r,nowDate:s,eventSelection:l,eventDrag:a,eventResize:o})))}renderFillSegs(e,t){let{props:i,context:r}=this,s=bs(e,i.dateProfile,i.date,i.slatCnt,i.slatHeight,r.options.eventMinHeight);return g(H,null,e.map((l,a)=>{const{eventRange:o}=l,c=s[a]||{};return g("div",{key:Tl(o),className:"fc-fill-x",style:{top:c.start,height:c.size}},t==="bg-event"?g(Ql,Object.assign({eventRange:o,isStart:l.isStart,isEnd:l.isEnd},Te(o,i.todayRange,i.nowDate))):Zl(t))}))}renderNowIndicator(e){let{props:t}=this;if(!(t.forPrint&&Qe))return e.map(i=>g(xh,{nowDate:i.startDate,dayDate:t.date,dateProfile:t.dateProfile,totalHeight:t.slatHeight!=null?t.slatHeight*t.slatCnt:void 0}))}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,l=e.levelCoord+e.thickness,a,o;r&&(l=Math.min(1,s+(l-s)*2)),t?(a=1-l,o=s):(a=s,o=1-l);let c={zIndex:e.stackDepth+1,left:hn(a),right:hn(o)};return r&&e.stackForward&&(c[t?"marginLeft":"marginRight"]=20),c}}function _a(n,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:r,eventResize:s}){let l=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return g(H,null,n.map(a=>{let{eventRange:o}=a,{instanceId:c}=o.instance;return g("div",{key:c,className:"fc-break-inside-avoid",style:{visibility:l[c]?"hidden":""}},g(Aa,Object.assign({eventRange:o,slicedStart:a.startDate,slicedEnd:a.endDate,isStart:a.isStart,isEnd:a.isEnd,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===i,isShort:!1,isInset:!1},Te(o,e,t))))}))}class lr extends We{constructor(){super(...arguments),this.processSlotOptions=T(Mh),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){const{props:e}=this;return g("div",{role:e.role,className:A(e.className,"fc-flex-row"),ref:this.handleRootEl},e.cells.map((t,i)=>g(Ih,{key:t.key,dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,date:t.date,slatCnt:e.slatCnt,renderProps:t.renderProps,attrs:t.attrs,dateSpanProps:t.dateSpanProps,forPrint:e.forPrint,borderStart:!!i,fgEventSegs:e.fgEventSegsByCol[i],bgEventSegs:e.bgEventSegsByCol[i],businessHourSegs:e.businessHourSegsByCol[i],nowIndicatorSegs:e.nowIndicatorSegsByCol[i],dateSelectionSegs:e.dateSelectionSegsByCol[i],eventDrag:e.eventDragByCol[i],eventResize:e.eventResizeByCol[i],eventSelection:e.eventSelection,width:e.colWidth,slatHeight:e.slatHeight})))}queryHit(e,t,i){const{dateProfile:r,cells:s,colWidth:l,slatHeight:a}=this.props,{dateEnv:o,options:c,isRtl:u}=this.context,{snapDuration:d,snapsPerSlot:h}=this.processSlotOptions(c.slotDuration,c.snapDuration),f=s.length,{col:m,left:p,right:v}=tr(e,i,l,f,u),b=s[m],S=Math.floor(t/a),w=S*a,D=(t-w)/a,M=Math.floor(D*h),I=S+M*h,x=si(r.slotMinTime,No(d,I)),k=o.add(b.date,x),_=o.add(k,d);return{dateProfile:r,dateSpan:Object.assign({range:{start:k,end:_},allDay:!1},b.dateSpanProps),getDayEl:()=>nr(this.rootEl,m),rect:{left:p,right:v,top:w,bottom:w+a},layer:0}}}lr.addPropsEquality({style:gt});function Mh(n,e){let t=e||n,i=Mi(n,t);return i===null&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}function Ta(n){return g("div",{className:"fc-timegrid-now-indicator-container"},g(ql,{className:"fc-timegrid-now-indicator-arrow",style:{top:n.totalHeight!=null?n.totalHeight*yn(n.nowDate,n.dateProfile):void 0},isAxis:!0,date:n.nowDate}))}const Oh=W({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Nh(n,e,t,i,r){return{level:0,time:e,date:i.toDate(n),view:r,text:i.format(n,t)}}class Ra extends P{constructor(){super(...arguments),this.createRenderProps=T(Nh),this.innerElRef=V()}render(){let{props:e,context:t}=this,{dateEnv:i,options:r,viewApi:s}=t,l=A("fc-timegrid-slot-label fc-timegrid-axis fc-header-cell fc-cell",e.isLiquid?"fc-liquid":"fc-content-box");if(!e.isLabeled)return g("div",{className:l,style:{width:e.width}});let a=r.slotLabelFormat==null?Oh:Array.isArray(r.slotLabelFormat)?W(r.slotLabelFormat[0]):W(r.slotLabelFormat),o=this.createRenderProps(e.date,e.time,a,i,s);return g(oe,{tag:"div",className:l,style:{width:e.width},renderProps:o,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:kh,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},c=>g(c,{tag:"div",className:"fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;t&&(this.disconnectInnerSize=Nt(t,(i,r)=>{C(e.innerWidthRef,i),C(e.innerHeightRef,r)}))}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize&&(this.disconnectInnerSize(),C(e.innerWidthRef,null),C(e.innerHeightRef,null))}}function kh(n){return n.text}class Ca extends P{constructor(){super(...arguments),this.innerElRef=V()}render(){let{props:e,context:t}=this,{options:i}=t,r={time:e.time,date:t.dateEnv.toDate(e.date),view:t.viewApi};return g(oe,{tag:"div",className:A("fc-timegrid-slot-lane fc-cell fc-liquid",e.borderStart&&"fc-border-s"),renderProps:r,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount},s=>g(s,{tag:"div",className:"fc-cell-inner",elRef:this.innerElRef}))}componentDidMount(){const e=this.innerElRef.current;this.disconnectInnerHeight=vt(e,t=>{C(this.props.innerHeightRef,t)})}componentWillUnmount(){this.disconnectInnerHeight(),C(this.props.innerHeightRef,null)}}const Ph=W({week:"short"});class xa extends P{constructor(){super(...arguments),this.innerElRef=V()}render(){let{props:e,context:t}=this,i=e.dateProfile.renderRange,s=rt(i.start,i.end)===1&&t.options.navLinks,l=bt(t,i.start,"week");return g($l,{tag:"div",attrs:{role:"gridcell","aria-label":l},className:A("fc-timegrid-weeknumber fc-timegrid-axis fc-cell",e.isLiquid?"fc-liquid":"fc-content-box"),style:{width:e.width},date:i.start,defaultFormat:Ph},a=>g(a,{tag:"div",attrs:s?mt(t,i.start,"week",l):{"aria-label":l},className:"fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;this.disconnectInnerSize=Nt(t,(i,r)=>{C(e.innerWidthRef,i),C(e.innerHeightRef,r)})}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize(),C(e.innerWidthRef,null),C(e.innerHeightRef,null)}}function Ia(n){return g("div",{role:"gridcell",className:A("fc-timegrid-axis",n.isLiquid?"fc-liquid":"fc-content-box"),style:{width:n.width}})}class Hh extends P{constructor(){super(...arguments),this.state={headerTierHeights:[]},this.headerLabelInnerWidthRefMap=new X(()=>{q(this.handleAxisWidths)}),this.headerLabelInnerHeightRefMap=new X(()=>{q(this.handleHeaderHeights)}),this.headerMainInnerHeightRefMap=new X(()=>{q(this.handleHeaderHeights)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,q(this.handleAxisWidths)},this.slatLabelInnerWidthRefMap=new X(()=>{q(this.handleAxisWidths)}),this.slatLabelInnerHeightRefMap=new X(()=>{q(this.handleSlatInnerHeights)}),this.slatMainInnerHeightRefMap=new X(()=>{q(this.handleSlatInnerHeights)}),this.headerScrollerRef=V(),this.allDayScrollerRef=V(),this.mainScrollerRef=V(),this.footScrollerRef=V(),this.axisScrollerRef=V(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleBottomScrollbarWidth=e=>{this.setState({bottomScrollbarWidth:e})},this.handleHeaderHeights=()=>{const e=this.headerLabelInnerHeightRefMap.current,t=this.headerMainInnerHeightRefMap.current,i=[];for(const[s,l]of t.entries())i[s]=Math.max(e.get(s)||0,l);const{headerTierHeights:r}=this.state;Ke(r,i)||this.setState({headerTierHeights:i})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current,t=this.slatMainInnerHeightRefMap.current;let i=0;for(const r of e.values())i=Math.max(i,r);for(const r of t.values())i=Math.max(i,r);this.state.slatInnerHeight!==i&&this.setState({slatInnerHeight:i})},this.handleAxisWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,t=this.slatLabelInnerWidthRefMap.current;let i=this.allDayLabelInnerWidth||0;for(const r of e.values())i=Math.max(i,r);for(const r of t.values())i=Math.max(i,r);this.state.axisWidth!==i&&this.setState({axisWidth:i})}}render(){const{props:e,state:t,context:i,headerLabelInnerWidthRefMap:r,headerLabelInnerHeightRefMap:s,headerMainInnerHeightRefMap:l,slatLabelInnerWidthRefMap:a,slatLabelInnerHeightRefMap:o,slatMainInnerHeightRefMap:c}=this,{nowDate:u,headerTiers:d,forPrint:h}=e,{axisWidth:f,totalWidth:m,clientWidth:p,clientHeight:v,bottomScrollbarWidth:b}=t,{options:S}=i,w=m!=null&&p!=null?m-p:void 0,D=!h&&!xe(S),M=!h&&kt(S),I=!h&&kl(S),x=h&&!Qe,k=h&&Qe,_=e.cells.length,[O,j]=pa(_,e.dayMinWidth,p),K=e.slatMetas.length,[Z,at]=Da(D&&S.expandRows,K,t.slatInnerHeight,v);this.slatHeight=Z;const cr=(Z||0)*K,dr=x?cr:void 0,Ln=D&&!S.expandRows&&v!=null&&v>cr,ur=S.dayHeaders?d.length+1:1;return g(H,null,S.dayHeaders&&g("div",{className:A("fc-timegrid-header fc-flex-row fc-border-b",M&&"fc-table-header-sticky")},g("div",{role:"rowgroup",className:"fc-content-box",style:{width:f}},d.map((ee,te)=>g("div",{key:te,role:"row","aria-rowindex":te+1,className:A("fc-flex-row fc-content-box",te&&"fc-border-t"),style:{height:t.headerTierHeights[te]}},S.weekNumbers&&ee.isDateRow?g(xa,{dateProfile:e.dateProfile,innerWidthRef:r.createRef(te),innerHeightRef:s.createRef(te),width:void 0,isLiquid:!0}):g(Ia,{width:void 0,isLiquid:!0})))),g(Se,{horizontal:!0,hideScrollbars:!0,className:"fc-flex-row fc-border-s fc-liquid",ref:this.headerScrollerRef},g("div",{role:"rowgroup",className:O==null?"fc-liquid":"",style:{width:O}},e.headerTiers.map((ee,te)=>g(rr,Object.assign({},ee,{key:te,role:"row",rowIndex:te,className:te?"fc-border-t":"",height:t.headerTierHeights[te],colWidth:j,innerHeightRef:l.createRef(te)})))),!!w&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:w}}))),g("div",{role:"rowgroup",className:A("fc-flex-col",D&&"fc-liquid")},S.allDaySlot&&g(H,null,g("div",{role:"row","aria-rowindex":ur,className:"fc-timegrid-allday fc-flex-row"},g(Ea,{width:f,innerWidthRef:this.handleAllDayLabelInnerWidth}),g(Se,{horizontal:!0,hideScrollbars:!0,className:"fc-border-s fc-flex-row fc-liquid",ref:this.allDayScrollerRef},g("div",{className:"fc-flex-col",style:{width:O}},g(Sa,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,isCompact:ir(p,S),fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:j})),!!w&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:w}}))),g("div",{className:"fc-rowdivider"})),g("div",{role:"row","aria-rowindex":ur+(S.allDaySlot?1:0),className:A("fc-timegrid-body fc-flex-row fc-rel",D&&"fc-liquid")},g(Se,{vertical:D,hideScrollbars:!0,className:"fc-flex-col fc-content-box",style:{width:f},ref:this.axisScrollerRef},!k&&g(H,null,g("div",{role:"rowheader","aria-label":S.timedText,className:"fc-flex-col fc-grow fc-rel",style:{height:dr}},g("div",{"aria-hidden":!0,className:A("fc-timegrid-slots-axis fc-flex-col",D&&S.expandRows&&"fc-grow",x&&"fc-fill-x")},e.slatMetas.map((ee,te)=>g("div",{key:ee.key,"data-time":ee.isoTimeStr,className:A(...Ei(ee),te&&"fc-border-t",at&&"fc-liquid"),style:{height:at?"":Z}},g(Ra,Object.assign({},ee,{isLiquid:!0,innerWidthRef:a.createRef(ee.key),innerHeightRef:o.createRef(ee.key)}))))),S.nowIndicator&&De(e.dateProfile.currentRange,u)&&g(Ta,{nowDate:u,dateProfile:e.dateProfile,totalHeight:Z!=null?Z*K:void 0}),!!(Ln||b)&&g("div",{class:A("fc-border-t fc-filler",Ln&&"fc-liquid"),style:{minHeight:b}})))),g("div",{className:"fc-border-s fc-flex-col fc-liquid"},g(Se,{vertical:D,horizontal:!0,hideScrollbars:I||h,className:A("fc-flex-col fc-rel",D&&"fc-liquid"),ref:this.mainScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},g("div",{className:"fc-flex-col fc-grow fc-rel",style:{width:O,height:dr}},g(lr,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:K,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,className:k?"":"fc-fill",fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,colWidth:j,slatHeight:Z}),!k&&g(H,null,g("div",{"aria-hidden":!0,className:A("fc-timegrid-slots fc-flex-col",D&&S.expandRows&&"fc-grow",x?"fc-fill-x":"fc-rel")},e.slatMetas.map((ee,te)=>g("div",{key:ee.key,"data-time":ee.isoTimeStr,className:A(...Ei(ee),te&&"fc-border-t",at&&"fc-liquid"),style:{height:at?"":Z}},g(Ca,Object.assign({},ee,{innerHeightRef:c.createRef(ee.key)}))))),Ln&&g("div",{class:"fc-liquid fc-border-t fc-filler"})))),!!I&&g(Jl,{isSticky:!0,canvasWidth:O,scrollerRef:this.footScrollerRef,scrollbarWidthRef:this.handleBottomScrollbarWidth})))),g(On,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.initScrollers(),this.updateSlatHeight()}componentDidUpdate(){this.updateScrollers(),this.updateSlatHeight()}componentWillUnmount(){this.destroyScrollers(),C(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&C(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}initScrollers(){const e=Pl(this.context.pluginHooks);this.dayScroller=new e(!0),this.timeScroller=new e,C(this.props.dayScrollerRef,this.dayScroller),C(this.props.timeScrollerRef,this.timeScroller),this.updateScrollers()}updateScrollers(){this.dayScroller.handleChildren([this.headerScrollerRef.current,this.allDayScrollerRef.current,this.mainScrollerRef.current,this.footScrollerRef.current]),this.timeScroller.handleChildren([this.axisScrollerRef.current,this.mainScrollerRef.current])}destroyScrollers(){C(this.props.dayScrollerRef,null),C(this.props.timeScrollerRef,null)}}class Bh extends P{constructor(){super(...arguments),this.headerLabelInnerWidthRefMap=new X(()=>{q(this.handleAxisInnerWidths)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,q(this.handleAxisInnerWidths)},this.handleWeekNumberInnerWidth=e=>{this.weekNumberInnerWidth=e,q(this.handleAxisInnerWidths)},this.slatLabelInnerWidthRefMap=new X(()=>{q(this.handleAxisInnerWidths)}),this.slatLabelInnerHeightRefMap=new X(()=>{q(this.handleSlatInnerHeights)}),this.slatInnerMainHeightRefMap=new X(()=>{q(this.handleSlatInnerHeights)}),this.handleTotalWidth=e=>{requestAnimationFrame(()=>{this.setState({totalWidth:e})})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleAxisInnerWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,t=this.slatLabelInnerWidthRefMap.current;let i=Math.max(this.weekNumberInnerWidth||0,this.allDayLabelInnerWidth||0);for(const r of e.values())i=Math.max(i,r);for(const r of t.values())i=Math.max(i,r);this.state.axisWidth!==i&&this.setState({axisWidth:i})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current,t=this.slatInnerMainHeightRefMap.current;let i=0;for(const r of e.values())i=Math.max(i,r);for(const r of t.values())i=Math.max(i,r);this.state.slatInnerHeight!==i&&this.setState({slatInnerHeight:i})}}render(){const{props:e,state:t,context:i,slatLabelInnerWidthRefMap:r,slatLabelInnerHeightRefMap:s,slatInnerMainHeightRefMap:l,headerLabelInnerWidthRefMap:a}=this,{nowDate:o,forPrint:c}=e,{axisWidth:u,clientWidth:d,totalWidth:h}=t,{options:f}=i,m=h!=null&&d!=null?h-d:void 0,p=!c&&!xe(f),v=!c&&kt(f),b=e.slatMetas.length,[S,w]=Da(p&&f.expandRows,b,t.slatInnerHeight,t.clientHeight);this.slatHeight=S;const D=(S||0)*b,M=p&&!f.expandRows&&t.clientHeight!=null&&t.clientHeight>D,I=c&&!Qe,x=c&&Qe,k=I?D:void 0;return g(H,null,f.dayHeaders&&g("div",{role:"rowgroup",className:A("fc-timegrid-header fc-flex-col fc-border-b",v&&"fc-table-header-sticky")},e.headerTiers.map((_,O)=>g("div",{key:O,role:"row",className:A("fc-flex-row",O&&"fc-border-t")},f.weekNumbers&&_.isDateRow?g(xa,{dateProfile:e.dateProfile,innerWidthRef:this.handleWeekNumberInnerWidth,innerHeightRef:a.createRef(O),width:u,isLiquid:!1}):g(Ia,{width:u,isLiquid:!1}),g(rr,Object.assign({},_,{className:"fc-border-s fc-liquid"})),!!m&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:m}})))),g("div",{role:"rowgroup",className:A("fc-flex-col",p&&"fc-liquid")},f.allDaySlot&&g(H,null,g("div",{role:"row",className:"fc-timegrid-allday fc-flex-row"},g(Ea,{width:u,innerWidthRef:this.handleAllDayLabelInnerWidth}),g(Sa,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:c,isHitComboAllowed:e.isHitComboAllowed,className:"fc-border-s fc-liquid",isCompact:ir(d,f),fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows}),!!m&&g("div",{className:"fc-border-s fc-filler",style:{minWidth:m}})),g("div",{className:"fc-rowdivider"})),g(Se,{vertical:p,className:A("fc-timegrid-body fc-flex-col fc-rel",p&&"fc-liquid"),ref:e.timeScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},g("div",{className:"fc-flex-col fc-grow fc-rel",style:{height:k}},g("div",{role:"row",className:A("fc-flex-row",!x&&"fc-fill")},g("div",{role:"rowheader","aria-label":f.timedText,className:"fc-content-box",style:{width:u}}),g(lr,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:b,forPrint:c,isHitComboAllowed:e.isHitComboAllowed,className:"fc-liquid fc-border-s",fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,slatHeight:S})),!x&&g(H,null,g("div",{"aria-hidden":!0,className:A("fc-timegrid-slots fc-flex-col",p&&f.expandRows&&"fc-grow",I?"fc-fill-x":"fc-rel")},e.slatMetas.map((_,O)=>g("div",{key:_.key,"data-time":_.isoTimeStr,className:A(...Ei(_),O&&"fc-border-t",w&&"fc-liquid"),style:{height:w?"":S}},g(Ra,Object.assign({},_,{innerWidthRef:r.createRef(_.key),innerHeightRef:s.createRef(_.key),width:u})),g(Ca,Object.assign({},_,{borderStart:!0,innerHeightRef:l.createRef(_.key)}))))),M&&g("div",{class:"fc-liquid fc-border-t fc-filler"}),f.nowIndicator&&De(e.dateProfile.currentRange,o)&&g(Ta,{nowDate:o,dateProfile:e.dateProfile,totalHeight:S!=null?S*b:void 0}))))),g(On,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.updateSlatHeight()}componentDidUpdate(){this.updateSlatHeight()}componentWillUnmount(){C(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&C(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}}class Lh extends P{constructor(){super(...arguments),this.buildSlatMetas=T(gh),this.dayScrollerRef=V(),this.timeScrollerRef=V(),this.scrollState={},this.handleSlatHeight=e=>{this.slatHeight=e,e!=null&&q(this.applyTimeScroll)},this.handleTimeScrollRequest=e=>{this.scrollState.time=e,this.scrollState.y=void 0,this.applyTimeScroll()},this.handleTimeScrollEnd=e=>{if(e){const t=this.timeScrollerRef.current.y;this.props.forPrint||(this.scrollState.y=t,this.scrollState.time=void 0)}},this.applyTimeScroll=()=>{const e=this.timeScrollerRef.current,{slatHeight:t,scrollState:i}=this;let{y:r,time:s}=i;r==null&&s&&t!=null&&e&&(r=wa(s,this.props.dateProfile)*(t*this.currentSlatCnt),r&&r++,i.y=r),r!=null&&e.scrollTo({y:r})}}render(){const{props:e,context:t}=this,{dateProfile:i}=e,{options:r,dateEnv:s}=t,{dayMinWidth:l}=r,a=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,r.slotLabelInterval,r.slotDuration,s);this.currentSlatCnt=a.length;const o=Object.assign(Object.assign({dateProfile:i,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatMetas:a,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,headerTiers:e.headerTiers,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize},Uh(r)),{fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,timeScrollerRef:this.timeScrollerRef,timeScrollState:this.scrollState,slatHeightRef:this.handleSlatHeight});return g(Hi,{attrs:{role:"grid","aria-colcount":e.cells.length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:A(e.className,"fc-border",!e.forPrint&&"fc-flex-col"),viewSpec:t.viewSpec},l?g(Hh,Object.assign({},o,{dayMinWidth:l,dayScrollerRef:this.dayScrollerRef})):g(Bh,Object.assign({},o)))}componentDidMount(){this.resetScroll(),this.context.emitter.on("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.addScrollEndListener(this.handleTimeScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset?this.resetScroll():e.forPrint&&!this.props.forPrint&&this.applyTimeScroll()}componentWillUnmount(){this.context.emitter.off("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.removeScrollEndListener(this.handleTimeScrollEnd)}resetScroll(){this.handleTimeScrollRequest(this.context.options.scrollTime);const e=this.dayScrollerRef.current;e&&e.scrollTo({x:0})}}const Yh=5;function Uh(n){let{dayMaxEvents:e,dayMaxEventRows:t}=n;return(e===!0||t===!0)&&(e=void 0,t=Yh),{dayMaxEvents:e,dayMaxEventRows:t}}class Wh extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=T(ma),this.buildTimeColsModel=T(vh),this.buildDayRanges=T(yh),this.buildDateRowConfigs=T(ca),this.splitFgEventSegs=T(Et),this.splitBgEventSegs=T(Et),this.splitBusinessHourSegs=T(Et),this.splitNowIndicatorSegs=T(Et),this.splitDateSelectionSegs=T(Et),this.splitEventDrag=T(vs),this.splitEventResize=T(vs),this.allDaySplitter=new fh,this.dayTableSlicer=new oa,this.dayTimeColsSlicer=new hh}render(){const{props:e,context:t}=this,{dateProfile:i}=e,{options:r,dateProfileGenerator:s}=t,l=this.buildTimeColsModel(i,s),a=this.buildDayRanges(l,i,t.dateEnv),o=this.allDaySplitter.splitProps(e),c=this.dayTableSlicer.sliceProps(o.allDay,i,r.nextDayThreshold,t,l),u=this.dayTimeColsSlicer.sliceProps(o.timed,i,null,t,a),d=this.createDayHeaderFormatter(t.options.dayHeaderFormat,!0,l.colCnt);return g(Nn,{unit:r.nowIndicator?"minute":"day"},(h,f)=>{const m=l.cellRows[0].length,p=r.nowIndicator&&this.dayTimeColsSlicer.sliceNowDate(h,i,r.nextDayThreshold,t,a),v=this.splitFgEventSegs(u.fgEventSegs,m),b=this.splitBgEventSegs(u.bgEventSegs,m),S=this.splitBusinessHourSegs(u.businessHourSegs,m),w=this.splitNowIndicatorSegs(p,m),D=this.splitDateSelectionSegs(u.dateSelectionSegs,m),M=this.splitEventDrag(u.eventDrag,m),I=this.splitEventResize(u.eventResize,m),x=this.buildDateRowConfigs(l.headerDates,!0,e.dateProfile,f,d,t);return g(Lh,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:i,nowDate:h,todayRange:f,cells:l.cellRows[0],forPrint:e.forPrint,className:"fc-timegrid",headerTiers:x,fgEventSegs:c.fgEventSegs,bgEventSegs:c.bgEventSegs,businessHourSegs:c.businessHourSegs,dateSelectionSegs:c.dateSelectionSegs,eventDrag:c.eventDrag,eventResize:c.eventResize,fgEventSegsByCol:v,bgEventSegsByCol:b,businessHourSegsByCol:S,nowIndicatorSegsByCol:w,dateSelectionSegsByCol:D,eventDragByCol:M,eventResizeByCol:I,eventSelection:e.eventSelection})})}}var zh='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:flex;flex-direction:column}.fc-v-event.fc-event-mirror{z-index:1}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-inner{color:var(--fc-event-text-color);display:flex;flex-direction:column;flex-grow:1;min-height:0}.fc-v-event .fc-event-time{flex-shrink:0;white-space:nowrap}.fc-v-event .fc-event-time,.fc-v-event .fc-event-title{overflow:hidden}.fc-v-event .fc-event-title-outer{display:flex;flex-direction:column;flex-grow:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;position:sticky;top:0}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-timegrid-slot-minor{border-style:dotted}.fc-timegrid-axis{align-items:flex-end}.fc-timegrid-axis,.fc-timegrid-axis-inner{display:flex;flex-direction:column;justify-content:center}.fc-timegrid-axis-inner{min-height:1.5em}.fc-direction-ltr .fc-timegrid-axis-inner{text-align:right}.fc-direction-rtl .fc-timegrid-axis-inner{text-align:left}.fc-timegrid-allday-label-inner{white-space:pre}.fc-timegrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc-direction-ltr .fc-timegrid-day-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-day-events{margin:0 2px 0 2.5%}.fc-timegrid-day-events.fc-timegrid-day-events-simple{margin:4px}.fc-timegrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative}.fc-timegrid-event-inset,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event.fc-event-end{margin-bottom:1px}.fc-timegrid-event .fc-event-inner{padding:1px 1px 0}.fc-timegrid-event-short .fc-event-inner{flex-direction:row;overflow:hidden}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title-outer{flex-basis:0;flex-grow:1;min-height:0;min-width:0}.fc-timegrid-event-short .fc-event-title,.fc-timegrid-more-link{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);border-radius:3px;box-shadow:0 0 0 1px var(--fc-page-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;z-index:9999}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc-timegrid-more-link-inner{padding:3px 2px}.fc-timegrid-now-indicator-container{bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;z-index:2}.fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-bottom:5px solid transparent;border-left-style:solid;border-left-width:6px;border-right-style:solid;border-right-width:6px;border-top:5px solid transparent;height:0;margin-top:-5px;position:absolute;width:0}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-right:0;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-left:0;right:0}.fc-timegrid-now-indicator-line{border-top:1px solid var(--fc-now-indicator-color);left:0;position:absolute;right:0}';_n(zh);const jh={allDaySlot:Boolean};var lp=me({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:jh,views:{timeGrid:{component:Wh,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Fh extends P{render(){let{dateEnv:e,options:t,viewApi:i}=this.context,{dayDate:r,todayRange:s}=this.props,l=!this.props.forPrint&&kt(t),a=Pt(r,s),o=t.listDayFormat?e.format(r,t.listDayFormat):"",c=t.listDaySideFormat?e.format(r,t.listDaySideFormat):"",u=t.navLinks,d=Object.assign({date:e.toDate(r),view:i,text:o,sideText:c,navLinkAttrs:u?mt(this.context,r,void 0,o):{},sideNavLinkAttrs:u?mt(this.context,r,void 0,c,!1):{}},a);return g("div",{className:A("fc-list-day-outer",l&&"fc-list-day-outer-sticky")},g(oe,{tag:"div",className:A("fc-list-day",vn(a)),attrs:Object.assign({"data-date":Rn(r)},a.isToday?{"aria-current":"date"}:{}),renderProps:d,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Vh,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount}))}}function Vh(n){return g(H,null,n.text&&g("div",Object.assign({className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&g("div",Object.assign({className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const Gh=W({hour:"numeric",minute:"2-digit",meridiem:"short"});class qh extends P{constructor(){super(...arguments),this.handleTitleEl=e=>{this.disconnectTitleWidth&&this.disconnectTitleWidth(),e&&(this.disconnectTitleWidth=Mn(e,t=>{C(this.props.timeWidthRef,t)}))}}render(){let{props:e,context:t}=this,{eventRange:i}=e,{options:r}=t,s=r.eventTimeFormat||Gh,[l,a]=Gi(i,t);return g(kn,Object.assign({},e,{tag:l,attrs:Object.assign({role:"listitem"},a),className:"fc-list-event",defaultGenerator:Qh,timeText:"",disableDragging:!0,disableResizing:!0}),(o,c)=>g(H,null,g("div",{className:"fc-list-event-time-outer",style:{width:e.timeOuterWidth}},this.buildTimeContent(i,e.slicedStart,e.slicedEnd,e.isStart,e.isEnd,s,t)),g("div",{className:"fc-list-event-dot-outer"},g("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),g(o,{tag:"div",className:"fc-list-event-title"})))}buildTimeContent(e,t,i,r,s,l,a){let{options:o}=a;if(o.displayEventTime!==!1)if(e.def.allDay||!r&&!s){let c={text:a.options.allDayText,view:a.viewApi};return g(oe,{tag:"div",className:"fc-list-event-time",renderProps:c,elRef:this.handleTitleEl,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:Zh,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}else return g("div",{className:"fc-list-event-time",ref:this.handleTitleEl},Vi(l,e,t,i,r,s,a));return null}componentWillUnmount(){C(this.props.timeWidthRef,null)}}function Qh(n){return n.event.title}function Zh(n){return n.text}class $h extends P{constructor(){super(...arguments),this.sortEventSegs=T(Fi),this.timeWidthRefMap=new X(()=>{q(this.handleTimeWidths)}),this.handleTimeWidths=()=>{const e=this.timeWidthRefMap.current;let t=0;for(const i of e.values())t=Math.max(t,i);C(this.props.timeWidthRef,t)}}render(){const{props:e,context:t,timeWidthRefMap:i}=this,{nowDate:r,todayRange:s}=e,{options:l}=t,a=this.sortEventSegs(e.segs,l.eventOrder),o=bt(this.context,e.dayDate);return g("div",{role:"listitem","aria-label":o,className:"fc-list-day-and-events"},g(Fh,{dayDate:e.dayDate,todayRange:s,forPrint:e.forPrint}),g("div",{role:"list","aria-label":l.eventsHint},a.map(c=>{const u=In(c);return g(qh,Object.assign({key:u,eventRange:c.eventRange,slicedStart:c.slicedStart,slicedEnd:c.slicedEnd,isStart:c.isStart,isEnd:c.isEnd,timeWidthRef:i.createRef(u),timeOuterWidth:e.timeOuterWidth,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},Te(c.eventRange,s,r)))})))}componentWillUnmount(){C(this.props.timeWidthRef,null)}}class Xh extends We{constructor(){super(...arguments),this.computeDateVars=T(Kh),this.eventStoreToSegs=T(this._eventStoreToSegs),this.timeWidthRefMap=new X(()=>{q(this.handleTimeWidths)}),this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,disableHits:!0}):this.context.unregisterInteractiveComponent(this)},this.handleTimeWidths=()=>{const e=this.timeWidthRefMap.current;let t=0;for(const i of e.values())t=Math.max(t,i);this.setState({timeOuterWidth:t})}}render(){let{props:e,context:t}=this,{options:i}=t,{dayDates:r,dayRanges:s}=this.computeDateVars(e.dateProfile),l=this.eventStoreToSegs(e.eventStore,e.eventUiBases,s),a=!e.forPrint&&!xe(i);return g(Hi,{viewSpec:t.viewSpec,className:"fc-list fc-flex-col fc-border",elRef:this.setRootEl},g(Se,{vertical:a,className:a?"fc-liquid":""},this.renderSegList(l,r),!l.length&&this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,i={text:e.noEventsText,view:t};return g(oe,{tag:"div",attrs:{role:"status"},className:"fc-list-empty",renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Jh,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>g(r,{tag:"div",className:"fc-list-empty-inner"}))}renderSegList(e,t){let i=eg(e);return g("div",{role:"list","aria-labelledby":this.props.labelId,"aria-label":this.props.labelStr},g(Nn,{unit:"day"},(r,s)=>{const l=[];for(let a=0;a<i.length;a+=1){let o=i[a];if(o){const c=t[a],u=Rn(c);l.push(g($h,{key:u,dayDate:c,nowDate:r,todayRange:s,segs:o,forPrint:this.props.forPrint,timeWidthRef:this.timeWidthRefMap.createRef(u),timeOuterWidth:this.state.timeOuterWidth}))}}return g(H,null,l)}))}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs(ui(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,t));return i}eventRangeToSegs(e,t){let i=e.range,r,s=[];for(r=0;r<t.length;r+=1){const l=tt(i,t[r]);l&&s.push({eventRange:e,slicedStart:l.start,slicedEnd:l.end,isStart:e.isStart&&i.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===l.end.valueOf(),dayIndex:r})}return s}}function Jh(n){return n.text}function Kh(n){let e=U(n.renderRange.start),t=n.renderRange.end,i=[],r=[];for(;e<t;)i.push(e),r.push({start:e,end:Q(e,1)}),e=Q(e,1);return{dayDates:i,dayRanges:r}}function eg(n){let e=[],t,i;for(t=0;t<n.length;t+=1)i=n[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var tg=":root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-list-day,.fc-list-event-dot-outer,.fc-list-event-time,.fc-list-event-title{padding:8px 14px}.fc-direction-ltr .fc-list-event-dot-outer{padding-right:0}.fc-direction-rtl .fc-list-event-dot-outer{padding-left:0}.fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc-list-empty-inner{margin:5em 0}.fc-list-day,.fc-list-day-and-events:not(:last-child),.fc-list-event:not(:last-child){border-bottom:1px solid var(--fc-border-color)}.fc-list-day-outer-sticky{background:var(--fc-page-bg-color);position:sticky;top:0}.fc-list-day{background:var(--fc-neutral-bg-color);display:flex;font-weight:700;justify-content:space-between}.fc-list-event{display:flex;flex-direction:row}a.fc-list-event{color:inherit;text-decoration:none}.fc-list-event:hover{background-color:var(--fc-list-event-hover-bg-color)}.fc-list-event-time-outer{display:flex;flex-direction:row}.fc-list-event-dot-outer,.fc-list-event-time{white-space:nowrap}.fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}a.fc-list-event:hover .fc-list-event-title{text-decoration:underline}";_n(tg);const ng={listDayFormat:Ss,listDaySideFormat:Ss,noEventsClassNames:y,noEventsContent:y,noEventsDidMount:y,noEventsWillUnmount:y};function Ss(n){return n===!1?null:W(n)}var ap=me({name:"@fullcalendar/list",optionRefiners:ng,views:{list:{component:Xh,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Xi.touchMouseIgnoreWait=500;let Si=0,bn=0,Di=!1;class Ma{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&ig(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{if(this.isDragging){let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)}},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,rg()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Ot,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),sg()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),lg()}cancel(){this.isDragging&&this.cleanup()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||i.closest(this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Di=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?e.target.closest(this.selector):this.containerEl}shouldIgnoreMouse(){return Si||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Di=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,s,l=0,a=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),t?(this.origPageX=r,this.origPageY=s):(l=r-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:l,deltaY:a}}}function ig(n){return n.button===0&&!n.ctrlKey}function rg(){Si+=1,setTimeout(()=>{Si-=1},Xi.touchMouseIgnoreWait)}function sg(){bn+=1,bn===1&&window.addEventListener("touchmove",Oa,{passive:!1})}function lg(){bn-=1,bn||window.removeEventListener("touchmove",Oa,{passive:!1})}function Oa(n){Di&&n.preventDefault()}class ag{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",rn(i,{left:r.left,top:r.top}),bo(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(this.mirrorEl.remove(),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&rn(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),rn(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class Na extends $i{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ka extends Na{constructor(e,t){super(new Yd(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Hd(this.scrollController.el)}}class og extends Na{constructor(e){super(new Ud,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ds=typeof performance=="function"?performance.now:Date.now;class cg{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Ds();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ds()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,l=s*s/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*a);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let l of s){let a=l.clientRect,o=e-a.left,c=a.right-e,u=t-a.top,d=a.bottom-t;o>=0&&c>=0&&u>=0&&d>=0&&(u<=i&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>u)&&(r={scrollCache:l,name:"top",distance:u}),d<=i&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:l,name:"bottom",distance:d}),o<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>o)&&(r={scrollCache:l,name:"left",distance:o}),c<=i&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:l,name:"right",distance:c}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new og(!1):new ka(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class Ht extends qd{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.emitter.trigger("pointerdown",r),this.isInteracting&&(Eo(document.body),Do(document.body),r.isTouch||r.origEvent.preventDefault(),this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,l,{deltaX:a,deltaY:o}=r;l=a*a+o*o,l>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,So(document.body),wo(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Ma(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new ag,this.autoScroller=new cg}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}cancel(){this.isInteracting&&(this.isInteracting=!1,this.pointer.cancel())}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class dg{constructor(e){this.el=e,this.origRect=Zi(e),this.scrollCaches=Bl(e).map(t=>new ka(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!ug(r.getEventTarget())&&!Rd(i,r.clientRect))return!1;return!0}}function ug(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Pn{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?this.emitter.trigger("pointerdown",i):r.cancel()},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ot}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,s;r instanceof HTMLElement&&(s=Zi(r),i=Cd(i,s));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&s){let a=Hl(s,l.rect);a&&(i=xd(a))}this.coordAdjust=Id(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Hn(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Ce(this.droppableStore,e=>(e.component.prepareHits(),new dg(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let l in i){let a=i[l].component,o=r[l];if(o&&o.isWithinClipping(e,t)){let c=o.computeLeft(),u=o.computeTop(),d=e-c,h=t-u,{origRect:f}=o,m=f.right-f.left,p=f.bottom-f.top;if(d>=0&&d<m&&h>=0&&h<p){let v=a.queryHit(d,h,m,p);v&&Cn(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(d+c-window.scrollX,h+u-window.scrollY)))&&(!s||v.layer>s.layer)&&(v.componentId=l,v.context=a.context,v.rect.left+=c,v.rect.right+=c,v.rect.top+=u,v.rect.bottom+=u,s=v)}}}return s}}function Hn(n,e){return!n&&!e?!0:!!n!=!!e?!1:fd(n.dateSpan,e.dateSpan)}function Pa(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,fg(n,e.dateEnv)),t}function fg(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class hg extends yt{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;this.component.context.emitter.hasHandlers("dateClick")&&this.component.isValidDateDownEl(s)||r.cancel()},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:l,finalHit:a}=this.hitDragging;if(l&&a&&Hn(l,a)){let{context:o}=r,c=Object.assign(Object.assign({},Pa(l.dateSpan,o)),{dayEl:l.getDayEl(),jsEvent:i.origEvent,view:o.viewApi||o.calendarApi.view});o.emitter.trigger("dateClick",c)}}},this.dragging=new Ht(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Pn(this.dragging,qi(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class gg extends yt{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:a,dragging:o}=this,{options:c}=a.context;c.selectable&&a.isValidDateDownEl(l.origEvent.target)?o.delay=l.isTouch?pg(a):null:o.cancel()},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,a)=>{let{context:o}=this.component,c=null,u=!1;if(l){let d=this.hitDragging.initialHit;l.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,l)||(c=mg(d,l,o.pluginHooks.dateSelectionTransformers)),(!c||!eu(c,l.dateProfile,o))&&(u=!0,c=null)}c?o.dispatch({type:"SELECT_DATES",selection:c}):a||o.dispatch({type:"UNSELECT_DATES"}),u?xi():Ii(),a||(this.dragSelection=c)},this.handlePointerUp=l=>{this.dragSelection&&(wl(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new Ht(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Pn(this.dragging,qi(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function pg(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function mg(n,e,t){let i=n.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(Co);let l={};for(let a of t){let o=a(n,e);if(o===!1)return null;o&&Object.assign(l,o)}return l.range={start:s[0],end:s[3]},l.allDay=i.allDay,l}class Bt extends yt{constructor(e){super(e),this.subjectEl=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let a=l.origEvent.target,{component:o,dragging:c}=this,{mirror:u}=c,{options:d}=o.context,h=o.context;this.subjectEl=l.subjectEl;let m=(this.eventRange=pt(l.subjectEl)).instance.instanceId;this.relevantEvents=Ui(h.getCurrentData().eventStore,m),c.minDistance=l.isTouch?0:d.eventDragMinDistance,c.delay=l.isTouch&&m!==o.props.eventSelection?yg(o):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=a.closest(".fc"),u.revertDuration=d.dragRevertDuration,o.isValidSegDownEl(a)&&!a.closest(".fc-event-resizer")?this.isDragging=l.subjectEl.classList.contains("fc-event-draggable"):c.cancel()},this.handleDragStart=l=>{let a=this.component.context,o=this.eventRange,c=o.instance.instanceId;l.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(l),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new z(a,o.def,o.instance),jsEvent:l.origEvent,view:a.viewApi}))},this.handleHitUpdate=(l,a)=>{if(!this.isDragging)return;let o=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,f=null,m=!1,p={affectedEvents:o,mutatedEvents:ge(),isEvent:!0};if(l){d=l.context;let v=d.options;u===d||v.editable&&v.droppable?(h=vg(c,l,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(f=ji(o,d.getCurrentData().eventUiBases,h,d),p.mutatedEvents=f,jl(p,l.dateProfile,d)||(m=!0,h=null,f=null,p.mutatedEvents=ge()))):d=null}this.displayDrag(d,p),m?xi():Ii(),a||(u===d&&Hn(c,l)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let a=this.component.context,o=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,f=new z(a,d,h),m=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:l.origEvent,view:o}),u){if(c===a){let b=new z(a,p.defs[d.defId],h?p.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:p});let S={oldEvent:f,event:b,relatedEvents:qe(p,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}},w={};for(let D of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,D(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},S),w),{el:l.subjectEl,delta:u.datesDelta,jsEvent:l.origEvent,view:o})),a.emitter.trigger("eventChange",S)}else if(c){let b={event:f,relatedEvents:qe(m,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:l.subjectEl,view:o})),a.dispatch({type:"REMOVE_EVENTS",eventStore:m}),a.emitter.trigger("eventRemove",b);let S=p.defs[d.defId],w=p.instances[h.instanceId],D=new z(c,S,w);c.dispatch({type:"MERGE_EVENTS",eventStore:p});let M={event:D,relatedEvents:qe(p,c,w),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};c.emitter.trigger("eventAdd",M),l.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},Pa(v.dateSpan,c)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:v.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},M),{draggedEl:l.subjectEl,view:v.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new Ht(e.el);r.pointer.selector=Bt.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Pn(this.dragging,pi);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:ge(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Bt.SELECTOR=".fc-event-draggable, .fc-event-resizable";function vg(n,e,t,i){let r=n.dateSpan,s=e.dateSpan,l=r.range.start,a=s.range.start,o={};r.allDay!==s.allDay&&(o.allDay=s.allDay,o.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?l=U(t):l=t);let c=ct(l,a,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(o.allDay=!1);let u={datesDelta:c,standardProps:o};for(let d of i)d(u,n,e);return u}function yg(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class bg extends yt{constructor(e){super(e),this.draggingSegEl=null,this.draggingEventRange=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:l}=this,a=this.querySegEl(s),o=this.eventRange=pt(a);this.dragging.minDistance=l.context.options.eventDragMinDistance,this.component.isValidSegDownEl(s.origEvent.target)&&!(s.isTouch&&this.component.props.eventSelection!==o.instance.instanceId)||this.dragging.cancel()},this.handleDragStart=s=>{let{context:l}=this.component,a=this.eventRange;this.relevantEvents=Ui(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let o=this.querySegEl(s);this.draggingSegEl=o,this.draggingEventRange=pt(o),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:o,event:new z(l,a.def,a.instance),jsEvent:s.origEvent,view:l.viewApi})},this.handleHitUpdate=(s,l,a)=>{let{context:o}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,m=!1,p={affectedEvents:c,mutatedEvents:ge(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=Eg(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=ji(c,o.getCurrentData().eventUiBases,h,o),p.mutatedEvents=f,jl(p,s.dateProfile,o)||(m=!0,h=null,f=null,p.mutatedEvents=null)),f?o.dispatch({type:"SET_EVENT_RESIZE",state:p}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),m?xi():Ii(),l||(h&&Hn(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:l}=this.component,a=this.eventRange.def,o=this.eventRange.instance,c=new z(l,a,o),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:l.viewApi}),this.validMutation){let h=new z(l,d.defs[a.defId],o?d.instances[o.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:c,event:h,relatedEvents:qe(d,l,o),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:u})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||L(0),endDelta:this.validMutation.endDelta||L(0),jsEvent:s.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",f)}else l.emitter.trigger("_noEventResize");this.draggingEventRange=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new Ht(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Pn(this.dragging,qi(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return e.subjectEl.closest(".fc-event")}}function Eg(n,e,t,i){let r=n.context.dateEnv,s=n.dateSpan.range.start,l=e.dateSpan.range.start,a=ct(s,l,r,n.largeUnit);if(t){if(r.add(i.start,a)<i.end)return{startDelta:a}}else if(r.add(i.end,a)>i.start)return{endDelta:a};return null}class Sg{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=Nl(i.origEvent);this.matchesCancel=!!s.closest(r),this.matchesEvent=!!s.closest(Bt.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,l=r.getCurrentData();if(!s.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Ma(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Dg={fixedMirrorParent:y},wg={dateClick:y,eventDragStart:y,eventDragStop:y,eventDrop:y,eventResizeStart:y,eventResizeStop:y,eventResize:y,drop:y,eventReceive:y,eventLeave:y};Xi.dataAttrPrefix="";var op=me({name:"@fullcalendar/interaction",componentInteractions:[hg,gg,Bt,bg],calendarInteractions:[Sg],elementDraggingImpl:Ht,optionRefiners:Dg,listenerRefiners:wg});class Bn{static fromString(e){return new Bn(e)}constructor(e){this.value=e}icaltype="binary";decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,s,l,a,o,c,u,d=0,h=0,f="",m=[];if(!e)return e;do i=e.charCodeAt(d++),r=e.charCodeAt(d++),s=e.charCodeAt(d++),u=i<<16|r<<8|s,l=u>>18&63,a=u>>12&63,o=u>>6&63,c=u&63,m[h++]=t.charAt(l)+t.charAt(a)+t.charAt(o)+t.charAt(c);while(d<e.length);f=m.join("");let p=e.length%3;return(p?f.slice(0,p-3):f)+"===".slice(p||3)}_b64_decode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,s,l,a,o,c,u,d=0,h=0,f="",m=[];if(!e)return e;e+="";do l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=l<<18|a<<12|o<<6|c,i=u>>16&255,r=u>>8&255,s=u&255,o==64?m[h++]=String.fromCharCode(i):c==64?m[h++]=String.fromCharCode(i,r):m[h++]=String.fromCharCode(i,r,s);while(d<e.length);return f=m.join(""),f}toString(){return this.value}}const Ag=/([PDWHMTS]{1,1})/,_g=["weeks","days","hours","minutes","seconds","isNegative"];class re{static fromSeconds(e){return new re().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let t=0,i=Object.create(null),r=0;for(;(t=e.search(Ag))!==-1;){let s=e[t],l=e.slice(0,Math.max(0,t));e=e.slice(t+1),r+=Tg(s,l,i)}if(r<2)throw new Error('invalid duration value: Not enough duration components in "'+e+'"');return new re(i)}static fromData(e){return new re(e)}constructor(e){this.wrappedJSObject=this,this.fromData(e)}weeks=0;days=0;hours=0;minutes=0;seconds=0;isNegative=!1;icalclass="icalduration";icaltype="duration";clone(){return re.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let t=Math.abs(e);return this.isNegative=e<0,this.days=$(t/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,t-=(this.days+7*this.weeks)*86400,this.hours=$(t/3600),t-=this.hours*3600,this.minutes=$(t/60),t-=this.minutes*60,this.seconds=t,this}fromData(e){for(let t of _g)e&&t in e?this[t]=e[t]:this[t]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let t=this.toSeconds(),i=e.toSeconds();return(t>i)-(t<i)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";this.isNegative&&(e+="-"),e+="P";let t=!1;return this.weeks?this.days||this.hours||this.minutes||this.seconds?e+=this.weeks*7+this.days+"D":(e+=this.weeks+"W",t=!0):this.days&&(e+=this.days+"D"),t||(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}}function Tg(n,e,t){let i;switch(n){case"P":e&&e==="-"?t.isNegative=!0:t.isNegative=!1;break;case"D":i="days";break;case"W":i="weeks";break;case"H":i="hours";break;case"M":i="minutes";break;case"S":i="seconds";break;default:return 0}if(i){if(!e&&e!==0)throw new Error('invalid duration value: Missing number before "'+n+'"');let r=parseInt(e,10);if(Rt(r))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+n+'"');t[i]=r}return 1}class Ae{static fromString(e,t){let i=e.split("/");if(i.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');let r={start:E.fromDateTimeString(i[0],t)},s=i[1];return re.isValueString(s)?r.duration=re.fromString(s):r.end=E.fromDateTimeString(s,t),new Ae(r)}static fromData(e){return new Ae(e)}static fromJSON(e,t,i){function r(s,l){return i?E.fromString(s,l):E.fromDateTimeString(s,l)}return re.isValueString(e[1])?Ae.fromData({start:r(e[0],t),duration:re.fromString(e[1])}):Ae.fromData({start:r(e[0],t),end:r(e[1],t)})}constructor(e){if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof E))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof E))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof re))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}start=null;end=null;duration=null;icalclass="icalperiod";icaltype="period";clone(){return Ae.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}compare(e){return e.compare(this.start)<0?1:e.compare(this.getEnd())>0?-1:0}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}}class E{static _dowCache={};static _wnCache={};static daysInMonth(e,t){let i=[0,31,28,31,30,31,30,31,31,30,31,30,31],r=30;return e<1||e>12||(r=i[e],e==2&&(r+=E.isLeapYear(t))),r}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,t){let i=t,r=e,s=new E;s.auto_normalize=!1;let l=E.isLeapYear(i)?1:0;if(r<1)return i--,l=E.isLeapYear(i)?1:0,r+=E.daysInYearPassedMonth[l][12],E.fromDayOfYear(r,i);if(r>E.daysInYearPassedMonth[l][12])return l=E.isLeapYear(i)?1:0,r-=E.daysInYearPassedMonth[l][12],i++,E.fromDayOfYear(r,i);s.year=i,s.isDate=!0;for(let a=11;a>=0;a--)if(r>E.daysInYearPassedMonth[l][a]){s.month=a+1,s.day=r-E.daysInYearPassedMonth[l][a];break}return s.auto_normalize=!0,s}static fromStringv2(e){return new E({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new E({year:ne(e.slice(0,4)),month:ne(e.slice(5,7)),day:ne(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,t){if(e.length<19)throw new Error('invalid date-time value: "'+e+'"');let i,r;e.slice(-1)==="Z"?i=R.utcTimezone:t&&(r=t.getParameter("tzid"),t.parent&&(t.parent.name==="standard"||t.parent.name==="daylight"?i=R.localTimezone:r&&(i=t.parent.getTimeZoneByID(r))));const s={year:ne(e.slice(0,4)),month:ne(e.slice(5,7)),day:ne(e.slice(8,10)),hour:ne(e.slice(11,13)),minute:ne(e.slice(14,16)),second:ne(e.slice(17,19))};return r&&!i&&(s.timezone=r),new E(s,i)}static fromString(e,t){return e.length>10?E.fromDateTimeString(e,t):E.fromDateString(e)}static fromJSDate(e,t){return new E().fromJSDate(e,t)}static fromData=function(t,i){return new E().fromData(t,i)};static now(){return E.fromJSDate(new Date,!1)}static weekOneStarts(e,t){let i=E.fromData({year:e,month:1,day:1,isDate:!0}),r=i.dayOfWeek(),s=t||E.DEFAULT_WEEK_START;return r>E.THURSDAY&&(i.day+=7),s>E.THURSDAY&&(i.day-=7),i.day-=r-s,i}static getDominicalLetter(e){let t="GFEDCBA",i=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return E.isLeapYear(e)?t[(i+6)%7]+t[i]:t[i]}static#e=null;static get epochTime(){return this.#e||(this.#e=E.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),this.#e}static _cmp_attr(e,t,i){return e[i]>t[i]?1:e[i]<t[i]?-1:0}static daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]];static SUNDAY=1;static MONDAY=2;static TUESDAY=3;static WEDNESDAY=4;static THURSDAY=5;static FRIDAY=6;static SATURDAY=7;static DEFAULT_WEEK_START=2;constructor(e,t){this.wrappedJSObject=this,this._time=Object.create(null),this._time.year=0,this._time.month=1,this._time.day=1,this._time.hour=0,this._time.minute=0,this._time.second=0,this._time.isDate=!1,this.fromData(e,t)}icalclass="icaltime";_cachedUnixTime=null;get icaltype(){return this.isDate?"date":"date-time"}zone=null;_pendingNormalization=!1;get year(){return this._getTimeAttr("year")}set year(e){this._setTimeAttr("year",e)}get month(){return this._getTimeAttr("month")}set month(e){this._setTimeAttr("month",e)}get day(){return this._getTimeAttr("day")}set day(e){this._setTimeAttr("day",e)}get hour(){return this._getTimeAttr("hour")}set hour(e){this._setTimeAttr("hour",e)}get minute(){return this._getTimeAttr("minute")}set minute(e){this._setTimeAttr("minute",e)}get second(){return this._getTimeAttr("second")}set second(e){this._setTimeAttr("second",e)}get isDate(){return this._getTimeAttr("isDate")}set isDate(e){this._setTimeAttr("isDate",e)}_getTimeAttr(e){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[e]}_setTimeAttr(e,t){e==="isDate"&&t&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[e]=t}clone(){return new E(this._time,this.zone)}reset(){this.fromData(E.epochTime),this.zone=R.utcTimezone}resetTo(e,t,i,r,s,l,a){this.fromData({year:e,month:t,day:i,hour:r,minute:s,second:l,zone:a})}fromJSDate(e,t){return e?t?(this.zone=R.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=R.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,t){if(e)for(let[i,r]of Object.entries(e))i!=="icaltype"&&(this[i]=r);if(t&&(this.zone=t),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let i=Sn.get(e.timezone);this.zone=i||R.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=R.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let t=e||E.SUNDAY,i=(this.year<<12)+(this.month<<8)+(this.day<<3)+t;if(i in E._dowCache)return E._dowCache[i];let r=this.day,s=this.month+(this.month<3?12:0),l=this.year-(this.month<3?1:0),a=r+l+$((s+1)*26/10)+$(l/4);return a+=$(l/100)*6+$(l/400),a=(a+7-t)%7+1,E._dowCache[i]=a,a}dayOfYear(){let e=E.isLeapYear(this.year)?1:0;return E.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let t=e||E.SUNDAY,i=this.clone();return i.day-=(this.dayOfWeek()+7-t)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i}endOfWeek(e){let t=e||E.SUNDAY,i=this.clone();return i.day+=(7-this.dayOfWeek()+t-E.SUNDAY)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=E.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let t=e||E.SUNDAY,i=this.dayOfWeek()-t;return i<0&&(i+=7),this.dayOfYear()-i}getDominicalLetter(){return E.getDominicalLetter(this.year)}nthWeekDay(e,t){let i=E.daysInMonth(this.month,this.year),r,s=t,l=0,a=this.clone();if(s>=0){a.day=1,s!=0&&s--,l=a.day;let o=a.dayOfWeek(),c=e-o;c<0&&(c+=7),l+=c,l-=e,r=e}else{a.day=i;let o=a.dayOfWeek();s++,r=o-e,r<0&&(r+=7),r=i-r}return r+=s*7,l+r}isNthWeekDay(e,t){let i=this.dayOfWeek();return t===0&&i===e||this.nthWeekDay(e,t)===this.day}weekNumber(e){let t=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(t in E._wnCache)return E._wnCache[t];let i,r=this.clone();r.isDate=!0;let s=this.year;r.month==12&&r.day>25?(i=E.weekOneStarts(s+1,e),r.compare(i)<0?i=E.weekOneStarts(s,e):s++):(i=E.weekOneStarts(s,e),r.compare(i)<0&&(i=E.weekOneStarts(--s,e)));let l=r.subtractDate(i).toSeconds()/86400,a=$(l/7)+1;return E._wnCache[t]=a,a}addDuration(e){let t=e.isNegative?-1:1,i=this.second,r=this.minute,s=this.hour,l=this.day;i+=t*e.seconds,r+=t*e.minutes,s+=t*e.hours,l+=t*e.days,l+=t*7*e.weeks,this.second=i,this.minute=r,this.hour=s,this.day=l,this._cachedUnixTime=null}subtractDate(e){let t=this.toUnixTime()+this.utcOffset(),i=e.toUnixTime()+e.utcOffset();return re.fromSeconds(t-i)}subtractDateTz(e){let t=this.toUnixTime(),i=e.toUnixTime();return re.fromSeconds(t-i)}compare(e){if(e instanceof Ae)return-1*e.compare(this);{let t=this.toUnixTime(),i=e.toUnixTime();return t>i?1:i>t?-1:0}}compareDateOnlyTz(e,t){let i=this.convertToZone(t),r=e.convertToZone(t),s=0;return(s=E._cmp_attr(i,r,"year"))!=0||(s=E._cmp_attr(i,r,"month"))!=0||(s=E._cmp_attr(i,r,"day"))!=0,s}convertToZone(e){let t=this.clone(),i=this.zone.tzid==e.tzid;return!this.isDate&&!i&&R.convert_time(t,this.zone,e),t.zone=e,t}utcOffset(){return this.zone==R.localTimezone||this.zone==R.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?G.icalendar.value["date-time"].toICAL(e):G.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+de(this.month)+"-"+de(this.day);return this.isDate||(e+="T"+de(this.hour)+":"+de(this.minute)+":"+de(this.second),this.zone===R.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==R.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,t,i,r,s){let l,a,o=0,c=0,u,d,h,f,m,p=s||this._time;if(p.isDate||(u=p.second+r,p.second=u%60,l=$(u/60),p.second<0&&(p.second+=60,l--),d=p.minute+i+l,p.minute=d%60,a=$(d/60),p.minute<0&&(p.minute+=60,a--),h=p.hour+t+a,p.hour=h%24,o=$(h/24),p.hour<0&&(p.hour+=24,o--)),p.month>12?c=$((p.month-1)/12):p.month<1&&(c=$(p.month/12)-1),p.year+=c,p.month-=12*c,f=p.day+e+o,f>0)for(;m=E.daysInMonth(p.month,p.year),!(f<=m);)p.month++,p.month>12&&(p.year++,p.month=1),f-=m;else for(;f<=0;)p.month==1?(p.year--,p.month=12):p.month--,f+=E.daysInMonth(p.month,p.year);return p.day=f,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=R.utcTimezone;let t=new Date(e*1e3);this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=t/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],t=Object.create(null),i=0,r=e.length,s;for(;i<r;i++)s=e[i],t[s]=this[s];return this.zone&&(t.timezone=this.zone.tzid),t}}const Rg=/[^ \t]/,En=":",wi=";",Cg="=",xg="unknown",Ig="text",Mg={"^'":'"',"^n":`
`,"^^":"^"};function Y(n){let e={},t=e.component=[];if(e.stack=[t],Y._eachLine(n,function(i,r){Y._handleContentLine(r,e)}),e.stack.length>1)throw new Ze("invalid ical body. component began but did not end");return e=null,t.length==1?t[0]:t}Y.property=function(n,e){let t={component:[[],[]],designSet:e||G.defaultSet};return Y._handleContentLine(n,t),t.component[1][0]};Y.component=function(n){return Y(n)};class Ze extends Error{name=this.constructor.name}Y.ParserError=Ze;Y._handleContentLine=function(n,e){let t=n.indexOf(En),i=n.indexOf(wi),r,s,l,a,o={};i!==-1&&t!==-1&&i>t&&(i=-1);let c;if(i!==-1){if(l=n.slice(0,Math.max(0,i)).toLowerCase(),c=Y._parseParameters(n.slice(Math.max(0,i)),0,e.designSet),c[2]==-1)throw new Ze("Invalid parameters in '"+n+"'");o=c[0];let b;if(typeof c[1]=="string"?b=c[1].length:b=c[1].reduce((S,w)=>S+w.length,0),r=b+c[2]+i,(s=n.slice(Math.max(0,r)).indexOf(En))!==-1)a=n.slice(Math.max(0,r+s+1));else throw new Ze("Missing parameter value in '"+n+"'")}else if(t!==-1){if(l=n.slice(0,Math.max(0,t)).toLowerCase(),a=n.slice(Math.max(0,t+1)),l==="begin"){let b=[a.toLowerCase(),[],[]];e.stack.length===1?e.component.push(b):e.component[2].push(b),e.stack.push(e.component),e.component=b,e.designSet||(e.designSet=G.getDesignSet(e.component[0]));return}else if(l==="end"){e.component=e.stack.pop();return}}else throw new Ze('invalid line (no token ";" or ":") "'+n+'"');let u,d=!1,h=!1,f,m,p;e.designSet.propertyGroups&&l.indexOf(".")!==-1?(m=l.split("."),o.group=m[0],p=m[1]):p=l,p in e.designSet.property&&(f=e.designSet.property[p],"multiValue"in f&&(d=f.multiValue),"structuredValue"in f&&(h=f.structuredValue),a&&"detectType"in f&&(u=f.detectType(a))),u||("value"in o?u=o.value.toLowerCase():f?u=f.defaultType:u=xg),delete o.value;let v;d&&h?(a=Y._parseMultiValue(a,h,u,[],d,e.designSet,h),v=[p,o,u,a]):d?(v=[p,o,u],Y._parseMultiValue(a,d,u,v,null,e.designSet,!1)):h?(a=Y._parseMultiValue(a,h,u,[],null,e.designSet,h),v=[p,o,u,a]):(a=Y._parseValue(a,u,e.designSet,!1),v=[p,o,u,a]),e.component[0]==="vcard"&&e.component[1].length===0&&!(l==="version"&&a==="4.0")&&(e.designSet=G.getDesignSet("vcard3")),e.component[1].push(v)};Y._parseValue=function(n,e,t,i){return e in t.value&&"fromICAL"in t.value[e]?t.value[e].fromICAL(n,i):n};Y._parseParameters=function(n,e,t){let i=e,r=0,s=Cg,l={},a,o,c,u=-1,d,h,f;for(;r!==!1&&(r=n.indexOf(s,r+1))!==-1;){if(a=n.slice(i+1,r),a.length==0)throw new Ze("Empty parameter name in '"+n+"'");if(o=a.toLowerCase(),f=!1,h=!1,o in t.param&&t.param[o].valueType?d=t.param[o].valueType:d=Ig,o in t.param&&(h=t.param[o].multiValue,t.param[o].multiValueSeparateDQuote&&(f=Y._rfc6868Escape('"'+h+'"'))),n[r+1]==='"'){if(u=r+2,r=n.indexOf('"',u),h&&r!=-1){let b=!0;for(;b;)n[r+1]==h&&n[r+2]=='"'?r=n.indexOf('"',r+3):b=!1}if(r===-1)throw new Ze('invalid line (no matching double quote) "'+n+'"');c=n.slice(u,r),i=n.indexOf(wi,r);let v=n.indexOf(En,r);(i===-1||v!==-1&&i>v)&&(r=!1)}else{u=r+1;let v=n.indexOf(wi,u),b=n.indexOf(En,u);b!==-1&&v>b?(v=b,r=!1):v===-1?(b===-1?v=n.length:v=b,r=!1):(i=v,r=v),c=n.slice(u,v)}const p=c.length;if(c=Y._rfc6868Escape(c),u+=p-c.length,h){let v=f||h;c=Y._parseMultiValue(c,v,d,[],null,t)}else c=Y._parseValue(c,d,t);h&&o in l?Array.isArray(l[o])?l[o].push(c):l[o]=[l[o],c]:l[o]=c}return[l,c,u]};Y._rfc6868Escape=function(n){return n.replace(/\^['n^]/g,function(e){return Mg[e]})};Y._parseMultiValue=function(n,e,t,i,r,s,l){let a=0,o=0,c;if(e.length===0)return n;for(;(a=Ha(n,e,o))!==-1;)c=n.slice(o,a),r?c=Y._parseMultiValue(c,r,t,[],null,s,l):c=Y._parseValue(c,t,s,l),i.push(c),o=a+e.length;return c=n.slice(o),r?c=Y._parseMultiValue(c,r,t,[],null,s,l):c=Y._parseValue(c,t,s,l),i.push(c),i.length==1?i[0]:i};Y._eachLine=function(n,e){let t=n.length,i=n.search(Rg),r=i,s,l,a;do r=n.indexOf(`
`,i)+1,r>1&&n[r-2]==="\r"?a=2:a=1,r===0&&(r=t,a=0),l=n[i],l===" "||l==="	"?s+=n.slice(i+1,r-a):(s&&e(null,s),s=n.slice(i,r-a)),i=r;while(r!==t);s=s.trim(),s.length&&e(null,s)};const Og=["tzid","location","tznames","latitude","longitude"];class R{static _compare_change_fn(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:e.hour<t.hour?-1:e.hour>t.hour?1:e.minute<t.minute?-1:e.minute>t.minute?1:e.second<t.second?-1:e.second>t.second?1:0}static convert_time(e,t,i){if(e.isDate||t.tzid==i.tzid||t==R.localTimezone||i==R.localTimezone)return e.zone=i,e;let r=t.utcOffset(e);return e.adjust(0,0,0,-r),r=i.utcOffset(e),e.adjust(0,0,0,r),null}static fromData(e){return new R().fromData(e)}static#e=null;static get utcTimezone(){return this.#e||(this.#e=R.fromData({tzid:"UTC"})),this.#e}static#t=null;static get localTimezone(){return this.#t||(this.#t=R.fromData({tzid:"floating"})),this.#t}static adjust_change(e,t,i,r,s){return E.prototype.adjust.call(e,t,i,r,s,e)}static _minimumExpansionYear=-1;static EXTRA_COVERAGE=5;constructor(e){this.wrappedJSObject=this,this.fromData(e)}tzid="";location="";tznames="";latitude=0;longitude=0;component=null;expandedUntilYear=0;icalclass="icaltimezone";fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof he)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let t=Y(e.component);this.component=new he(t)}else e.component instanceof he?this.component=e.component:this.component=null;for(let t of Og)e&&t in e&&(this[t]=e[t])}return this.component instanceof he&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==R.utcTimezone||this==R.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let t={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},i=this._findNearbyChange(t),r=-1,s=1;for(;;){let o=it(this.changes[i],!0);if(o.utcOffset<o.prevUtcOffset?R.adjust_change(o,0,0,0,o.utcOffset):R.adjust_change(o,0,0,0,o.prevUtcOffset),R._compare_change_fn(t,o)>=0?r=i:s=-1,s==-1&&r!=-1)break;if(i+=s,i<0)return 0;if(i>=this.changes.length)break}let l=this.changes[r];if(l.utcOffset-l.prevUtcOffset<0&&r>0){let o=it(l,!0);if(R.adjust_change(o,0,0,0,o.prevUtcOffset),R._compare_change_fn(t,o)<0){let c=this.changes[r-1],u=!1;l.is_daylight!=u&&c.is_daylight==u&&(l=c)}}return l.utcOffset}_findNearbyChange(e){let t=$e(this.changes,e,R._compare_change_fn);return t>=this.changes.length?this.changes.length-1:t}_ensureCoverage(e){if(R._minimumExpansionYear==-1){let i=E.now();R._minimumExpansionYear=i.year}let t=e;if(t<R._minimumExpansionYear&&(t=R._minimumExpansionYear),t+=R.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let i=this.component.getAllSubcomponents(),r=i.length,s=0;for(;s<r;s++)this._expandComponent(i[s],t,this.changes);this.changes.sort(R._compare_change_fn),this.expandedUntilYear=t}}_expandComponent(e,t,i){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let r=e.getFirstProperty("dtstart").getFirstValue(),s;function l(o){return o.factor*(o.hours*3600+o.minutes*60)}function a(){let o={};return o.is_daylight=e.name=="daylight",o.utcOffset=l(e.getFirstProperty("tzoffsetto").getFirstValue()),o.prevUtcOffset=l(e.getFirstProperty("tzoffsetfrom").getFirstValue()),o}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))s=a(),s.year=r.year,s.month=r.month,s.day=r.day,s.hour=r.hour,s.minute=r.minute,s.second=r.second,R.adjust_change(s,0,0,0,-s.prevUtcOffset),i.push(s);else{let o=e.getAllProperties("rdate");for(let u of o){let d=u.getFirstValue();s=a(),s.year=d.year,s.month=d.month,s.day=d.day,d.isDate?(s.hour=r.hour,s.minute=r.minute,s.second=r.second,r.zone!=R.utcTimezone&&R.adjust_change(s,0,0,0,-s.prevUtcOffset)):(s.hour=d.hour,s.minute=d.minute,s.second=d.second,d.zone!=R.utcTimezone&&R.adjust_change(s,0,0,0,-s.prevUtcOffset)),i.push(s)}let c=e.getFirstProperty("rrule");if(c){c=c.getFirstValue(),s=a(),c.until&&c.until.zone==R.utcTimezone&&(c.until.adjust(0,0,0,s.prevUtcOffset),c.until.zone=R.localTimezone);let u=c.iterator(r),d;for(;(d=u.next())&&(s=a(),!(d.year>t||!d));)s.year=d.year,s.month=d.month,s.day=d.day,s.hour=d.hour,s.minute=d.minute,s.second=d.second,s.isDate=d.isDate,R.adjust_change(s,0,0,0,-s.prevUtcOffset),i.push(s)}}return i}toString(){return this.tznames?this.tznames:this.tzid}}let se=null;const Sn={get count(){return se===null?0:Object.keys(se).length},reset:function(){se=Object.create(null);let n=R.utcTimezone;se.Z=n,se.UTC=n,se.GMT=n},_hard_reset:function(){se=null},has:function(n){return se===null?!1:!!se[n]},get:function(n){return se===null&&this.reset(),se[n]},register:function(n,e){if(se===null&&this.reset(),typeof n=="string"&&e instanceof R&&([n,e]=[e,n]),e||(n instanceof R?e=n.tzid:n.name==="vtimezone"&&(n=new R(n),e=n.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(n instanceof R)se[e]=n;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(n){return se===null?null:delete se[n]}};function Ng(n){let e,t,i,r,s;if(!n||n.name!=="vcalendar")return n;for(e=n.getAllSubcomponents(),t=[],i={},s=0;s<e.length;s++)if(e[s].name==="vtimezone"){let l=e[s].getFirstProperty("tzid").getFirstValue();i[l]=e[s]}else t=t.concat(e[s].getAllProperties());for(r={},s=0;s<t.length;s++){let l=t[s].getParameter("tzid");l&&(r[l]=!0)}for(let[l,a]of Object.entries(i))r[l]||n.removeSubcomponent(a);for(let l of Object.keys(r))!i[l]&&Sn.has(l)&&n.addSubcomponent(Sn.get(l).component);return n}function Rt(n){return typeof n=="number"&&isNaN(n)}function ne(n){let e=parseInt(n,10);if(Rt(e))throw new Error('Could not extract integer from "'+n+'"');return e}function _e(n,e){if(!(typeof n>"u"))return n instanceof e?n:new e(n)}function Ha(n,e,t){for(;(t=n.indexOf(e,t))!==-1;)if(t>0&&n[t-1]==="\\")t+=1;else return t;return-1}function $e(n,e,t){if(!n.length)return 0;let i=0,r=n.length-1,s,l;for(;i<=r;)if(s=i+Math.floor((r-i)/2),l=t(e,n[s]),l<0)r=s-1;else if(l>0)i=s+1;else break;return l<0?s:l>0?s+1:s}function it(n,e){if(!n||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if("clone"in n)return n.clone();if(Array.isArray(n)){let t=[];for(let i=0;i<n.length;i++)t.push(e?it(n[i],!0):n[i]);return t}else{let t={};for(let[i,r]of Object.entries(n))e?t[i]=it(r,!0):t[i]=r;return t}}function Ba(n){let e="",t=n||"",i=0,r=0;for(;t.length;){let s=t.codePointAt(i);s<128?++r:s<2048?r+=2:s<65536?r+=3:r+=4,r<ht.foldLength+1?i+=s>65535?2:1:(e+=ht.newLineChar+" "+t.slice(0,Math.max(0,i)),t=t.slice(Math.max(0,i)),i=r=0)}return e.slice(ht.newLineChar.length+1)}function de(n){switch(typeof n!="string"&&(typeof n=="number"&&(n=parseInt(n)),n=String(n)),n.length){case 0:return"00";case 1:return"0"+n;default:return n}}function $(n){return n<0?Math.ceil(n):Math.floor(n)}function lt(n,e){for(let t in n){let i=Object.getOwnPropertyDescriptor(n,t);i&&!Object.getOwnPropertyDescriptor(e,t)&&Object.defineProperty(e,t,i)}return e}var kg=Object.freeze({__proto__:null,binsearchInsert:$e,clone:it,extend:lt,foldline:Ba,formatClassType:_e,isStrictlyNaN:Rt,pad2:de,strictParseInt:ne,trunc:$,unescapedIndexOf:Ha,updateTimezones:Ng});class pe{static fromString(e){let t={};return t.factor=e[0]==="+"?1:-1,t.hours=ne(e.slice(1,3)),t.minutes=ne(e.slice(4,6)),new pe(t)}static fromSeconds(e){let t=new pe;return t.fromSeconds(e),t}constructor(e){this.fromData(e)}hours=0;minutes=0;factor=1;icaltype="utc-offset";clone(){return pe.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[t,i]of Object.entries(e))this[t]=i;this._normalize()}fromSeconds(e){let t=Math.abs(e);return this.factor=e<0?-1:1,this.hours=$(t/3600),t-=this.hours*3600,this.minutes=$(t/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let t=this.toSeconds(),i=e.toSeconds();return(t>i)-(i>t)}_normalize(){let e=this.toSeconds(),t=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=t)}toICALString(){return G.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+de(this.hours)+":"+de(this.minutes)}}class Be extends E{static fromDateAndOrTimeString(e,t){function i(p,v,b){return p?ne(p.slice(v,v+b)):null}let r=e.split("T"),s=r[0],l=r[1],a=l?G.vcard.value.time._splitZone(l):[],o=a[0],c=a[1],u=s?s.length:0,d=c?c.length:0,h=s&&s[0]=="-"&&s[1]=="-",f=c&&c[0]=="-",m={year:h?null:i(s,0,4),month:h&&(u==4||u==7)?i(s,2,2):u==7||u==10?i(s,5,2):null,day:u==5?i(s,3,2):u==7&&h?i(s,5,2):u==10?i(s,8,2):null,hour:f?null:i(c,0,2),minute:f&&d==3?i(c,1,2):d>4?f?i(c,1,2):i(c,3,2):null,second:d==4?i(c,2,2):d==6?i(c,4,2):d==8?i(c,6,2):null};return o=="Z"?o=R.utcTimezone:o&&o[3]==":"?o=pe.fromString(o):o=null,new Be(m,o,t)}constructor(e,t,i){super(e,t),this.icaltype=i||"date-and-or-time"}icalclass="vcardtime";icaltype="date-and-or-time";clone(){return new Be(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof pe?this.zone.toSeconds():E.prototype.utcOffset.apply(this,arguments)}toICALString(){return G.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let e=this.year,t=this.month,i=this.day,r=this.hour,s=this.minute,l=this.second,a=e!==null,o=t!==null,c=i!==null,u=r!==null,d=s!==null,h=l!==null,f=(a?de(e)+(o||c?"-":""):o||c?"--":"")+(o?de(t):"")+(c?"-"+de(i):""),m=(u?de(r):"-")+(u&&d?":":"")+(d?de(s):"")+(!u&&!d?"-":"")+(d&&h?":":"")+(h?de(l):""),p;switch(this.zone===R.utcTimezone?p="Z":this.zone instanceof pe?p=this.zone.toString():this.zone===R.localTimezone?p="":this.zone instanceof R?p=pe.fromSeconds(this.zone.utcOffset(this)).toString():p="",this.icaltype){case"time":return m+p;case"date-and-or-time":case"date-time":return f+(m=="--"?"":"T"+m+p);case"date":return f}return null}}class Ee{static _indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8};static _expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]};static UNKNOWN=0;static CONTRACT=1;static EXPAND=2;static ILLEGAL=3;constructor(e){this.fromData(e)}completed=!1;rule=null;dtstart=null;last=null;occurrence_number=0;by_indices=null;initialized=!1;by_data=null;days=null;days_index=0;fromData(e){if(this.rule=_e(e.rule,ie),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=_e(e.dtstart,E),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=it(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=_e(e.last,E)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(t){if(t instanceof Vt)this.completed=!0;else throw t}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,t]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),i=t-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<t&&i>=0||i<0)&&(this.last.day+=i)}else{let t=ie.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[t]}if(this.rule.freq=="YEARLY"){const t=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=t&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new Vt;if(!this._nextByYearDay()&&!this.next_year()&&!this.next_year()&&!this.next_year())throw new Vt}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let t=null,i=this.last.clone(),r=E.daysInMonth(this.last.month,this.last.year);for(let s of this.by_data.BYDAY){this.last=i.clone();let[l,a]=this.ruleDayOfWeek(s),o=this.last.nthWeekDay(a,l);if(l>=6||l<=-6)throw new Error("Malformed values in BYDAY part");if(o>r||o<=0){if(t&&t.month==i.month)continue;for(;o>r||o<=0;)this.increment_month(),r=E.daysInMonth(this.last.month,this.last.year),o=this.last.nthWeekDay(a,l)}this.last.day=o,(!t||this.last.compare(t)<0)&&(t=this.last.clone())}if(this.last=t.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>r||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let t=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(i=>i>=this.last.day);if(t.length)this.last.day=t[0],this.by_data.BYMONTHDAY=t;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new Vt}}}next(e=!1){let t=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let i,r=0;do switch(i=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":if(i=this.next_month(),i)r=0;else if(++r==336)return this.completed=!0,null;break;case"YEARLY":if(i=this.next_year(),i)r=0;else if(++r==28)return this.completed=!0,null;break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!i);if(this.last.compare(t)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let t=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*t,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,t,i){let r=E.daysInMonth(t,e),s=[],l=0,a=i.length,o;for(;l<a;l++){if(o=parseInt(i[l],10),isNaN(o))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(o)>r)){if(o<0)o=r+(o+1);else if(o===0)continue;s.indexOf(o)===-1&&s.push(o)}}return s.sort(function(c,u){return c-u})}_byDayAndMonthDay(e){let t,i=this.by_data.BYDAY,r,s=0,l,a=i.length,o=0,c,u=this,d=this.last.day;function h(){for(c=E.daysInMonth(u.last.month,u.last.year),t=u.normalizeByMonthDayRules(u.last.year,u.last.month,u.by_data.BYMONTHDAY),l=t.length;t[s]<=d&&!(e&&t[s]==d)&&s<l-1;)s++}function f(){d=0,u.increment_month(),s=0,h()}h(),e&&(d-=1);let m=48;for(;!o&&m;){if(m--,r=d+1,r>c){f();continue}let p=t[s++];if(p>=r)d=p;else{f();continue}for(let v=0;v<a;v++){let b=this.ruleDayOfWeek(i[v]),S=b[0],w=b[1];if(this.last.day=d,this.last.isNthWeekDay(w,S)){o=1;break}}if(!o&&s===l){f();continue}}if(m<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return o}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let t=E.daysInMonth(this.last.month,this.last.year),i=0,r=0;if(this.has_by_data("BYSETPOS")){let l=this.last.day;for(let a=1;a<=t;a++)this.last.day=a,this.is_day_in_byday(this.last)&&(r++,a<=l&&i++);this.last.day=l}e=0;let s;for(s=this.last.day+1;s<=t;s++)if(this.last.day=s,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++i)||this.check_set_position(i-r-1))){e=1;break}s>t&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let t=E.daysInMonth(this.last.month,this.last.year),i=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];i<0&&(i=t+i+1),i>t?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=i}else{this.increment_month();let t=E.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>t?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let t=new E;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let i=this.by_data.BYDAY[this.by_indices.BYDAY],s=this.ruleDayOfWeek(i)[1];s-=this.rule.wkst,s<0&&(s+=7),t.year=this.last.year,t.month=this.last.month,t.day=this.last.day;let l=t.startDoyWeek(this.rule.wkst);if(s+l<1&&!e)continue;let a=E.fromDayOfYear(l+s,this.last.year);return this.last.year=a.year,this.last.month=a.month,this.last.day=a.day,e}}next_year(){return this.next_hour()==0||(this.days.length==0||++this.days_index==this.days.length)&&(this.days_index=0,this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year),this.days.length==0)?0:this._nextByYearDay()}_nextByYearDay(){let e=this.days[this.days_index],t=this.last.year;if(Math.abs(e)==366&&!E.isLeapYear(this.last.year))return 0;e<1&&(e+=1,t+=1);let i=E.fromDayOfYear(e,t);return this.last.day=i.day,this.last.month=i.month,1}ruleDayOfWeek(e,t){let i=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(i){let r=parseInt(i[1]||0,10);return e=ie.icalDayToNumericDay(i[2],t),[r,e]}else return[0,0]}next_generic(e,t,i,r,s){let l=e in this.by_data,a=this.rule.freq==t,o=0;if(s&&this[s]()==0)return o;if(l){this.by_indices[e]++;let c=this.by_data[e];this.by_indices[e]==c.length&&(this.by_indices[e]=0,o=1),this.last[i]=c[this.by_indices[e]]}else a&&this["increment_"+i](this.rule.interval);return l&&o&&a&&this["increment_"+r](1),o}increment_monthday(e){for(let t=0;t<e;t++){let i=E.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>i&&(this.last.day-=i,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=$(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,t,i,r){this.last[t]+=e;let s=$(this.last[t]/i);this.last[t]%=i,s!=0&&this["increment_"+r](s)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let t=new E;this.days=[];let i={},r=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let a of r)a in this.rule.parts&&(i[a]=this.rule.parts[a]);if("BYMONTH"in i&&"BYWEEKNO"in i){let a=1,o={};t.year=e,t.isDate=!0;for(let c=0;c<this.by_data.BYMONTH.length;c++){let u=this.by_data.BYMONTH[c];t.month=u,t.day=1;let d=t.weekNumber(this.rule.wkst);t.day=E.daysInMonth(u,e);let h=t.weekNumber(this.rule.wkst);for(c=d;c<h;c++)o[c]=1}for(let c=0;c<this.by_data.BYWEEKNO.length&&a;c++)this.by_data.BYWEEKNO[c]<52?a&=o[c]:a=0;a?delete i.BYMONTH:delete i.BYWEEKNO}let s=Object.keys(i).length;if(s==0){let a=this.dtstart.clone();a.year=this.last.year,this.days.push(a.dayOfYear())}else if(s==1&&"BYMONTH"in i)for(let a of this.by_data.BYMONTH){let o=this.dtstart.clone();o.year=e,o.month=a,o.isDate=!0,this.days.push(o.dayOfYear())}else if(s==1&&"BYMONTHDAY"in i)for(let a of this.by_data.BYMONTHDAY){let o=this.dtstart.clone();if(a<0){let c=E.daysInMonth(o.month,e);a=a+c+1}o.day=a,o.year=e,o.isDate=!0,this.days.push(o.dayOfYear())}else if(s==2&&"BYMONTHDAY"in i&&"BYMONTH"in i)for(let a of this.by_data.BYMONTH){let o=E.daysInMonth(a,e);for(let c of this.by_data.BYMONTHDAY)c<0&&(c=c+o+1),t.day=c,t.month=a,t.year=e,t.isDate=!0,this.days.push(t.dayOfYear())}else if(!(s==1&&"BYWEEKNO"in i)){if(!(s==2&&"BYWEEKNO"in i&&"BYMONTHDAY"in i)){if(s==1&&"BYDAY"in i)this.days=this.days.concat(this.expand_by_day(e));else if(s==2&&"BYDAY"in i&&"BYMONTH"in i){for(let a of this.by_data.BYMONTH){let o=E.daysInMonth(a,e);t.year=e,t.month=a,t.day=1,t.isDate=!0;let c=t.dayOfWeek(),u=t.dayOfYear()-1;t.day=o;let d=t.dayOfWeek();if(this.has_by_data("BYSETPOS")){let h=[];for(let f=1;f<=o;f++)t.day=f,this.is_day_in_byday(t)&&h.push(f);for(let f=0;f<h.length;f++)(this.check_set_position(f+1)||this.check_set_position(f-h.length))&&this.days.push(u+h[f])}else for(let h of this.by_data.BYDAY){let f=this.ruleDayOfWeek(h),m=f[0],p=f[1],v,b=(p+7-c)%7+1,S=o-(d+7-p)%7;if(m==0)for(let w=b;w<=o;w+=7)this.days.push(u+w);else m>0?(v=b+(m-1)*7,v<=o&&this.days.push(u+v)):(v=S+(m+1)*7,v>0&&this.days.push(u+v))}}this.days.sort(function(a,o){return a-o})}else if(s==2&&"BYDAY"in i&&"BYMONTHDAY"in i){let a=this.expand_by_day(e);for(let o of a){let c=E.fromDayOfYear(o,e);this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(o)}}else if(s==3&&"BYDAY"in i&&"BYMONTHDAY"in i&&"BYMONTH"in i){let a=this.expand_by_day(e);for(let o of a){let c=E.fromDayOfYear(o,e);this.by_data.BYMONTH.indexOf(c.month)>=0&&this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(o)}}else if(s==2&&"BYDAY"in i&&"BYWEEKNO"in i){let a=this.expand_by_day(e);for(let o of a){let u=E.fromDayOfYear(o,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(u)&&this.days.push(o)}}else if(!(s==3&&"BYDAY"in i&&"BYWEEKNO"in i&&"BYMONTHDAY"in i))if(s==1&&"BYYEARDAY"in i)this.days=this.days.concat(this.by_data.BYYEARDAY);else if(s==2&&"BYYEARDAY"in i&&"BYDAY"in i){let a=E.isLeapYear(e)?366:365,o=new Set(this.expand_by_day(e));for(let c of this.by_data.BYYEARDAY)c<0&&(c+=a+1),o.has(c)&&this.days.push(c)}else this.days=[]}}let l=E.isLeapYear(e)?366:365;return this.days.sort((a,o)=>(a<0&&(a+=l+1),o<0&&(o+=l+1),a-o)),0}expand_by_day(e){let t=[],i=this.last.clone();i.year=e,i.month=1,i.day=1,i.isDate=!0;let r=i.dayOfWeek();i.month=12,i.day=31,i.isDate=!0;let s=i.dayOfWeek(),l=i.dayOfYear();for(let a of this.by_data.BYDAY){let o=this.ruleDayOfWeek(a),c=o[0],u=o[1];if(c==0){let d=(u+7-r)%7+1;for(let h=d;h<=l;h+=7)t.push(h)}else if(c>0){let d;u>=r?d=u-r+1:d=u-r+8,t.push(d+(c-1)*7)}else{let d;c=-c,u<=s?d=l-s+u:d=l-s+u-7,t.push(d-(c-1)*7)}}return t}is_day_in_byday(e){if(this.by_data.BYDAY)for(let t of this.by_data.BYDAY){let i=this.ruleDayOfWeek(t),r=i[0],s=i[1],l=e.dayOfWeek();if(r==0&&s==l||e.nthWeekDay(s,r)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let t=0;t<e.length;t++)for(let i=0;i<t;i++){let r=this.ruleDayOfWeek(e[i],this.rule.wkst)[1],s=this.ruleDayOfWeek(e[t],this.rule.wkst)[1];if(r>s){let l=e[t];e[t]=e[i],e[i]=l}}}check_contract_restriction(e,t){let i=Ee._indexMap[e],r=Ee._expandMap[this.rule.freq][i],s=!1;if(e in this.by_data&&r==Ee.CONTRACT){let l=this.by_data[e];for(let a of l)if(a==t){s=!0;break}}else s=!0;return s}check_contracting_rules(){let e=this.last.dayOfWeek(),t=this.last.weekNumber(this.rule.wkst),i=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ie.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",t)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",i)}setup_defaults(e,t,i){let r=Ee._indexMap[e];return Ee._expandMap[this.rule.freq][r]!=Ee.CONTRACT&&(e in this.by_data||(this.by_data[e]=[i]),this.rule.freq!=t)?this.by_data[e][0]:i}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}}class Vt extends Error{constructor(){super("Recurrence rule has no valid occurrences")}}const Pg=/^(SU|MO|TU|WE|TH|FR|SA)$/,Hg=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,La={SU:E.SUNDAY,MO:E.MONDAY,TU:E.TUESDAY,WE:E.WEDNESDAY,TH:E.THURSDAY,FR:E.FRIDAY,SA:E.SATURDAY},Bg=Object.fromEntries(Object.entries(La).map(n=>n.reverse())),ws=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"];class ie{static fromString(e){let t=this._stringToData(e,!1);return new ie(t)}static fromData(e){return new ie(e)}static _stringToData(e,t){let i=Object.create(null),r=e.split(";"),s=r.length;for(let l=0;l<s;l++){let a=r[l].split("="),o=a[0].toUpperCase(),c=a[0].toLowerCase(),u=t?c:o,d=a[1];if(o in Xn){let h=d.split(","),f=new Set;for(let m of h)f.add(Xn[o](m));h=[...f],i[u]=h.length==1?h[0]:h}else o in $n?$n[o](d,i,t):i[c]=d}return i}static icalDayToNumericDay(e,t){let i=t||E.SUNDAY;return(La[e]-i+7)%7+1}static numericDayToIcalDay(e,t){let i=t||E.SUNDAY,r=e+i-E.SUNDAY;return r>7&&(r-=7),Bg[r]}constructor(e){this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}parts=null;interval=1;wkst=E.MONDAY;until=null;count=null;freq=null;icalclass="icalrecur";icaltype="recur";iterator(e){return new Ee({rule:this,dtstart:e})}clone(){return new ie(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,t){let i=e.toUpperCase();i in this.parts?this.parts[i].push(t):this.parts[i]=[t]}setComponent(e,t){this.parts[e.toUpperCase()]=t.slice()}getComponent(e){let t=e.toUpperCase();return t in this.parts?this.parts[t].slice():[]}getNextOccurrence(e,t){let i=this.iterator(e),r;do r=i.next();while(r&&r.compare(t)<=0);return r&&t.zone&&(r.zone=t.zone),r}fromData(e){for(let t in e){let i=t.toUpperCase();i in Xn?Array.isArray(e[t])?this.parts[i]=e[t]:this.parts[i]=[e[t]]:this[t]=e[t]}this.interval&&typeof this.interval!="number"&&$n.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=ie.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof E)&&(this.until=E.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[t,i]of Object.entries(this.parts))Array.isArray(i)&&i.length==1?e[t.toLowerCase()]=i[0]:e[t.toLowerCase()]=it(i);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==E.DEFAULT_WEEK_START&&(e.wkst=ie.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[t,i]of Object.entries(this.parts))e+=";"+t+"="+i;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==E.DEFAULT_WEEK_START&&(e+=";WKST="+ie.numericDayToIcalDay(this.wkst)),e}}function Ie(n,e,t,i){let r=i;if(i[0]==="+"&&(r=i.slice(1)),r=ne(r),e!==void 0&&i<e)throw new Error(n+': invalid value "'+i+'" must be > '+e);if(t!==void 0&&i>t)throw new Error(n+': invalid value "'+i+'" must be < '+e);return r}const $n={FREQ:function(n,e,t){if(ws.indexOf(n)!==-1)e.freq=n;else throw new Error('invalid frequency "'+n+'" expected: "'+ws.join(", ")+'"')},COUNT:function(n,e,t){e.count=ne(n)},INTERVAL:function(n,e,t){e.interval=ne(n),e.interval<1&&(e.interval=1)},UNTIL:function(n,e,t){n.length>10?e.until=G.icalendar.value["date-time"].fromICAL(n):e.until=G.icalendar.value.date.fromICAL(n),t||(e.until=E.fromString(e.until))},WKST:function(n,e,t){if(Pg.test(n))e.wkst=ie.icalDayToNumericDay(n);else throw new Error('invalid WKST value "'+n+'"')}},Xn={BYSECOND:Ie.bind(void 0,"BYSECOND",0,60),BYMINUTE:Ie.bind(void 0,"BYMINUTE",0,59),BYHOUR:Ie.bind(void 0,"BYHOUR",0,23),BYDAY:function(n){if(Hg.test(n))return n;throw new Error('invalid BYDAY value "'+n+'"')},BYMONTHDAY:Ie.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:Ie.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:Ie.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:Ie.bind(void 0,"BYMONTH",1,12),BYSETPOS:Ie.bind(void 0,"BYSETPOS",-366,366)},Lg=/\\\\|\\;|\\,|\\[Nn]/g,Yg=/\\|;|,|\n/g,As=/\\\\|\\,|\\[Nn]/g,_s=/\\|,|\n/g;function Ai(n,e){return{matches:/.*/,fromICAL:function(i,r){return Wg(i,n,r)},toICAL:function(i,r){let s=e;return r&&(s=new RegExp(s.source+"|"+r,s.flags)),i.replace(s,function(l){switch(l){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return l}})}}}const B={defaultType:"text"},Ct={defaultType:"text",multiValue:","},Dn={defaultType:"text",structuredValue:";"},Gt={defaultType:"integer"},qt={defaultType:"date-time",allowedTypes:["date-time","date"]},Qt={defaultType:"date-time"},ce={defaultType:"uri"},Ts={defaultType:"utc-offset"},Rs={defaultType:"recur"},Cs={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function Ug(n){switch(n){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return n}}function Wg(n,e,t){return n.indexOf("\\")===-1?n:(t&&(e=new RegExp(e.source+"|\\\\"+t,e.flags)),n.replace(e,Ug))}let ar={categories:Ct,url:ce,version:B,uid:B},or={boolean:{values:["TRUE","FALSE"],fromICAL:function(n){switch(n){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(n){return n?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(n){let e=parseFloat(n);return Rt(e)?0:e},toICAL:function(n){return String(n)}},integer:{fromICAL:function(n){let e=parseInt(n);return Rt(e)?0:e},toICAL:function(n){return String(n)}},"utc-offset":{toICAL:function(n){return n.length<7?n.slice(0,3)+n.slice(4,6):n.slice(0,3)+n.slice(4,6)+n.slice(7,9)},fromICAL:function(n){return n.length<6?n.slice(0,3)+":"+n.slice(3,5):n.slice(0,3)+":"+n.slice(3,5)+":"+n.slice(5,7)},decorate:function(n){return pe.fromString(n)},undecorate:function(n){return n.toString()}}},zg={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}};const le=lt(or,{text:Ai(Lg,Yg),uri:{},binary:{decorate:function(n){return Bn.fromString(n)},undecorate:function(n){return n.toString()}},"cal-address":{},date:{decorate:function(n,e){return E.fromDateString(n,e)},undecorate:function(n){return n.toString()},fromICAL:function(n){return n.slice(0,4)+"-"+n.slice(4,6)+"-"+n.slice(6,8)},toICAL:function(n){let e=n.length;return e==10?n.slice(0,4)+n.slice(5,7)+n.slice(8,10):e>=19?le["date-time"].toICAL(n):n}},"date-time":{fromICAL:function(n){{let e=n.slice(0,4)+"-"+n.slice(4,6)+"-"+n.slice(6,8)+"T"+n.slice(9,11)+":"+n.slice(11,13)+":"+n.slice(13,15);return n[15]&&n[15]==="Z"&&(e+="Z"),e}},toICAL:function(n){if(n.length>=19){let t=n.slice(0,4)+n.slice(5,7)+n.slice(8,13)+n.slice(14,16)+n.slice(17,19);return n[19]&&n[19]==="Z"&&(t+="Z"),t}else return n},decorate:function(n,e){return E.fromDateTimeString(n,e)},undecorate:function(n){return n.toString()}},duration:{decorate:function(n){return re.fromString(n)},undecorate:function(n){return n.toString()}},period:{fromICAL:function(n){let e=n.split("/");return e[0]=le["date-time"].fromICAL(e[0]),re.isValueString(e[1])||(e[1]=le["date-time"].fromICAL(e[1])),e},toICAL:function(n){return n=n.slice(),n[0]=le["date-time"].toICAL(n[0]),re.isValueString(n[1])||(n[1]=le["date-time"].toICAL(n[1])),n.join("/")},decorate:function(n,e){return Ae.fromJSON(n,e,!1)},undecorate:function(n){return n.toJSON()}},recur:{fromICAL:function(n){return ie._stringToData(n,!0)},toICAL:function(n){let e="";for(let[t,i]of Object.entries(n))t=="until"?i.length>10?i=le["date-time"].toICAL(i):i=le.date.toICAL(i):t=="wkst"?typeof i=="number"&&(i=ie.numericDayToIcalDay(i)):Array.isArray(i)&&(i=i.join(",")),e+=t.toUpperCase()+"="+i+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return ie.fromData(e)},undecorate:function(n){return n.toJSON()}},time:{fromICAL:function(n){if(n.length<6)return n;let e=n.slice(0,2)+":"+n.slice(2,4)+":"+n.slice(4,6);return n[6]==="Z"&&(e+="Z"),e},toICAL:function(n){if(n.length<8)return n;let e=n.slice(0,2)+n.slice(3,5)+n.slice(6,8);return n[8]==="Z"&&(e+="Z"),e}}});let jg=lt(ar,{action:B,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:B,class:B,comment:B,completed:Qt,contact:B,created:Qt,description:B,dtend:qt,dtstamp:Qt,dtstart:qt,due:qt,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:Rs,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":Qt,location:B,method:B,organizer:{defaultType:"cal-address"},"percent-complete":Gt,priority:Gt,prodid:B,"related-to":B,repeat:Gt,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(n){return n.indexOf("/")!==-1?"period":n.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":qt,resources:Ct,"request-status":Dn,rrule:Rs,sequence:Gt,status:B,summary:B,transp:B,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:Ts,tzoffsetto:Ts,tzurl:ce,tzid:B,tzname:B});const fe=lt(or,{text:Ai(As,_s),uri:Ai(As,_s),date:{decorate:function(n){return Be.fromDateAndOrTimeString(n,"date")},undecorate:function(n){return n.toString()},fromICAL:function(n){return n.length==8?le.date.fromICAL(n):n[0]=="-"&&n.length==6?n.slice(0,4)+"-"+n.slice(4):n},toICAL:function(n){return n.length==10?le.date.toICAL(n):n[0]=="-"&&n.length==7?n.slice(0,4)+n.slice(5):n}},time:{decorate:function(n){return Be.fromDateAndOrTimeString("T"+n,"time")},undecorate:function(n){return n.toString()},fromICAL:function(n){let e=fe.time._splitZone(n,!0),t=e[0],i=e[1];return i.length==6?i=i.slice(0,2)+":"+i.slice(2,4)+":"+i.slice(4,6):i.length==4&&i[0]!="-"?i=i.slice(0,2)+":"+i.slice(2,4):i.length==5&&(i=i.slice(0,3)+":"+i.slice(3,5)),t.length==5&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+":"+t.slice(3)),i+t},toICAL:function(n){let e=fe.time._splitZone(n),t=e[0],i=e[1];return i.length==8?i=i.slice(0,2)+i.slice(3,5)+i.slice(6,8):i.length==5&&i[0]!="-"?i=i.slice(0,2)+i.slice(3,5):i.length==6&&(i=i.slice(0,3)+i.slice(4,6)),t.length==6&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+t.slice(4)),i+t},_splitZone:function(n,e){let t=n.length-1,i=n.length-(e?5:6),r=n[i],s,l;return n[t]=="Z"?(s=n[t],l=n.slice(0,Math.max(0,t))):n.length>6&&(r=="-"||r=="+")?(s=n.slice(i),l=n.slice(0,Math.max(0,i))):(s="",l=n),[s,l]}},"date-time":{decorate:function(n){return Be.fromDateAndOrTimeString(n,"date-time")},undecorate:function(n){return n.toString()},fromICAL:function(n){return fe["date-and-or-time"].fromICAL(n)},toICAL:function(n){return fe["date-and-or-time"].toICAL(n)}},"date-and-or-time":{decorate:function(n){return Be.fromDateAndOrTimeString(n,"date-and-or-time")},undecorate:function(n){return n.toString()},fromICAL:function(n){let e=n.split("T");return(e[0]?fe.date.fromICAL(e[0]):"")+(e[1]?"T"+fe.time.fromICAL(e[1]):"")},toICAL:function(n){let e=n.split("T");return fe.date.toICAL(e[0])+(e[1]?"T"+fe.time.toICAL(e[1]):"")}},timestamp:le["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(n){return Array.from(n).filter(function(e){return e==="\\"?void 0:e}).join("")},toICAL:function(n){return Array.from(n).map(function(e){return e===","||e===";"?"\\"+e:e}).join("")}}});let Fg={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},Vg=lt(ar,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:Cs,bday:Cs,caladruri:ce,caluri:ce,clientpidmap:Dn,email:B,fburl:ce,fn:B,gender:Dn,geo:ce,impp:ce,key:ce,kind:B,lang:{defaultType:"language-tag"},logo:ce,member:ce,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:Ct,note:B,org:{defaultType:"text",structuredValue:";"},photo:ce,related:ce,rev:{defaultType:"timestamp"},role:B,sound:ce,source:ce,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:B,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:B}),Gg=lt(or,{binary:le.binary,date:fe.date,"date-time":fe["date-time"],"phone-number":fe["phone-number"],uri:le.uri,text:fe.text,time:le.time,vcard:le.text,"utc-offset":{toICAL:function(n){return n.slice(0,7)},fromICAL:function(n){return n.slice(0,7)},decorate:function(n){return pe.fromString(n)},undecorate:function(n){return n.toString()}}}),qg={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},Qg=lt(ar,{fn:B,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:Ct,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(n){return n.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:B,tel:{defaultType:"phone-number"},email:B,mailer:B,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:B,role:B,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:Dn,note:Ct,prodid:B,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(n){return n.indexOf("T")===-1?"date":"date-time"}},"sort-string":B,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:B,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),we={name:"ical",value:le,param:zg,property:jg,propertyGroups:!1},xs={name:"vcard4",value:fe,param:Fg,property:Vg,propertyGroups:!0},Is={name:"vcard3",value:Gg,param:qg,property:Qg,propertyGroups:!0};const G={strict:!0,defaultSet:we,defaultType:"unknown",components:{vcard:xs,vcard3:Is,vevent:we,vtodo:we,vjournal:we,valarm:we,vtimezone:we,daylight:we,standard:we},icalendar:we,vcard:xs,vcard3:Is,getDesignSet:function(n){return n&&n in G.components?G.components[n]:G.defaultSet}},sn=`\r
`,Ms="unknown",Zg={'"':"^'","\n":"^n","^":"^^"};function F(n){typeof n[0]=="string"&&(n=[n]);let e=0,t=n.length,i="";for(;e<t;e++)i+=F.component(n[e])+sn;return i}F.component=function(n,e){let t=n[0].toUpperCase(),i="BEGIN:"+t+sn,r=n[1],s=0,l=r.length,a=n[0];for(a==="vcard"&&n[1].length>0&&!(n[1][0][0]==="version"&&n[1][0][3]==="4.0")&&(a="vcard3"),e=e||G.getDesignSet(a);s<l;s++)i+=F.property(r[s],e)+sn;let o=n[2]||[],c=0,u=o.length;for(;c<u;c++)i+=F.component(o[c],e)+sn;return i+="END:"+t,i};F.property=function(n,e,t){let i=n[0].toUpperCase(),r=n[0],s=n[1];e||(e=G.defaultSet);let l=s.group,a;e.propertyGroups&&l?a=l.toUpperCase()+"."+i:a=i;for(let[f,m]of Object.entries(s)){if(e.propertyGroups&&f=="group")continue;let p=e.param[f],v=p&&p.multiValue;v&&Array.isArray(m)?(m=m.map(function(b){return b=F._rfc6868Unescape(b),b=F.paramPropertyValue(b,p.multiValueSeparateDQuote),b}),m=F.multiValue(m,v,"unknown",null,e)):(m=F._rfc6868Unescape(m),m=F.paramPropertyValue(m)),a+=";"+f.toUpperCase()+"="+m}if(n.length===3)return a+":";let o=n[2],c,u=!1,d=!1,h=!1;return r in e.property?(c=e.property[r],"multiValue"in c&&(u=c.multiValue),"structuredValue"in c&&Array.isArray(n[3])&&(d=c.structuredValue),"defaultType"in c?o===c.defaultType&&(h=!0):o===Ms&&(h=!0)):o===Ms&&(h=!0),h||(a+=";VALUE="+o.toUpperCase()),a+=":",u&&d?a+=F.multiValue(n[3],d,o,u,e,d):u?a+=F.multiValue(n.slice(3),u,o,null,e,!1):d?a+=F.multiValue(n[3],d,o,null,e,d):a+=F.value(n[3],o,e,!1),t?a:Ba(a)};F.paramPropertyValue=function(n,e){return!e&&n.indexOf(",")===-1&&n.indexOf(":")===-1&&n.indexOf(";")===-1?n:'"'+n+'"'};F.multiValue=function(n,e,t,i,r,s){let l="",a=n.length,o=0;for(;o<a;o++)i&&Array.isArray(n[o])?l+=F.multiValue(n[o],i,t,null,r,s):l+=F.value(n[o],t,r,s),o!==a-1&&(l+=e);return l};F.value=function(n,e,t,i){return e in t.value&&"toICAL"in t.value[e]?t.value[e].toICAL(n,i):n};F._rfc6868Unescape=function(n){return n.replace(/[\n^"]/g,function(e){return Zg[e]})};const Os=0,Zt=1,$t=2,Me=3;class Xe{static fromString(e,t){return new Xe(Y.property(e,t))}constructor(e,t){this._parent=t||null,typeof e=="string"?(this.jCal=[e,{},G.defaultType],this.jCal[$t]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[$t]}get name(){return this.jCal[Os]}get parent(){return this._parent}set parent(e){let t=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==G.defaultType&&t&&(this.jCal[$t]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:G.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=Me+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[Me+e])):this.jCal[Me+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,t){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[Me+t]=this._undecorate(e),this._values[t]=e):(this.jCal[Me+t]=e,this._values[t]=this._decorate(e))}getParameter(e){if(e in this.jCal[Zt])return this.jCal[Zt][e]}getFirstParameter(e){let t=this.getParameter(e);return Array.isArray(t)?t[0]:t}setParameter(e,t){let i=e.toLowerCase();typeof t=="string"&&i in this._designSet.param&&"multiValue"in this._designSet.param[i]&&(t=[t]),this.jCal[Zt][e]=t}removeParameter(e){delete this.jCal[Zt][e]}getDefaultType(){let e=this.jCal[Os],t=this._designSet;if(e in t.property){let i=t.property[e];if("defaultType"in i)return i.defaultType}return G.defaultType}resetType(e){this.removeAllValues(),this.jCal[$t]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-Me;if(e<1)return[];let t=0,i=[];for(;t<e;t++)i[t]=this._hydrateValue(t);return i}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);let t=e.length,i=0;if(this.removeAllValues(),t>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;i<t;i++)this._setDecoratedValue(e[i],i);else for(;i<t;i++)this.jCal[Me+i]=e[i]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[Me]=e}toJSON(){return this.jCal}toICALString(){return F.property(this.jCal,this._designSet,!0)}}const Oe=0,ve=1,Ne=2,$g=0,Xg=3;class he{static fromString(e){return new he(Y.component(e))}constructor(e,t){typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=t||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}_hydratedPropertyCount=0;_hydratedComponentCount=0;_timezoneCache=null;_components=null;_properties=null;get name(){return this.jCal[Oe]}get _designSet(){let e=this.parent&&this.parent._designSet;if(!e&&this.name=="vcard"){let t=this.jCal[ve]?.[0];if(t&&t[$g]=="version"&&t[Xg]=="3.0")return G.getDesignSet("vcard3")}return e||G.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let t=new he(this.jCal[Ne][e],this);return this._hydratedComponentCount++,this._components[e]=t}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let t=new Xe(this.jCal[ve][e],this);return this._hydratedPropertyCount++,this._properties[e]=t}getFirstSubcomponent(e){if(e){let t=0,i=this.jCal[Ne],r=i.length;for(;t<r;t++)if(i[t][Oe]===e)return this._hydrateComponent(t)}else if(this.jCal[Ne].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let t=this.jCal[Ne].length,i=0;if(e){let r=this.jCal[Ne],s=[];for(;i<t;i++)e===r[i][Oe]&&s.push(this._hydrateComponent(i));return s}else{if(!this._components||this._hydratedComponentCount!==t)for(;i<t;i++)this._hydrateComponent(i);return this._components||[]}}hasProperty(e){let t=this.jCal[ve],i=t.length,r=0;for(;r<i;r++)if(t[r][Oe]===e)return!0;return!1}getFirstProperty(e){if(e){let t=0,i=this.jCal[ve],r=i.length;for(;t<r;t++)if(i[t][Oe]===e)return this._hydrateProperty(t)}else if(this.jCal[ve].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let t=this.getFirstProperty(e);return t?t.getFirstValue():null}getAllProperties(e){let t=this.jCal[ve].length,i=0;if(e){let r=this.jCal[ve],s=[];for(;i<t;i++)e===r[i][Oe]&&s.push(this._hydrateProperty(i));return s}else{if(!this._properties||this._hydratedPropertyCount!==t)for(;i<t;i++)this._hydrateProperty(i);return this._properties||[]}}_removeObjectByIndex(e,t,i){if(t=t||[],t[i]){let r=t[i];"parent"in r&&(r.parent=null)}t.splice(i,1),this.jCal[e].splice(i,1)}_removeObject(e,t,i){let r=0,s=this.jCal[e],l=s.length,a=this[t];if(typeof i=="string"){for(;r<l;r++)if(s[r][Oe]===i)return this._removeObjectByIndex(e,a,r),!0}else if(a){for(;r<l;r++)if(a[r]&&a[r]===i)return this._removeObjectByIndex(e,a,r),!0}return!1}_removeAllObjects(e,t,i){let r=this[t],s=this.jCal[e],l=s.length-1;for(;l>=0;l--)(!i||s[l][Oe]===i)&&this._removeObjectByIndex(e,r,l)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let t=this.jCal[Ne].push(e.jCal);return this._components[t-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let t=this._removeObject(Ne,"_components",e);return t&&this._hydratedComponentCount--,t}removeAllSubcomponents(e){let t=this._removeAllObjects(Ne,"_components",e);return this._hydratedComponentCount=0,t}addProperty(e){if(!(e instanceof Xe))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let t=this.jCal[ve].push(e.jCal);return this._properties[t-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,t){let i=new Xe(e);return i.setValue(t),this.addProperty(i),i}updatePropertyWithValue(e,t){let i=this.getFirstProperty(e);return i?i.setValue(t):i=this.addPropertyWithValue(e,t),i}removeProperty(e){let t=this._removeObject(ve,"_properties",e);return t&&this._hydratedPropertyCount--,t}removeAllProperties(e){let t=this._removeAllObjects(ve,"_properties",e);return this._hydratedPropertyCount=0,t}toJSON(){return this.jCal}toString(){return F.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);const t=this.getAllSubcomponents("vtimezone");for(const i of t)if(i.getFirstProperty("tzid").getFirstValue()===e){const r=new R({component:i,tzid:e});return this._timezoneCache.set(e,r),r}return null}}class Ya{constructor(e){this.ruleDates=[],this.exDates=[],this.fromData(e)}complete=!1;ruleIterators=null;ruleDates=null;exDates=null;ruleDateInc=0;exDateInc=0;exDate=null;ruleDate=null;dtstart=null;last=null;fromData(e){let t=_e(e.dtstart,E);if(t)this.dtstart=t;else throw new Error(".dtstart (ICAL.Time) must be given");if(e.component)this._init(e.component);else{if(this.last=_e(e.last,E)||t.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(i){return _e(i,Ee)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(i=>_e(i,E)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(i=>_e(i,E)),this.exDate=this.exDates[this.exDateInc]),typeof e.complete<"u"&&(this.complete=e.complete)}}_compare_special(e,t){return!e.isDate&&t.isDate?new E({year:e.year,month:e.month,day:e.day}).compare(t):e.compare(t)}next(){let e,t,i,r=500,s=0;for(;;){if(s++>r)throw new Error("max tries have occurred, rule may be impossible to fulfill.");if(t=this.ruleDate,e=this._nextRecurrenceIter(this.last),!t&&!e){this.complete=!0;break}if((!t||e&&t.compare(e.last)>0)&&(t=e.last.clone(),e.next()),this.ruleDate===t&&this._nextRuleDay(),this.last=t,this.exDate&&(i=this._compare_special(this.last,this.exDate),i>0&&this._nextExDay(),i===0)){this._nextExDay();continue}return this.last}}toJSON(){function e(i){return i.toJSON()}let t=Object.create(null);return t.ruleIterators=this.ruleIterators.map(e),this.ruleDates&&(t.ruleDates=this.ruleDates.map(e)),this.exDates&&(t.exDates=this.exDates.map(e)),t.ruleDateInc=this.ruleDateInc,t.exDateInc=this.exDateInc,t.last=this.last.toJSON(),t.dtstart=this.dtstart.toJSON(),t.complete=this.complete,t}_extractDates(e,t){let i=[],r=e.getAllProperties(t);for(let s=0,l=r.length;s<l;s++)for(let a of r[s].getValues()){let o=$e(i,a,(c,u)=>c.compare(u));i.splice(o,0,a)}return i}_init(e){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e.hasProperty("rdate")&&!e.hasProperty("rrule")&&!e.hasProperty("recurrence-id")){this.ruleDate=this.last.clone(),this.complete=!0;return}if(e.hasProperty("rdate")&&(this.ruleDates=this._extractDates(e,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=$e(this.ruleDates,this.last,(t,i)=>t.compare(i)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.hasProperty("rrule")){let t=e.getAllProperties("rrule"),i=0,r=t.length,s,l;for(;i<r;i++)s=t[i].getFirstValue(),l=s.iterator(this.dtstart),this.ruleIterators.push(l),l.next()}e.hasProperty("exdate")&&(this.exDates=this._extractDates(e,"exdate"),this.exDateInc=$e(this.exDates,this.last,this._compare_special),this.exDate=this.exDates[this.exDateInc])}_nextExDay(){this.exDate=this.exDates[++this.exDateInc]}_nextRuleDay(){this.ruleDate=this.ruleDates[++this.ruleDateInc]}_nextRecurrenceIter(){let e=this.ruleIterators;if(e.length===0)return null;let t=e.length,i,r,s=0,l;for(;s<t;s++){if(i=e[s],r=i.last,i.completed){t--,s!==0&&s--,e.splice(s,1);continue}(!l||l.last.compare(r)>0)&&(l=i)}return l}}class xt{constructor(e,t){e instanceof he||(t=e,e=null),e?this.component=e:this.component=new he("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],t&&t.strictExceptions&&(this.strictExceptions=t.strictExceptions),t&&t.exceptions?t.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(i){i.hasProperty("recurrence-id")&&this.relateException(i)},this)}static THISANDFUTURE="THISANDFUTURE";exceptions=null;strictExceptions=!1;relateException(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof he&&(e=new xt(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");let t=e.recurrenceId.toString();if(this.exceptions[t]=e,e.modifiesFuture()){let i=[e.recurrenceId.toUnixTime(),t],r=$e(this.rangeExceptions,i,Ns);this.rangeExceptions.splice(r,0,i)}}modifiesFuture(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===xt.THISANDFUTURE:!1}findRangeException(e){if(!this.rangeExceptions.length)return null;let t=e.toUnixTime(),i=$e(this.rangeExceptions,[t],Ns);if(i-=1,i<0)return null;let r=this.rangeExceptions[i];return t<r[0]?null:r[1]}getOccurrenceDetails(e){let t=e.toString(),i=e.convertToZone(R.utcTimezone).toString(),r,s={recurrenceId:e};if(t in this.exceptions)r=s.item=this.exceptions[t],s.startDate=r.startDate,s.endDate=r.endDate,s.item=r;else if(i in this.exceptions)r=this.exceptions[i],s.startDate=r.startDate,s.endDate=r.endDate,s.item=r;else{let l=this.findRangeException(e),a;if(l){let o=this.exceptions[l];s.item=o;let c=this._rangeExceptionCache[l];if(!c){let d=o.recurrenceId.clone(),h=o.startDate.clone();d.zone=h.zone,c=h.subtractDate(d),this._rangeExceptionCache[l]=c}let u=e.clone();u.zone=o.startDate.zone,u.addDuration(c),a=u.clone(),a.addDuration(o.duration),s.startDate=u,s.endDate=a}else a=e.clone(),a.addDuration(this.duration),s.endDate=a,s.startDate=e,s.item=this}return s}iterator(e){return new Ya({component:this.component,dtstart:e||this.startDate})}isRecurring(){let e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")}isRecurrenceException(){return this.component.hasProperty("recurrence-id")}getRecurrenceTypes(){let e=this.component.getAllProperties("rrule"),t=0,i=e.length,r=Object.create(null);for(;t<i;t++){let s=e[t].getFirstValue();r[s.freq]=!0}return r}get uid(){return this._firstProp("uid")}set uid(e){this._setProp("uid",e)}get startDate(){return this._firstProp("dtstart")}set startDate(e){this._setTime("dtstart",e)}get endDate(){let e=this._firstProp("dtend");if(!e){let t=this._firstProp("duration");e=this.startDate.clone(),t?e.addDuration(t):e.isDate&&(e.day+=1)}return e}set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)}get duration(){let e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)}set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)}get location(){return this._firstProp("location")}set location(e){this._setProp("location",e)}get attendees(){return this.component.getAllProperties("attendee")}get summary(){return this._firstProp("summary")}set summary(e){this._setProp("summary",e)}get description(){return this._firstProp("description")}set description(e){this._setProp("description",e)}get color(){return this._firstProp("color")}set color(e){this._setProp("color",e)}get organizer(){return this._firstProp("organizer")}set organizer(e){this._setProp("organizer",e)}get sequence(){return this._firstProp("sequence")}set sequence(e){this._setProp("sequence",e)}get recurrenceId(){return this._firstProp("recurrence-id")}set recurrenceId(e){this._setTime("recurrence-id",e)}_setTime(e,t){let i=this.component.getFirstProperty(e);i||(i=new Xe(e),this.component.addProperty(i)),t.zone===R.localTimezone||t.zone===R.utcTimezone?i.removeParameter("tzid"):i.setParameter("tzid",t.zone.tzid),i.setValue(t)}_setProp(e,t){this.component.updatePropertyWithValue(e,t)}_firstProp(e){return this.component.getFirstPropertyValue(e)}toString(){return this.component.toString()}}function Ns(n,e){return n[0]>e[0]?1:e[0]>n[0]?-1:0}class Jg{constructor(e){typeof e>"u"&&(e={});for(let[t,i]of Object.entries(e))this[t]=i}parseEvent=!0;parseTimezone=!0;oncomplete=function(){};onerror=function(e){};ontimezone=function(e){};onevent=function(e){};process(e){typeof e=="string"&&(e=Y(e)),e instanceof he||(e=new he(e));let t=e.getAllSubcomponents(),i=0,r=t.length,s;for(;i<r;i++)switch(s=t[i],s.name){case"vtimezone":if(this.parseTimezone){let l=s.getFirstPropertyValue("tzid");l&&this.ontimezone(new R({tzid:l,component:s}))}break;case"vevent":this.parseEvent&&this.onevent(new xt(s));break;default:continue}this.oncomplete()}}var ht={foldLength:75,debug:!1,newLineChar:`\r
`,Binary:Bn,Component:he,ComponentParser:Jg,Duration:re,Event:xt,Period:Ae,Property:Xe,Recur:ie,RecurExpansion:Ya,RecurIterator:Ee,Time:E,Timezone:R,TimezoneService:Sn,UtcOffset:pe,VCardTime:Be,parse:Y,stringify:F,design:G,helpers:kg};class Kg{constructor(e){this.maxIterations=e.maxIterations!=null?e.maxIterations:1e3,this.skipInvalidDates=e.skipInvalidDates!=null?e.skipInvalidDates:!1,this.jCalData=ht.parse(e.ics),this.component=new ht.Component(this.jCalData),this.events=this.component.getAllSubcomponents("vevent").map(t=>new ht.Event(t)),this.skipInvalidDates&&(this.events=this.events.filter(t=>{try{return t.startDate.toJSDate(),t.endDate.toJSDate(),!0}catch{return!1}}))}between(e,t){function i(a,o){return(!e||o>=e.getTime())&&(!t||a<=t.getTime())}function r(a){const o=a.startDate.toJSDate().getTime();let c=a.endDate.toJSDate().getTime();return a.endDate.isDate&&c>o&&(c-=1),{startTime:o,endTime:c}}const s=[];this.events.forEach(a=>{a.isRecurrenceException()&&s.push(a)});const l={events:[],occurrences:[]};return this.events.filter(a=>!a.isRecurrenceException()).forEach(a=>{const o=[];if(a.component.getAllProperties("exdate").forEach(d=>{const h=d.getFirstValue();o.push(h.toJSDate().getTime())}),a.isRecurring()){const d=a.iterator();let h,f=0;do if(f+=1,h=d.next(),h){const m=a.getOccurrenceDetails(h),{startTime:p,endTime:v}=r(m),b=o.indexOf(p)!==-1,S=s.find(w=>w.uid===a.uid&&w.recurrenceId.toJSDate().getTime()===m.startDate.toJSDate().getTime());if(t&&p>t.getTime())break;i(p,v)&&(S?l.events.push(S):b||l.occurrences.push(m))}while(h&&(!this.maxIterations||f<this.maxIterations));return}const{startTime:c,endTime:u}=r(a);i(c,u)&&l.events.push(a)}),l}before(e){return this.between(void 0,e)}after(e){return this.between(e)}all(){return this.between()}}const ep={parseMeta(n){return n.url&&n.format==="ics"?{url:n.url,format:"ics"}:null},fetch(n,e,t){let i=n.eventSource.meta,{internalState:r}=i;(!r||n.isRefetch)&&(r=i.internalState={response:null,iCalExpanderPromise:fetch(i.url,{method:"GET"}).then(s=>s.text().then(l=>(r.response=s,new Kg({ics:l,skipInvalidDates:!0}))))}),r.iCalExpanderPromise.then(s=>{e({rawEvents:tp(s,n.range),response:r.response})},t)}};function tp(n,e){let t=Q(e.start,-1),i=Q(e.end,1),r=n.between(t,i),s=[];for(let l of r.events)s.push(Object.assign(Object.assign({},ks(l)),{start:l.startDate.toString(),end:Ps(l)&&l.endDate?l.endDate.toString():null}));for(let l of r.occurrences){let a=l.item;s.push(Object.assign(Object.assign({},ks(a)),{start:l.startDate.toString(),end:Ps(a)&&l.endDate?l.endDate.toString():null}))}return s}function ks(n){return{title:n.summary,url:np(n),extendedProps:{location:n.location,organizer:n.organizer,description:n.description}}}function np(n){let e=n.component.getFirstProperty("url");return e?e.getFirstValue():""}function Ps(n){return!!n.component.getFirstProperty("dtend")||!!n.component.getFirstProperty("duration")}var cp=me({name:"@fullcalendar/icalendar",eventSourceDefs:[ep]});export{rp as F,lp as a,ap as b,op as c,cp as d,sp as i};
