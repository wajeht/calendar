import{d as Aa,h as Hn,F as Fn,T as Ca,_ as Po,u as Ot,r as K,o as fn,c as Ye,a as he,b as C,e as B,f as Y,g as w,n as Wt,i as ut,j as $,t as X,m as fi,k as hi,w as pi,v as Ho,l as or,p as hn,q as Ge,s as xa,x as M,y as N,z as Br,A as oe,B as Lo,C as Bo,D as Ta,E as Uo,G as Ra,H as Ia,I as Yo}from"./index-jZ-fGRT9.js";var cr,z,Ma,Oa,bt,es,ka,Ur,gi,Yr,zr,Na,sn={},Pa=[],zo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dr=Array.isArray;function lt(n,e){for(var t in e)n[t]=e[t];return n}function Ha(n){var e=n.parentNode;e&&e.removeChild(n)}function p(n,e,t){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?cr.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)a[s]===void 0&&(a[s]=n.defaultProps[s]);return Ln(n,a,r,i,null)}function Ln(n,e,t,r,i){var s={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Ma,__i:-1,__u:0};return i==null&&z.vnode!=null&&z.vnode(s),s}function ae(){return{current:null}}function G(n){return n.children}function Ae(n,e){this.props=n,this.context=e}function Ct(n,e){if(e==null)return n.__?Ct(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ct(n):null}function La(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return La(n)}}function Wr(n){(!n.__d&&(n.__d=!0)&&bt.push(n)&&!Vn.__r++||es!==z.debounceRendering)&&((es=z.debounceRendering)||ka)(Vn)}function Vn(){var n,e,t,r,i,s,a,l;for(bt.sort(Ur);n=bt.shift();)n.__d&&(e=bt.length,r=void 0,s=(i=(t=n).__v).__e,a=[],l=[],t.__P&&((r=lt({},i)).__v=i.__v+1,z.vnode&&z.vnode(r),mi(t.__P,r,i,t.__n,t.__P.namespaceURI,32&i.__u?[s]:null,a,s??Ct(i),!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,Ya(a,r,l),r.__e!=s&&La(r)),bt.length>e&&bt.sort(Ur));Vn.__r=0}function Ba(n,e,t,r,i,s,a,l,o,c,d){var u,h,f,m,g,v=r&&r.__k||Pa,y=e.length;for(t.__d=o,Wo(t,e,v),o=t.__d,u=0;u<y;u++)(f=t.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(h=f.__i===-1?sn:v[f.__i]||sn,f.__i=u,mi(n,f,h,i,s,a,l,o,c,d),m=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&vi(h.ref,null,f),d.push(f.ref,f.__c||m,f)),g==null&&m!=null&&(g=m),65536&f.__u||h.__k===f.__k?o=Ua(f,o,n):typeof f.type=="function"&&f.__d!==void 0?o=f.__d:m&&(o=m.nextSibling),f.__d=void 0,f.__u&=-196609);t.__d=o,t.__e=g}function Wo(n,e,t){var r,i,s,a,l,o=e.length,c=t.length,d=c,u=0;for(n.__k=[],r=0;r<o;r++)a=r+u,(i=n.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Ln(null,i,null,null,null):dr(i)?Ln(G,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Ln(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=n,i.__b=n.__b+1,l=jo(i,t,a,d),i.__i=l,s=null,l!==-1&&(d--,(s=t[l])&&(s.__u|=131072)),s==null||s.__v===null?(l==-1&&u--,typeof i.type!="function"&&(i.__u|=65536)):l!==a&&(l==a-1?u--:l==a+1?u++:l>a?d>o-a?u+=l-a:u--:l<a&&(l==a-u?u-=l-a:u++),l!==r+u&&(i.__u|=65536))):(s=t[a])&&s.key==null&&s.__e&&(131072&s.__u)==0&&(s.__e==n.__d&&(n.__d=Ct(s)),jr(s,s,!1),t[a]=null,d--);if(d)for(r=0;r<c;r++)(s=t[r])!=null&&(131072&s.__u)==0&&(s.__e==n.__d&&(n.__d=Ct(s)),jr(s,s))}function Ua(n,e,t){var r,i;if(typeof n.type=="function"){for(r=n.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=n,e=Ua(r[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=Ct(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Gn(n,e){return e=e||[],n==null||typeof n=="boolean"||(dr(n)?n.some(function(t){Gn(t,e)}):e.push(n)),e}function jo(n,e,t,r){var i=n.key,s=n.type,a=t-1,l=t+1,o=e[t];if(o===null||o&&i==o.key&&s===o.type&&(131072&o.__u)==0)return t;if(r>(o!=null&&(131072&o.__u)==0?1:0))for(;a>=0||l<e.length;){if(a>=0){if((o=e[a])&&(131072&o.__u)==0&&i==o.key&&s===o.type)return a;a--}if(l<e.length){if((o=e[l])&&(131072&o.__u)==0&&i==o.key&&s===o.type)return l;l++}}return-1}function ts(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||zo.test(e)?t:t+"px"}function _n(n,e,t,r,i){var s;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||ts(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||ts(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in n||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?r?t.u=r.u:(t.u=gi,n.addEventListener(e,s?zr:Yr,s)):n.removeEventListener(e,s?zr:Yr,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function ns(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=gi++;else if(e.t<t.u)return;return t(z.event?z.event(e):e)}}}function mi(n,e,t,r,i,s,a,l,o,c){var d,u,h,f,m,g,v,y,E,D,_,I,P,x,U,T,L=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(o=!!(32&t.__u),s=[l=e.__e=t.__e]),(d=z.__b)&&d(e);e:if(typeof L=="function")try{if(y=e.props,E="prototype"in L&&L.prototype.render,D=(d=L.contextType)&&r[d.__c],_=d?D?D.props.value:d.__:r,t.__c?v=(u=e.__c=t.__c).__=u.__E:(E?e.__c=u=new L(y,_):(e.__c=u=new Ae(y,_),u.constructor=L,u.render=Vo),D&&D.sub(u),u.props=y,u.state||(u.state={}),u.context=_,u.__n=r,h=u.__d=!0,u.__h=[],u._sb=[]),E&&u.__s==null&&(u.__s=u.state),E&&L.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=lt({},u.__s)),lt(u.__s,L.getDerivedStateFromProps(y,u.__s))),f=u.props,m=u.state,u.__v=e,h)E&&L.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),E&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E&&L.getDerivedStateFromProps==null&&y!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,_),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,_)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(u.props=y,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(ee){ee&&(ee.__=e)}),I=0;I<u._sb.length;I++)u.__h.push(u._sb[I]);u._sb=[],u.__h.length&&a.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,_),E&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,m,g)})}if(u.context=_,u.props=y,u.__P=n,u.__e=!1,P=z.__r,x=0,E){for(u.state=u.__s,u.__d=!1,P&&P(e),d=u.render(u.props,u.state,u.context),U=0;U<u._sb.length;U++)u.__h.push(u._sb[U]);u._sb=[]}else do u.__d=!1,P&&P(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++x<25);u.state=u.__s,u.getChildContext!=null&&(r=lt(lt({},r),u.getChildContext())),E&&!h&&u.getSnapshotBeforeUpdate!=null&&(g=u.getSnapshotBeforeUpdate(f,m)),Ba(n,dr(T=d!=null&&d.type===G&&d.key==null?d.props.children:d)?T:[T],e,t,r,i,s,a,l,o,c),u.base=e.__e,e.__u&=-161,u.__h.length&&a.push(u),v&&(u.__E=u.__=null)}catch(ee){if(e.__v=null,o||s!=null){for(e.__u|=o?160:32;l&&l.nodeType===8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else e.__e=t.__e,e.__k=t.__k;z.__e(ee,e,t)}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Fo(t.__e,e,t,r,i,s,a,o,c);(d=z.diffed)&&d(e)}function Ya(n,e,t){e.__d=void 0;for(var r=0;r<t.length;r++)vi(t[r],t[++r],t[++r]);z.__c&&z.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(s){s.call(i)})}catch(s){z.__e(s,i.__v)}})}function Fo(n,e,t,r,i,s,a,l,o){var c,d,u,h,f,m,g,v=t.props,y=e.props,E=e.type;if(E==="svg"?i="http://www.w3.org/2000/svg":E==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((f=s[c])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){n=f,s[c]=null;break}}if(n==null){if(E===null)return document.createTextNode(y);n=document.createElementNS(i,E,y.is&&y),s=null,l=!1}if(E===null)v===y||l&&n.data===y||(n.data=y);else{if(s=s&&cr.call(n.childNodes),v=t.props||sn,!l&&s!=null)for(v={},c=0;c<n.attributes.length;c++)v[(f=n.attributes[c]).name]=f.value;for(c in v)if(f=v[c],c!="children"){if(c=="dangerouslySetInnerHTML")u=f;else if(c!=="key"&&!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;_n(n,c,null,f,i)}}for(c in y)f=y[c],c=="children"?h=f:c=="dangerouslySetInnerHTML"?d=f:c=="value"?m=f:c=="checked"?g=f:c==="key"||l&&typeof f!="function"||v[c]===f||_n(n,c,f,v[c],i);if(d)l||u&&(d.__html===u.__html||d.__html===n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(u&&(n.innerHTML=""),Ba(n,dr(h)?h:[h],e,t,r,E==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:t.__k&&Ct(t,0),l,o),s!=null)for(c=s.length;c--;)s[c]!=null&&Ha(s[c]);l||(c="value",m!==void 0&&(m!==n[c]||E==="progress"&&!m||E==="option"&&m!==v[c])&&_n(n,c,m,v[c],i),c="checked",g!==void 0&&g!==n[c]&&_n(n,c,g,v[c],i))}return n}function vi(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){z.__e(i,t)}}function jr(n,e,t){var r,i;if(z.unmount&&z.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||vi(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){z.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&jr(r[i],e,t||typeof n.type!="function");t||n.__e==null||Ha(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function Vo(n,e,t){return this.constructor(n,t)}function an(n,e,t){var r,i,s,a;z.__&&z.__(n,e),i=(r=!1)?null:e.__k,s=[],a=[],mi(e,n=e.__k=p(G,null,[n]),i||sn,sn,e.namespaceURI,i?null:e.firstChild?cr.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),Ya(s,n,a)}function Go(n,e){var t={__c:e="__cC"+Na++,__:n,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(l){l.__e=!0,Wr(l)})},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i&&i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}cr=Pa.slice,z={__e:function(n,e,t,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(n)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),a=i.__d),a)return i.__E=i}catch(l){n=l}throw n}},Ma=0,Oa=function(n){return n!=null&&n.constructor==null},Ae.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lt({},this.state),typeof n=="function"&&(n=n(lt({},t),this.props)),n&&lt(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Wr(this))},Ae.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Wr(this))},Ae.prototype.render=G,bt=[],ka=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ur=function(n,e){return n.__v.__b-e.__v.__b},Vn.__r=0,gi=0,Yr=ns(!1),zr=ns(!0),Na=0;var ze,Ar,rs,za=[],ve=z,is=ve.__b,ss=ve.__r,as=ve.diffed,ls=ve.__c,os=ve.unmount,cs=ve.__;function $o(){for(var n;n=za.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Bn),n.__H.__h.forEach(Fr),n.__H.__h=[]}catch(e){n.__H.__h=[],ve.__e(e,n.__v)}}ve.__b=function(n){ze=null,is&&is(n)},ve.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),cs&&cs(n,e)},ve.__r=function(n){ss&&ss(n);var e=(ze=n.__c).__H;e&&(Ar===ze?(e.__h=[],ze.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0})):(e.__h.forEach(Bn),e.__h.forEach(Fr),e.__h=[])),Ar=ze},ve.diffed=function(n){as&&as(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(za.push(e)!==1&&rs===ve.requestAnimationFrame||((rs=ve.requestAnimationFrame)||qo)($o)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.i=void 0})),Ar=ze=null},ve.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Bn),t.__h=t.__h.filter(function(r){return!r.__||Fr(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ve.__e(r,t.__v)}}),ls&&ls(n,e)},ve.unmount=function(n){os&&os(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Bn(r)}catch(i){e=i}}),t.__H=void 0,e&&ve.__e(e,t.__v))};var ds=typeof requestAnimationFrame=="function";function qo(n){var e,t=function(){clearTimeout(r),ds&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);ds&&(e=requestAnimationFrame(t))}function Bn(n){var e=ze,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ze=e}function Fr(n){var e=ze;n.__c=n.__(),ze=e}function Qo(n,e){for(var t in e)n[t]=e[t];return n}function us(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function fs(n,e){this.props=n,this.context=e}(fs.prototype=new Ae).isPureReactComponent=!0,fs.prototype.shouldComponentUpdate=function(n,e){return us(this.props,n)||us(this.state,e)};var hs=z.__b;z.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),hs&&hs(n)};var Zo=z.__e;z.__e=function(n,e,t,r){if(n.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}Zo(n,e,t,r)};var ps=z.unmount;function Wa(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=Qo({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return Wa(r,e,t)})),n}function ja(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return ja(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function Cr(){this.__u=0,this.t=null,this.__b=null}function Fa(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Dn(){this.u=null,this.o=null}z.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),ps&&ps(n)},(Cr.prototype=new Ae).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var i=Fa(r.__v),s=!1,a=function(){s||(s=!0,t.__R=null,i?i(l):l())};t.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var o=r.state.__a;r.__v.__k[0]=ja(o,o.__c.__P,o.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(a,a)},Cr.prototype.componentWillUnmount=function(){this.t=[]},Cr.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Wa(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&p(G,null,n.fallback);return i&&(i.__u&=-33),[p(G,null,e.__a?null:n.children),i]};var gs=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Xo(n){return this.getChildContext=function(){return n.context},n.children}function Jo(n){var e=this,t=n.i;e.componentWillUnmount=function(){an(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),an(p(Xo,{context:e.context},n.__v),e.l)}function Ko(n,e){var t=p(Jo,{__v:n,i:e});return t.containerInfo=e,t}(Dn.prototype=new Ae).__a=function(n){var e=this,t=Fa(e.__v),r=e.o.get(n);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),gs(e,n,r)):i()};t?t(s):s()}},Dn.prototype.render=function(n){this.u=null,this.o=new Map;var e=Gn(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Dn.prototype.componentDidUpdate=Dn.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){gs(n,t,e)})};var ec=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tc=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nc=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,rc=/[A-Z0-9]/g,ic=typeof document<"u",sc=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};Ae.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ae.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var ms=z.event;function ac(){}function lc(){return this.cancelBubble}function oc(){return this.defaultPrevented}z.event=function(n){return ms&&(n=ms(n)),n.persist=ac,n.isPropagationStopped=lc,n.isDefaultPrevented=oc,n.nativeEvent=n};var cc={enumerable:!1,configurable:!0,get:function(){return this.class}},vs=z.vnode;z.vnode=function(n){typeof n.type=="string"&&(function(e){var t=e.props,r=e.type,i={},s=r.indexOf("-")===-1;for(var a in t){var l=t[a];if(!(a==="value"&&"defaultValue"in t&&l==null||ic&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var o=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":o==="translate"&&l==="no"?l=!1:o[0]==="o"&&o[1]==="n"?o==="ondoubleclick"?a="ondblclick":o!=="onchange"||r!=="input"&&r!=="textarea"||sc(t.type)?o==="onfocus"?a="onfocusin":o==="onblur"?a="onfocusout":nc.test(a)&&(a=o):o=a="oninput":s&&tc.test(a)?a=a.replace(rc,"-$&").toLowerCase():l===null&&(l=void 0),o==="oninput"&&i[a=o]&&(a="oninputCapture"),i[a]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Gn(t.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Gn(t.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",cc)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i})(n),n.$$typeof=ec,vs&&vs(n)};var ys=z.__r;z.__r=function(n){ys&&ys(n),n.__c};var bs=z.diffed;z.diffed=function(n){bs&&bs(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};const Va=[],Vr=new Map;function ur(n){Va.push(n),Vr.forEach(e=>{$a(e,n)})}function dc(n){n.isConnected&&n.getRootNode&&Ga(n.getRootNode())}function Ga(n){let e=Vr.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=fc();t&&(e.nonce=t);const r=n===document?document.head:n,i=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Vr.set(n,e),uc(e)}}function uc(n){for(const e of Va)$a(n,e)}function $a(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&t.insertRule(i+"}",r+s)})}let xr;function fc(){return xr===void 0&&(xr=hc()),xr}function hc(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Ga(document);var pc=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc{display:flex;flex-direction:column;gap:1.5em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-border,.fc-border-b,.fc-border-e,.fc-border-s,.fc-border-t{border:0 solid var(--fc-border-color)}.fc-border-transparent{border-color:transparent}.fc-border{border-width:1px}.fc-border-t{border-top-width:1px}.fc-border-b{border-bottom-width:1px}.fc-direction-ltr .fc-border-s,.fc-direction-rtl .fc-border-e{border-left-width:1px}.fc-direction-ltr .fc-border-e,.fc-direction-rtl .fc-border-s{border-right-width:1px}.fc-flex-row{display:flex;flex-direction:row}.fc-flex-col{display:flex;flex-direction:column}.fc-grow{flex-grow:1}.fc-basis0,.fc-liquid{flex-basis:0}.fc-liquid{flex-grow:1;min-height:0;min-width:0}.fc-media-screen .fc-print-header,.fc-media-screen .fc-print-root{display:flex;flex-direction:column}.fc-cell{margin:0!important;padding:0!important}.fc-cell-inner{flex-shrink:0;overflow:hidden;white-space:nowrap}.fc-celldivider,.fc-rowdivider{border:0 solid var(--fc-border-color)}.fc-rowdivider{border-width:1px 0}.fc-celldivider{border-width:0 1px}.fc-celldivider,.fc-rowdivider{background:var(--fc-neutral-bg-color)}.fc-celldivider{padding-left:2px}.fc-rowdivider{padding-bottom:2px}.fc-crop{overflow:hidden}.fc-rel{position:relative}.fc-abs{position:absolute}.fc-fill{bottom:0;top:0}.fc-fill,.fc-fill-top,.fc-fill-x{left:0;position:absolute;right:0}.fc-fill-start,.fc-fill-y{bottom:0;position:absolute;top:0}.fc-fill-top{top:0}.fc-fill-start{left:0;right:0;width:0}.fc-sticky-t{position:sticky;top:0}.fc-sticky-s{left:0;position:sticky;right:0}.fc-table-header-sticky{background:var(--fc-page-bg-color);position:sticky;top:0;z-index:3}.fc-content-box{box-sizing:content-box}.fc-offscreen{left:-10000px;position:absolute}.fc-shaded{background-color:var(--fc-neutral-bg-color)}.fc-filler{opacity:.5}.fc-padding-sm{padding:2px 4px}.fc-padding-md{padding:4px 5px}.fc-padding-lg{padding:8px}.fc-justify-center{justify-content:center}.fc-align-center{align-items:center}.fc-align-start{align-items:flex-start}.fc-footer-scrollbar-sticky{bottom:0;position:sticky;z-index:3}.fc-footer-scrollbar>.fc-scroller{margin-top:-1px}.fc-footer-scrollbar>.fc-scroller>*{height:1px}.fc-navlink{cursor:pointer}.fc-navlink:hover{text-decoration:underline}.fc-view-outer{position:relative}.fc-view-outer-liquid,.fc-view-outer-static{display:flex;flex-direction:column}.fc-view-outer-liquid,.fc-view-outer-liquid>.fc-view,.fc-view-outer-static>.fc-view{flex-basis:0;flex-grow:1;min-height:0;min-width:0}.fc-view-outer-aspect-ratio>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event-selected:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected,.fc-event:focus:not(.fc-list-event){box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:after,.fc-event:focus:not(.fc-list-event):after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-event-inner{position:relative;z-index:2}.fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-bg-event,.fc-highlight,.fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc-non-business{background:var(--fc-non-business-color)}.fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc-highlight{background:var(--fc-highlight-color)}.fc-day-disabled{background:var(--fc-neutral-bg-color)}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:flex;flex-direction:column;position:relative}.fc-h-event.fc-event-mirror{z-index:1}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-h-event .fc-event-inner{color:var(--fc-event-text-color);display:flex;flex-direction:row}.fc-h-event .fc-event-time,.fc-h-event .fc-event-title{overflow:hidden;white-space:nowrap}.fc-media-print .fc-h-event .fc-event-time,.fc-media-print .fc-h-event .fc-event-title{overflow:hidden!important;white-space:nowrap!important}.fc-h-event .fc-event-title-outer{display:flex;flex-basis:0;flex-direction:row;flex-grow:1;min-height:0;min-width:0}.fc-h-event .fc-event-title{left:0;position:sticky;right:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:4}.fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc-popover-title{margin:0 2px}.fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}.fc-scroller{padding:0!important}.fc-scroller-no-bars{-ms-overflow-style:none;scrollbar-width:none}.fc-scroller-no-bars::-webkit-scrollbar{display:none}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc-button{-webkit-appearance:button}.fc-button:not(:disabled){cursor:pointer}.fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc-button:hover{text-decoration:none}.fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc-button:disabled{opacity:.65}.fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button-primary:not(:disabled).fc-button-active,.fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc-button-primary:not(:disabled).fc-button-active:focus,.fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc-button-group>.fc-button.fc-button-active,.fc-button-group>.fc-button:active,.fc-button-group>.fc-button:focus,.fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc-toolbar{align-items:center;justify-content:space-between}.fc-toolbar,.fc-toolbar-section{display:flex;flex-direction:row;gap:.75em}.fc-toolbar-section{flex-shrink:0}.fc-toolbar-title{font-size:1.75em;font-weight:700;white-space:nowrap}';ur(pc);class $n{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function fr(n){n.preventDefault()}function gc(n,e){return t=>{let r=t.target.closest(n);r&&e.call(r,t,r)}}function qa(n,e,t,r){let i=gc(t,r);return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}function mc(n,e,t,r){let i;return qa(n,"mouseover",e,(s,a)=>{if(a!==i){i=a,t(s,a);let l=o=>{i=null,r(o,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const ws=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function vc(n,e){let t=r=>{e(r),ws.forEach(i=>{n.removeEventListener(i,t)})};ws.forEach(r=>{n.addEventListener(r,t)})}function yi(n){return Object.assign({onClick:n},Qa(n))}function Qa(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let Es=0;function ht(){return Es+=1,String(Es)}function bi(){document.body.classList.add("fc-not-allowed")}function wi(){document.body.classList.remove("fc-not-allowed")}function yc(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",fr)}function bc(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",fr)}function wc(n){n.addEventListener("contextmenu",fr)}function Ec(n){n.removeEventListener("contextmenu",fr)}function Sc(n){let e=[],t=[],r,i;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)i=t[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function _c(n,e,t){let r,i;for(r=0;r<t.length;r+=1)if(i=Dc(n,e,t[r]),i)return i;return 0}function Dc(n,e,t){return t.func?t.func(n,e):Ac(n[t.field],e[t.field])*(t.order||1)}function Ac(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function jt(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function tn(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),n):t}function Cc(n,e){return n-e}function Un(n){return n%1===0}const Ss=["years","months","days","milliseconds"],xc=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Q(n,e){return typeof n=="string"?Tc(n):typeof n=="object"&&n?_s(n):typeof n=="number"?_s({[e||"milliseconds"]:n}):null}function Tc(n){let e=xc.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function _s(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function Rc(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Gr(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function Ic(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function Mc(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function Oc(n){return Ft(n)/365}function kc(n){return Ft(n)/30}function Ft(n){return Xe(n)/864e5}function Xe(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Ei(n,e){let t=null;for(let r=0;r<Ss.length;r+=1){let i=Ss[r];if(e[i]){let s=n[i]/e[i];if(!Un(s)||t!==null&&t!==s)return null;t=s}else if(n[i])return null}return t}function $r(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function xt(n,e,t){if(n===e)return!0;let r=n.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(n[i]!==e[i])return!1;return!0}const Nc=["sun","mon","tue","wed","thu","fri","sat"];function Ds(n,e){let t=ot(n);return t[2]+=e*7,Ie(t)}function ue(n,e){let t=ot(n);return t[2]+=e,Ie(t)}function ft(n,e){let t=ot(n);return t[6]+=e,Ie(t)}function Pc(n,e){return kt(n,e)/7}function kt(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function Hc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function Lc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function Bc(n,e){return(e.valueOf()-n.valueOf())/1e3}function Uc(n,e){let t=te(n),r=te(e);return{years:0,months:0,days:Math.round(kt(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function Yc(n,e){let t=qn(n,e);return t!==null&&t%7===0?t/7:null}function qn(n,e){return ct(n)===ct(e)?Math.round(kt(n,e)):null}function te(n){return Ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function zc(n){return Ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function Wc(n){return Ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function jc(n){return Ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function Fc(n,e,t){let r=n.getUTCFullYear(),i=Tr(n,r,e,t);if(i<1)return Tr(n,r-1,e,t);let s=Tr(n,r+1,e,t);return s>=1?Math.min(i,s):i}function Tr(n,e,t,r){let i=Ie([e,0,1+Vc(e,t,r)]),s=te(n),a=Math.round(kt(i,s));return Math.floor(a/7)+1}function Vc(n,e,t){let r=7+e-t;return-((7+Ie([n,0,r]).getUTCDay()-e)%7)+r-1}function As(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Cs(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ot(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Ie(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Za(n){return!isNaN(n.valueOf())}function ct(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function Xa(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Si(e,!0)))),r}function hr(n){return n.toISOString().replace(/T.*$/,"")}function Gc(n){return jt(n.getUTCHours(),2)+":"+jt(n.getUTCMinutes(),2)+":"+jt(n.getUTCSeconds(),2)}function Si(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),s=Math.round(r%60);return e?`${t+jt(i,2)}:${jt(s,2)}`:`GMT${t}${i}${s?`:${jt(s,2)}`:""}`}function O(n,e,t){let r,i;return function(...s){if(!r)i=n.apply(this,s);else if(!xt(r,s)){let a=n.apply(this,s);(!e||!e(a,i))&&(i=a)}return r=s,i}}function Yn(n,e,t){let r,i;return s=>(r?$t(r,s)||(i=n.call(this,s)):i=n.call(this,s),r=s,i)}const xs={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Qn={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},An=/\s*([ap])\.?m\.?/i,$c=/,/g,qc=/\s+/g,Qc=/\u200e/g,Zc=/UTC|GMT/;class Xc{constructor(e){let t={},r={},i=0;for(let s in e)s in xs?(r[s]=e[s],i=Math.max(xs[s],i)):(t[s]=e[s],s in Qn&&(i=Math.max(Qn[s],i)));this.standardDateProps=t,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=O(Ts)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,i){let{standardDateProps:s,extendedSettings:a}=this,l=rd(e.marker,t.marker,r.calendarSystem);if(!l)return this.format(e,r);let o=l;o>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(o=1);let c=this.format(e,r),d=this.format(t,r);if(c===d)return c;let u=id(s,o),h=Ts(u,a,r),f=h(e),m=h(t),g=sd(c,f,d,m),v=a.separator||i||r.defaultSeparator||"";return g?g.before+f+v+m+g.after:c+v+d}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Ts(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?i=>Si(i.timeZoneOffset):r===0&&e.week?i=>nd(t.computeWeekNumber(i.marker),t.weekText,t.weekTextLong,t.locale,e.week):Jc(n,e,t)}function Jc(n,e,t){n=Object.assign({},n),e=Object.assign({},e),Kc(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),i;if(e.omitZeroMinute){let s=Object.assign({},n);delete s.minute,i=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:a}=s,l;i&&!a.getUTCMinutes()?l=i:l=r;let o=l.format(a);return ed(o,s,n,e,t)}}function Kc(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function ed(n,e,t,r,i){return n=n.replace(Qc,""),t.timeZoneName==="short"&&(n=td(n,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Si(e.timeZoneOffset))),r.omitCommas&&(n=n.replace($c,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(An,"").trim():r.meridiem==="narrow"?n=n.replace(An,(s,a)=>a.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(An,(s,a)=>`${a.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(An,s=>s.toLocaleLowerCase())),n=n.replace(qc," "),n=n.trim(),n}function td(n,e){let t=!1;return n=n.replace(Zc,()=>(t=!0,e)),t||(n+=` ${e}`),n}function nd(n,e,t,r,i){let s=[];return i==="long"?s.push(t):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function rd(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:ct(n)!==ct(e)?1:0}function id(n,e){let t={};for(let r in n)(!(r in Qn)||Qn[r]<=e)&&(t[r]=n[r]);return t}function sd(n,e,t,r){let i=0;for(;i<n.length;){let s=n.indexOf(e,i);if(s===-1)break;let a=n.substr(0,s);i=s+e.length;let l=n.substr(i),o=0;for(;o<t.length;){let c=t.indexOf(r,o);if(c===-1)break;let d=t.substr(0,c);o=c+r.length;let u=t.substr(o);if(a===d&&l===u)return{before:a,after:l}}}return null}function Rs(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Zn(n,e,t,r){let i=Rs(n,t.calendarSystem),s=e?Rs(e,t.calendarSystem):null;return{date:i,start:i,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class ad{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,Zn(e,null,t,r))}formatRange(e,t,r,i){return r.cmdFormatter(this.cmdStr,Zn(e,t,r,i))}}class ld{constructor(e){this.func=e}format(e,t,r){return this.func(Zn(e,null,t,r))}formatRange(e,t,r,i){return this.func(Zn(e,t,r,i))}}function ne(n){return typeof n=="object"&&n?new Xc(n):typeof n=="string"?new ad(n):typeof n=="function"?new ld(n):null}const Is={navLinkDayClick:b,navLinkWeekClick:b,duration:Q,bootstrapFontAwesome:b,buttonIcons:b,customButtons:b,defaultAllDayEventDuration:Q,defaultTimedEventDuration:Q,nextDayThreshold:Q,scrollTime:Q,scrollTimeReset:Boolean,slotMinTime:Q,slotMaxTime:Q,dayPopoverFormat:ne,slotDuration:Q,snapDuration:Q,headerToolbar:b,footerToolbar:b,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ne,dayHeaderClassNames:b,dayHeaderContent:b,dayHeaderDidMount:b,dayHeaderWillUnmount:b,dayCellClassNames:b,dayCellContent:b,dayCellDidMount:b,dayCellWillUnmount:b,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:b,weekNumbers:Boolean,weekNumberClassNames:b,weekNumberContent:b,weekNumberDidMount:b,weekNumberWillUnmount:b,editable:Boolean,viewClassNames:b,viewDidMount:b,viewWillUnmount:b,nowIndicator:Boolean,nowIndicatorClassNames:b,nowIndicatorContent:b,nowIndicatorDidMount:b,nowIndicatorWillUnmount:b,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:b,locale:b,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:b,eventOrder:Sc,eventOrderStrict:Boolean,eventSlicing:Boolean,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:b,contentHeight:b,direction:String,weekNumberFormat:ne,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:b,initialDate:b,now:b,eventDataTransform:b,stickyHeaderDates:b,stickyFooterScrollbar:b,defaultAllDay:Boolean,eventSourceFailure:b,eventSourceSuccess:b,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:b,eventConstraint:b,eventAllow:b,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:b,eventContent:b,eventDidMount:b,eventWillUnmount:b,selectConstraint:b,selectOverlap:b,selectAllow:b,droppable:Boolean,unselectCancel:String,slotLabelFormat:b,slotLaneClassNames:b,slotLaneContent:b,slotLaneDidMount:b,slotLaneWillUnmount:b,slotLabelClassNames:b,slotLabelContent:b,slotLabelDidMount:b,slotLabelWillUnmount:b,dayMaxEvents:b,dayMaxEventRows:b,dayMinWidth:Number,slotLabelInterval:Q,allDayText:String,allDayClassNames:b,allDayContent:b,allDayDidMount:b,allDayWillUnmount:b,timedText:String,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ne,rerenderDelay:Number,moreLinkText:b,moreLinkHint:b,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:b,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Q,hiddenDays:b,fixedWeekCount:Boolean,validRange:b,visibleRange:b,titleFormat:b,eventInteractive:Boolean,noEventsText:String,viewHint:b,viewChangeHint:String,navLinkHint:b,closeHint:String,eventsHint:String,headingLevel:Number,moreLinkClick:b,moreLinkClassNames:b,moreLinkContent:b,moreLinkDidMount:b,moreLinkWillUnmount:b,monthStartFormat:ne,handleCustomRendering:b,customRenderingMetaMap:b,customRenderingReplaces:Boolean},nn={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},headingLevel:2},Ms={datesSet:b,eventsSet:b,eventAdd:b,eventChange:b,eventRemove:b,eventClick:b,eventMouseEnter:b,eventMouseLeave:b,select:b,unselect:b,loading:b,_unmount:b,_beforeprint:b,_afterprint:b,_noEventDrop:b,_noEventResize:b,_timeScrollRequest:b},Os={buttonText:b,buttonHints:b,views:b,plugins:b,initialEvents:b,events:b,eventSources:b},vt={headerToolbar:yt,footerToolbar:yt,buttonText:yt,buttonHints:yt,buttonIcons:yt,dateIncrement:yt,plugins:Cn,events:Cn,eventSources:Cn,resources:Cn};function yt(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?$t(n,e):n===e}function Cn(n,e){return Array.isArray(n)&&Array.isArray(e)?xt(n,e):n===e}const od={type:String,component:b,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:b,usesMinMaxTime:Boolean,classNames:b,content:b,didMount:b,willUnmount:b};function Rr(n){return Di(n,vt)}function _i(n,e){let t={},r={};for(let i in e)i in n&&(t[i]=e[i](n[i]));for(let i in n)i in e||(r[i]=n[i]);return{refined:t,extra:r}}function b(n){return n}const{hasOwnProperty:Xn}=Object.prototype;function Di(n,e){let t={};if(e){for(let r in e)if(e[r]===yt){let i=[];for(let s=n.length-1;s>=0;s-=1){let a=n[s][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){t[r]=a;break}}i.length&&(t[r]=Di(i))}}for(let r=n.length-1;r>=0;r-=1){let i=n[r];for(let s in i)s in t||(t[s]=i[s])}return t}function Tt(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function Je(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function Ja(n){let e={};for(let t of n)e[t]=!0;return e}function Ka(n){let e=[];for(let t in n)e.push(n[t]);return e}function $t(n,e){if(n===e)return!0;for(let t in n)if(Xn.call(n,t)&&!(t in e))return!1;for(let t in e)if(Xn.call(e,t)&&n[t]!==e[t])return!1;return!0}const cd=/^on[A-Z]/;function dd(n,e){const t=qr(n,e);for(let r of t)if(!cd.test(r))return!1;return!0}function qr(n,e){let t=[];for(let r in n)Xn.call(n,r)&&(r in e||t.push(r));for(let r in e)Xn.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function ks(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&ud(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function ud(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}let el={};function fd(n,e){el[n]=e}function hd(n){return new el[n]}class pd{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ie(e)}markerToArray(e){return ot(e)}}fd("gregory",pd);const gd=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function md(n){let e=gd.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Za(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class vd{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=hd(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ie(As(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ie(e)),t===null||!Za(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=md(e);if(t===null)return null;let{marker:r}=t,i=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):i=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return ct(e)===ct(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return ct(e)===ct(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=Yc(e,t),r!==null?{unit:"week",value:r}:(r=qn(e,t),r!==null?{unit:"day",value:r}:(r=Hc(e,t),Un(r)?{unit:"hour",value:r}:(r=Lc(e,t),Un(r)?{unit:"minute",value:r}:(r=Bc(e,t),Un(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let i;return r.years&&(i=this.diffWholeYears(e,t),i!==null)?i/Oc(r):r.months&&(i=this.diffWholeMonths(e,t),i!==null)?i/kc(r):r.days&&(i=qn(e,t),i!==null)?i/Ft(r):(t.valueOf()-e.valueOf())/Xe(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?te(e):t==="hour"?zc(e):t==="minute"?Wc(e):t==="second"?jc(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Fc(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,i={}){return i.isEndExclusive&&(t=ft(t,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(t)},this,i.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),Xa(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ie(As(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ie(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Cs(ot(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ot(e)):null}toDate(e,t){return this.timeZone==="local"?Cs(ot(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ot(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class pn{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClassName(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}pn.prototype.classes={};pn.prototype.iconClasses={};pn.prototype.baseIconClass="";pn.prototype.iconOverridePrefix="";function rn(){let n=z.debounceRendering,e=[];function t(r){e.push(r)}for(z.debounceRendering=t,an(p(bd,{}),document.createElement("div"));e.length;)e.shift()();z.debounceRendering=n}function yd(n){n(),rn()}class bd extends Ae{render(){return p("div",{})}componentDidMount(){this.setState({})}}const tl=Go,xn=z,pt=tl({});function wd(n,e,t,r,i,s,a,l,o,c,d,u,h){return{dateEnv:i,options:t,pluginHooks:a,emitter:c,dispatch:l,getCurrentData:o,calendarApi:d,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:t.direction==="rtl",registerInteractiveComponent:u,unregisterInteractiveComponent:h}}class Nt extends Ae{shouldComponentUpdate(e,t){return this.debug&&console.log(qr(e,this.props),qr(t,this.state)),!ks(this.props,e,this.propEquality)||!ks(this.state,t,this.stateEquality)}}Nt.addPropsEquality=Ed;Nt.addStateEquality=Sd;Nt.contextType=pt;Nt.prototype.propEquality={};Nt.prototype.stateEquality={};class W extends Nt{}W.contextType=pt;function Ed(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function Sd(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function H(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function R(...n){return n.filter(Boolean).join(" ")}function Ns(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}function Jn(n){return n*100+"%"}class Ai extends W{constructor(){super(...arguments),this.id=ht(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!Qr(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&H(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:i,defaultGenerator:s,renderProps:a}=e,l=nl(e,"",this.handleEl);let o=!1,c,d=[],u;if(i!=null){const h=typeof i=="function"?i(a,p):i;if(h===!0)o=!0;else{const f=h&&typeof h=="object";f&&"html"in h?l.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(f?Oa(h):typeof h!="function")?c=h:u=h}}else o=!Qr(e.generatorName,r);return o&&s&&(c=s(a)),this.queuedDomNodes=d,this.currentGeneratorMeta=u,p(e.tag,l,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=i.options;if(s){const l=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:a?.[r.generatorName];l&&s(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!xt(e,t)){for(const i of t)i.remove();for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}Ai.addPropsEquality({renderProps:$t,attrs:dd,style:$t});function Qr(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function nl(n,e,t){const r=Object.assign(Object.assign({},n.attrs),{ref:t});return(n.className||e)&&(r.className=R(e,n.className,r.className)),n.style&&(r.style=n.style),r}const rl=tl(0);class Ce extends Ae{constructor(){super(...arguments),this.InnerContent=_d.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(H(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=Dd(e.classNameGenerator,e.renderProps);if(e.children){const r=nl(e,t,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.tag?p(e.tag,r,i):i}else return p(Ai,Object.assign(Object.assign({},e),{elRef:this.handleEl,tag:e.tag||"div",className:R(e.className,t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ce.contextType=rl;function _d(n,e){const t=n.props;return p(Ai,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function Dd(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?t:t.join(" ")}function il(n){return n.text}class Ci extends W{render(){let{props:e,context:t}=this,{options:r}=t,i={view:t.viewApi};return p(Ce,Object.assign({},e,{tag:e.tag||"div",attrs:e.attrs,className:R(e.className,sl(e.viewSpec)),renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function sl(n){return`fc-${n.type}-view fc-view`}function Ad(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function Ps(n,e){let t=[],{start:r}=e,i,s;for(n.sort(Cd),i=0;i<n.length;i+=1)s=n[i],s.start>r&&t.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&t.push({start:r,end:e.end}),t}function Cd(n,e){return n.start.valueOf()-e.start.valueOf()}function Rt(n,e){let{start:t,end:r}=n,i=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(i={start:t,end:r}),i}function xd(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function xi(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function pr(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Ve(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function Td(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function al(n){let e=Math.floor(kt(n.start,n.end))||1,t=te(n.start),r=ue(t,e);return{start:t,end:r}}function ll(n,e=Q(0)){let t=null,r=null;if(n.end){r=te(n.end);let i=n.end.valueOf()-r.valueOf();i&&i>=Xe(e)&&(r=ue(r,1))}return n.start&&(t=te(n.start),r&&r<=t&&(r=ue(t,1))),{start:t,end:r}}function zt(n,e,t,r){return r==="year"?Q(t.diffWholeYears(n,e),"year"):r==="month"?Q(t.diffWholeMonths(n,e),"month"):Uc(n,e)}function Rd(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function Id(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):gn(n.now,e)}function gn(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class ol{constructor(e){this.props=e,this.nowDate=gn(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,t,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,t,r=!0){let{props:i}=this,s,a,l,o,c,d;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=Td(e,s)),a=this.buildCurrentRangeInfo(e,t),l=/^(year|month|week|day)$/.test(a.unit),o=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),o=this.trimHiddenDays(o),c=o,i.showNonCurrentDates||(c=Rt(c,a.range)),c=this.adjustActiveRange(c),c=Rt(c,s),d=xi(a.range,s),Ve(o,e)||(e=o.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:c,renderRange:o,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,i=null,s=null,a=null,l;return r.duration?(i=r.duration,s=r.durationUnit,a=this.buildRangeFromDuration(e,t,i,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,t,l)):(a=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),s=$r(i).unit,a=this.buildRangeFromDuration(e,t,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return Q({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:a,end:l}=e;return r&&(Ft(i)<0&&(a=te(a),a=t.add(a,i)),Ft(s)>1&&(l=te(l),l=ue(l,-1),l=t.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,t,r,i){let{dateEnv:s,dateAlignment:a}=this.props,l,o,c;if(!a){let{dateIncrement:u}=this.props;u&&Xe(u)<Xe(r)?a=$r(u).unit:a=i}Ft(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,t),l=te(l));function d(){l=s.startOf(e,a),o=s.add(l,r),c={start:l,end:o}}return d(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),d()),c}buildRangeFromDayCount(e,t,r){let{dateEnv:i,dateAlignment:s}=this.props,a=0,l=e,o;s&&(l=i.startOf(l,s)),l=te(l),l=this.skipHiddenDays(l,t),o=l;do o=ue(o,1),this.isHiddenDay(o)||(a+=1);while(a<r);return{start:l,end:o}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,i=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?Q(1,r):e||Q({days:1}))}refineRange(e){if(e){let t=Ad(e,this.props.dateEnv);return t&&(t=ll(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(t[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=ue(e,t);return e}}function Ti(n,e,t,r){return{instanceId:ht(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function Md(n,e,t,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(n,t);if(s){let{allDay:a}=n;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function It(n,e,t){let{dateEnv:r,pluginHooks:i,options:s}=t,{defs:a,instances:l}=n;l=Tt(l,o=>!a[o.defId].recurringDef);for(let o in a){let c=a[o];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let u=Od(c,d,e,r,i.recurringTypes);for(let h of u){let f=Ti(o,{start:h,end:r.add(h,d)});l[f.instanceId]=f}}}return{defs:a,instances:l}}function Od(n,e,t,r,i){let a=i[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(a=a.map(te)),a}const zn={id:String,groupId:String,title:String,url:String,interactive:Boolean},cl={start:b,end:b,date:b,allDay:Boolean},kd=Object.assign(Object.assign(Object.assign({},zn),cl),{extendedProps:b});function dl(n,e,t,r,i=Ri(t),s,a){let{refined:l,extra:o}=ul(n,t,i),c=Pd(e,t),d=Md(l,c,t.dateEnv,t.pluginHooks.recurringTypes);if(d){let h=Zr(l,o,e?e.sourceId:"",d.allDay,!!d.duration,t,s);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let u=Nd(l,c,t,r);if(u){let h=Zr(l,o,e?e.sourceId:"",u.allDay,u.hasEnd,t,s),f=Ti(h.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return a&&h.publicId&&a[h.publicId]&&(f.instanceId=a[h.publicId]),{def:h,instance:f}}return null}function ul(n,e,t=Ri(e)){return _i(n,t)}function Ri(n){return Object.assign(Object.assign(Object.assign({},Kn),kd),n.pluginHooks.eventRefiners)}function Zr(n,e,t,r,i,s,a){let l={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(a&&n.id?a[n.id]:"")||ht(),sourceId:t,allDay:r,hasEnd:i,interactive:n.interactive,ui:er(n,s),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let o of s.pluginHooks.eventDefMemberAdders)Object.assign(l,o(n));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function Nd(n,e,t,r){let{allDay:i}=n,s,a=null,l=!1,o,c=null,d=n.start!=null?n.start:n.date;if(s=t.dateEnv.createMarkerMeta(d),s)a=s.marker;else if(!r)return null;return n.end!=null&&(o=t.dateEnv.createMarkerMeta(n.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!o||o.isTimeUnspecified)),i&&a&&(a=te(a)),o&&(c=o.marker,i&&(c=te(c)),a&&c<=a&&(c=null)),c?l=!0:r||(l=t.options.forceEventDuration||!1,c=t.dateEnv.add(a,i?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}function Pd(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function ln(n,e,t,r,i,s){let a=ke(),l=Ri(t);for(let o of n){let c=dl(o,e,t,r,l,i,s);c&&Xr(c,a)}return a}function Xr(n,e=ke()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Ii(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],i=gr(n,s=>Hd(r,s));return i.defs[r.defId]=r,i.instances[t.instanceId]=t,i}return ke()}function Hd(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function ke(){return{defs:{},instances:{}}}function Mi(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function gr(n,e){let t=Tt(n.defs,e),r=Tt(n.instances,i=>t[i.defId]);return{defs:t,instances:r}}function Ld(n,e){let{defs:t,instances:r}=n,i={},s={};for(let a in t)e.defs[a]||(i[a]=t[a]);for(let a in r)!e.instances[a]&&i[r[a].defId]&&(s[a]=r[a]);return{defs:i,instances:s}}function Bd(n,e){return Array.isArray(n)?ln(n,null,e,!0):typeof n=="object"&&n?ln([n],null,e,!0):n!=null?String(n):null}const Kn={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:b,overlap:b,allow:b,className:Ns,classNames:Ns,color:String,backgroundColor:String,borderColor:String,textColor:String},Ud={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function er(n,e){let t=Bd(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function fl(n){return n.reduce(Yd,Ud)}function Yd(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const zd={id:String,defaultAllDay:Boolean,url:String,format:String,events:b,eventDataTransform:b,success:b,failure:b};function hl(n,e,t=pl(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:i,extra:s}=_i(r,t),a=Wd(i,e);if(a)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ht(),sourceDefId:a.sourceDefId,meta:a.meta,ui:er(i,e),extendedProps:s}}return null}function pl(n){return Object.assign(Object.assign(Object.assign({},Kn),zd),n.pluginHooks.eventSourceRefiners)}function Wd(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let s=t[r].parseMeta(n);if(s)return{sourceDefId:r,meta:s}}return null}function jd(n,e,t,r,i){switch(e.type){case"RECEIVE_EVENTS":return Fd(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Vd(n,t[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return Gd(n,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Mi(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?It(n,r.activeRange,i):n;case"REMOVE_EVENTS":return Ld(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return ml(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return gr(n,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ke();default:return n}}function Fd(n,e,t,r,i,s){if(e&&t===e.latestFetchId){let a=ln(gl(i,e,s),e,s);return r&&(a=It(a,r,s)),Mi(ml(n,e.sourceId),a)}return n}function Vd(n,e,t,r,i){const{defIdMap:s,instanceIdMap:a}=qd(n);let l=ln(gl(t,e,i),e,i,!1,s,a);return It(l,r,i)}function gl(n,e,t){let r=t.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(n=Hs(n,i)),r&&(n=Hs(n,r)),n}function Hs(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let i=e(r);i?t.push(i):i==null&&t.push(r)}}return t}function Gd(n,e,t,r){return t&&(e=It(e,t,r)),Mi(n,e)}function Ls(n,e,t){let{defs:r}=n,i=Je(n.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function ml(n,e){return gr(n,t=>t.sourceId!==e)}function $d(n,e){return{defs:n.defs,instances:Tt(n.instances,t=>!e[t.instanceId])}}function qd(n){const{defs:e,instances:t}=n,r={},i={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(r[l]=s)}for(let s in t){const a=t[s],l=e[a.defId],{publicId:o}=l;o&&(i[o]=s)}return{defIdMap:r,instanceIdMap:i}}class mn{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){Qd(this.handlers,e,t)}off(e,t){Zd(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let a of s)a.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Qd(n,e,t){(n[e]||(n[e]=[])).push(t)}function Zd(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const Xd={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Jd(n,e){return ln(Kd(n),null,e)}function Kd(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},Xd),t)),e}function vl(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Oi(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function eu(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Oi(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,fu(n,e.dateEnv)),t}function Bs(n,e,t){let{dateEnv:r,options:i}=t,s=e;return n?(s=te(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function ki(n,e,t,r){let i=tr(n.defs,e),s=ke();for(let a in n.defs){let l=n.defs[a];s.defs[a]=tu(l,i[a],t,r)}for(let a in n.instances){let l=n.instances[a],o=s.defs[l.defId];s.instances[a]=nu(l,o,i[l.defId],t,r)}return s}function tu(n,e,t,r){let i=t.standardProps||{};i.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},n),i),{ui:Object.assign(Object.assign({},n.ui),i.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let a of r.pluginHooks.eventDefMutationAppliers)a(s,t,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function nu(n,e,t,r,i){let{dateEnv:s}=i,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,o=Object.assign({},n);return a&&(o.range=al(o.range)),r.datesDelta&&t.startEditable&&(o.range={start:s.add(o.range.start,r.datesDelta),end:s.add(o.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(o.range={start:s.add(o.range.start,r.startDelta),end:o.range.end}),r.endDelta&&t.durationEditable&&(o.range={start:o.range.start,end:s.add(o.range.end,r.endDelta)}),l&&(o.range={start:o.range.start,end:Bs(e.allDay,o.range.start,i)}),e.allDay&&(o.range={start:te(o.range.start),end:te(o.range.end)}),o.range.end<o.range.start&&(o.range.end=Bs(e.allDay,o.range.start,i)),o}class Yt{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ie{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in cl)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=zn[e](t),this.mutate({standardProps:{publicId:t}});else if(e in zn)t=zn[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Kn){let r=Kn[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,a=zt(s.start,i,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,t={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=zt(this._instance.range.end,i,r,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},a=i.createMarker(e),l;if(a&&!(t!=null&&(l=i.createMarker(t),!l))&&this._instance){let o=this._instance.range;r.allDay===!0&&(o=al(o));let c=zt(o.start,a,i,r.granularity);if(l){let d=zt(o.end,l,i,r.granularity);Rc(c,d)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let t=Q(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Q(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Q(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:i}=t;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,i=ne(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),a=Ii(s,t.instanceId);a=ki(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let o=new ie(i,r,t);this._def=a.defs[r.defId],this._instance=a.instances[t.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:Et(a,i,t),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=yl(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Yt(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:i,endStr:s}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),i&&(a.start=i),s&&(a.end=s),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),r.display&&r.display!=="auto"&&(a.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?a.color=r.backgroundColor:(r.backgroundColor&&(a.backgroundColor=r.backgroundColor),r.borderColor&&(a.borderColor=r.borderColor)),r.textColor&&(a.textColor=r.textColor),r.classNames.length&&(a.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function yl(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Et(n,e,t){let{defs:r,instances:i}=n,s=[],a=t?t.instanceId:"";for(let l in i){let o=i[l],c=r[o.defId];o.instanceId!==a&&s.push(new ie(e,c,o))}return s}function mr(n){return n.eventRange.instance.instanceId}function Jr(n,e,t,r){let i={},s={},a={},l=[],o=[],c=tr(n.defs,e);for(let d in n.defs){let u=n.defs[d];c[u.defId].display==="inverse-background"&&(u.groupId?(i[u.groupId]=[],a[u.groupId]||(a[u.groupId]=u)):s[d]=[])}for(let d in n.instances){let u=n.instances[d],h=n.defs[u.defId],f=c[h.defId],m=u.range,g=!h.allDay&&r?ll(m,r):m,v=Rt(g,t);v&&(f.display==="inverse-background"?h.groupId?i[h.groupId].push(v):s[u.defId].push(v):f.display!=="none"&&(f.display==="background"?l:o).push({def:h,ui:f,instance:u,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let u=i[d],h=Ps(u,t);for(let f of h){let m=a[d],g=c[m.defId];l.push({def:m,ui:g,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let d in s){let u=s[d],h=Ps(u,t);for(let f of h)l.push({def:n.defs[d],ui:c[d],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:l,fg:o}}function ru(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function Us(n,e){n.fcEventRange=e}function qt(n){return n.fcEventRange||n.parentNode.fcEventRange||null}function tr(n,e){return Je(n,t=>bl(t,e))}function bl(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),fl(t)}function Ni(n,e){let t=n.map(iu);return t.sort((r,i)=>_c(r,i,e)),t.map(r=>r._seg)}function iu(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:i,end:s,duration:s-i,allDay:Number(t.allDay),_seg:n})}function su(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:i,ui:s}=n,a=s.startEditable;for(let l of r)a=l(a,i,s,e);return a}function Pi(n,e,t,r,i,s,a,l=!0,o=!0){const{dateEnv:c,options:d}=a,{def:u,instance:h}=e;let{displayEventTime:f,displayEventEnd:m}=d;f==null&&(f=l!==!1),m==null&&(m=o!==!1);const g=!i&&t&&te(t).valueOf()!==te(e.instance.range.start).valueOf()?t:e.instance.range.start,v=!s&&r&&te(ft(r,-1)).valueOf()!==te(ft(e.instance.range.end,-1)).valueOf()?r:e.instance.range.end;if(f&&!u.allDay){if(m&&(i||s)&&u.hasEnd)return c.formatRange(g,v,n,{forcedStartTzo:i?h.forcedStartTzo:null,forcedEndTzo:s?h.forcedEndTzo:null});if(i)return c.format(g,n,{forcedTzo:h.forcedStartTzo})}return""}function Ze(n,e,t){let r=n.range;return{isPast:r.end<=(t||e.start),isFuture:r.start>=(t||e.end),isToday:e&&Ve(e,r.start)}}function au(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function wl(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Hi(n,e){let{def:t,instance:r}=n,{url:i}=t;if(i)return["a",{href:i}];let{emitter:s,options:a}=e,{eventInteractive:l}=a;l==null&&(l=t.interactive,l==null&&(l=!!s.hasHandlers("eventClick")));let o;return l&&(o=Qa(c=>{s.trigger("eventClick",{el:c.target,event:new ie(e,t,r),jsEvent:c,view:e.viewApi})}),o=Object.assign({role:"button"},o)),["div",o]}const lu={start:b,end:b,allDay:Boolean};function ou(n,e,t){let r=cu(n,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(t==null)return null;i.end=e.add(i.start,t)}return r}function cu(n,e){let{refined:t,extra:r}=_i(n,lu),i=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:a}=t;return a==null&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},r)}function du(n,e){return xd(n.range,e.range)&&n.allDay===e.allDay&&uu(n,e)}function uu(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function fu(n,e){return Object.assign(Object.assign({},Sl(n.range,e,n.allDay)),{allDay:n.allDay})}function El(n,e,t){return Object.assign(Object.assign({},Sl(n,e,t)),{timeZone:e.timeZone})}function Sl(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function hu(n,e,t){let r=ul({editable:!1},t),i=Zr(r.refined,r.extra,"",n.allDay,!0,t);return{def:i,ui:bl(i,e),instance:Ti(i.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function pu(n,e,t){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,t(l))},a=n(i,s);a&&typeof a.then=="function"&&a.then(i,s)}class Ys extends Error{constructor(e,t){super(e),this.response=t}}function gu(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new Ys("Failure parsing JSON",i)});throw new Ys("Request failed",i)})}function Kr(n,e){return n!=null&&(n===e||Math.abs(n-e)<.01)}const mu=!0,vu=100,We=new Map,ei=new Set;let Vt=!1;function de(n){Vt?ei.add(n):n()}function _l(){for(const n of ei.values())n(),ei.delete(n)}function ti(){let n=!0;if(!Vt){Vt=!0;const e=[];for(const[t,r]of We.entries()){const{width:i,height:s}=t.getBoundingClientRect();Dl(r,i,s)&&(e.push(r),n=!0)}for(const t of e)t.callback(t.width,t.height);_l(),Vt=!1}return n}function Dl(n,e,t){let r=!1;return Kr(n.width,e)||(n.width=e,r=n.watchWidth),Kr(n.height,t)||(n.height=t,r||(r=n.watchHeight)),r}function yu(){const n=new ResizeObserver(t=>{Vt=!0;for(let r of t){const i=r.target,s=We.get(i);let a,l;if(r.borderBoxSize&&mu){const o=r.borderBoxSize[0]||r.borderBoxSize;a=o.inlineSize,l=o.blockSize}else({width:a,height:l}=i.getBoundingClientRect());Dl(s,a,l)&&s.callback(a,l)}_l(),Vt=!1});function e(t,r,i=!0,s=!0){return We.set(t,{callback:r,watchWidth:i,watchHeight:s}),n.observe(t,{box:"border-box"}),()=>{We.delete(t),n.unobserve(t)}}return[e,ti]}const zs=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ws={capture:!0,passive:!0};function bu(){let n,e=!1;const[t,r]=wu(ti,vu);function i(){return r(),ti()}function s(g,v,y=!0,E=!0){return We.size||a(),We.set(g,{callback:v,watchWidth:y,watchHeight:E}),t(),()=>{We.delete(g),We.size||l()}}function a(){n=new MutationObserver(t),e||o();for(const g of zs)window.addEventListener(g,t,Ws)}function l(){e||c();for(const g of zs)window.removeEventListener(g,t,Ws)}function o(){n.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function c(){n.disconnect()}function d(){e||(e=!0,We.size&&c())}function u(){e&&(e=!1,We.size&&o())}const h=xn.__r||js,f=xn.__c||js;let m=!1;return xn.__r=function(){d(),h.apply(this,arguments)},xn.__c=function(){m||(m=!0,requestAnimationFrame(()=>{i(),u(),m=!1})),f.apply(this,arguments)},[s,i]}const js=()=>{};function wu(n,e){let t,r,i;function s(o){t=Date.now(),r=0,i=setTimeout(()=>{r?s(r):(i=void 0,n())},o)}function a(){i?r=Date.now()-t:s(e)}function l(){i&&(clearTimeout(i),i=void 0)}return[a,l]}const[vn,Al]=typeof ResizeObserver<"u"?yu():bu();function vr(n,e){return vn(n,e,!0)}function Zt(n,e){return vn(n,(t,r)=>e(r),!1,!0)}class Eu extends W{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0}),rn(),Al(),rn()},this.handleAfterPrint=()=>{this.setState({forPrint:!1}),rn()}}render(){let{props:e,state:t}=this,{options:r}=e,{forPrint:i}=t,s=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClassName("root")];return e.children(s,r.height,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Xt{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Su(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Li(n){return{[n.component.uid]:n}}const ni={},_u=/(top|left|right|bottom|width|height)$/i;function Wn(n,e){for(let t in e)Cl(n,t,e[t])}function Cl(n,e,t){t==null?n.style[e]="":typeof t=="number"&&_u.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function xl(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let Fs=0;function Bi(){return Fs+=1,"fc-dom-"+Fs}function Ke(n){return n.height==="auto"||n.contentHeight==="auto"}function yn(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=Ke(n)),e}function Tl(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=Ke(n)),e}function Rl(n){const e=n.scrollerSyncerClass;if(!e)throw new RangeError("Must import @fullcalendar/scrollgrid");return e}class Du{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){let e=0;for(;e++<3&&Al();)rn()}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),i;t=t||"day",i=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,a;for(let l in t)i.push(l);for(s=0;s<i.length;s+=1)if(a=t[i[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:gn(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=Q(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),ne(t))}formatRange(e,t,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(t),ne(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let i=this.getCurrentData(),s=ou(r,i.dateEnv,Q({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),vl(s,null,i))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),eu(e,t))}addEvent(e,t){if(e instanceof ie){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Xr({def:a,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(t instanceof Yt)i=t.internalEventSource;else if(typeof t=="boolean")t&&([i]=Ka(r.eventSources));else if(t!=null){let a=this.getEventSourceById(t);if(!a)return console.warn(`Could not find an event source with ID "${t}"`),null;i=a.internalEventSource}let s=dl(e,i,r,!1);if(s){let a=new ie(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Xr(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:yl(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:i}=t.eventStore;e=String(e);for(let s in r){let a=r[s];if(a.publicId===e){if(a.recurringDef)return new ie(t,a,null);for(let l in i){let o=i[l];if(o.defId===a.defId)return new ie(t,a,o)}}}return null}getEvents(){let e=this.getCurrentData();return Et(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let i in t)r.push(new Yt(e,t[i]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Yt(t,r[i]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Yt)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=hl(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Yt(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Q(e);t&&this.trigger("_timeScrollRequest",t)}}function Au(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Il(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function Cu(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function xu(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function Tu(n,e){return{left:n.left-e.left,top:n.top-e.top}}const Ir=ke();class Ru{constructor(){this.getKeysForEventDefs=O(this._getKeysForEventDefs),this.splitDateSelection=O(this._splitDateSpan),this.splitEventStore=O(this._splitEventStore),this.splitIndividualUi=O(this._splitIndividualUi),this.splitEventDrag=O(this._splitInteraction),this.splitEventResize=O(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Je(t,(d,u)=>this.eventUiBuilders[u]||O(Iu));for(let d in t){let u=t[d],h=a[d]||Ir,f=this.eventUiBuilders[d];c[d]={businessHours:u.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],u.ui,s[d]),eventDrag:l[d]||null,eventResize:o[d]||null,eventSelection:h.instances[e.eventSelection]?e.eventSelection:""}}return c}_splitDateSpan(e){let t={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)t[i]=e}return t}_getKeysForEventDefs(e){return Je(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:r,instances:i}=e,s={};for(let a in r)for(let l of t[a])s[l]||(s[l]=ke()),s[l].defs[a]=r[a];for(let a in i){let l=i[a];for(let o of t[l.defId])s[o]&&(s[o].instances[a]=l)}return s}_splitIndividualUi(e,t){let r={};for(let i in e)if(i)for(let s of t[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let t={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),a=l=>{t[l]||(t[l]={affectedEvents:r[l]||Ir,mutatedEvents:s[l]||Ir,isEvent:e.isEvent})};for(let l in r)a(l);for(let l in s)a(l)}return t}}function Iu(n,e,t){let r=[];n&&r.push(n),e&&r.push(e);let i={"":fl(r)};return t&&Object.assign(i,t),i}function bn(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&!Ve(r.activeRange,n)),isOther:!!(r&&!Ve(r.currentRange,n)),isToday:!!(e&&Ve(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function nr(n){return R("fc-day",n.isDisabled?"fc-day-disabled":R(`fc-day-${Nc[n.dow]}`,n.isToday&&"fc-day-today",n.isPast&&"fc-day-past",n.isFuture&&"fc-day-future",n.isOther&&"fc-day-other"))}const Mu=ne({year:"numeric",month:"long",day:"numeric"}),Ou=ne({week:"long"});function Jt(n,e,t="day"){return n.dateEnv.format(e,t==="week"?Ou:Mu)}function Qt(n,e,t="day",r=Jt(n,e,t),i=!0){const{dateEnv:s,options:a,calendarApi:l}=n,o=s.toDate(e),c=d=>{let u=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof u=="function"?u.call(l,s.toDate(e),d):(typeof u=="string"&&(t=u),l.zoomTo(e,t))};return Object.assign({role:"link","aria-label":tn(a.navLinkHint,[r,o],r),className:"fc-navlink"},i?yi(c):{onClick:c})}function ku(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,i=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,a=parseInt(t.borderBottomWidth,10)||0,l=Hu(n),o=l.y-r-i,c=l.x-s-a,d={borderLeft:r,borderRight:i,borderTop:s,borderBottom:a,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return t.direction==="rtl"?d.scrollbarLeft=o:d.scrollbarRight=o,e&&(d.paddingLeft=parseInt(t.paddingLeft,10)||0,d.paddingRight=parseInt(t.paddingRight,10)||0,d.paddingTop=parseInt(t.paddingTop,10)||0,d.paddingBottom=parseInt(t.paddingBottom,10)||0),d}function Nu(n,e=!1,t){let r=Ui(n),i=ku(n,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function Ui(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Pu(n){let e=Ml(n),t=n.getBoundingClientRect();for(let r of e){let i=Il(t,r.getBoundingClientRect());if(i)t=i;else return null}return t}function Ml(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}function Hu(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}class Yi{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Lu extends Yi{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Bu extends Yi{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class gt extends W{constructor(){super(...arguments),this.uid=ht()}prepareHits(){}queryHit(e,t,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!e.closest(".fc-event-mirror")}isValidDateDownEl(e){return!e.closest(".fc-event:not(.fc-bg-event)")&&!e.closest(".fc-more-link")&&!e.closest(".fc-navlink")&&!e.closest(".fc-popover")}}function Uu(n,e){return n.end>e.start&&n.start<e.end}function Vs(n,e){const t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);if(t<r)return{start:t,end:r,isStart:n.isStart&&t===n.start,isEnd:n.isEnd&&r===n.end}}function Yu(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function ri(n){return n.end}function Ol(n){return n.reduce(Wu).eventRange.range.start}function zu(n){return n.reduce(ju).eventRange.range.end}function Wu(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function ju(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class ii{constructor(e,t=o=>1,r=!1,i,s,a=!1,l=!1){this.getSegThickness=t,this.strictOrder=r,this.maxCoord=i,this.maxDepth=s,this.hiddenConsumes=a,this.allowSlicing=l,this.placementsByLevel=[],this.levelCoords=[],this.hiddenSegs=[];for(const o of e)this.insertSeg(o,this.getSegThickness(o))}insertSeg(e,t,r){if(t!=null){const i=this.findInsertion(e,t);if(this.isInsertionValid(i,t))this.insertSegAt(e,i,t,r);else{const{touchingPlacement:s}=i;if(s){if(this.hiddenConsumes&&!s.isZombie&&(s.isZombie=!0,this.hiddenSegs.push(s),this.allowSlicing)){const a=Object.assign({},s);Object.assign(s,Vs(s,e)),s.isSlice=!0,this.splitSeg(a,s.thickness,s)}this.allowSlicing?(this.hiddenSegs.push(Object.assign(Object.assign({},e),Vs(e,s))),this.splitSeg(e,t,s)):this.hiddenSegs.push(e)}else this.hiddenSegs.push(e)}}}isInsertionValid(e,t){return(this.maxCoord==null||e.levelCoord+t<=this.maxCoord)&&(this.maxDepth==null||e.depth<this.maxDepth)}splitSeg(e,t,r){e.start<r.start&&this.insertSeg(Object.assign(Object.assign({},e),{end:r.start,isEnd:!1}),t,!0),e.end>r.end&&this.insertSeg(Object.assign(Object.assign({},e),{start:r.end,isStart:!1}),t,!0)}insertSegAt(e,t,r,i){const s=Object.assign(Object.assign({},e),{thickness:r,depth:t.depth,isSlice:i||e.isSlice||!1,isZombie:!1});t.lateralIndex===-1?(Mr(this.placementsByLevel,t.levelIndex,[s]),Mr(this.levelCoords,t.levelIndex,t.levelCoord)):Mr(this.placementsByLevel[t.levelIndex],t.lateralIndex,s)}findInsertion(e,t){let{placementsByLevel:r,levelCoords:i}=this,s=r.length,a=0,l,o,c=0;for(let h=0;h<s;h+=1){const f=i[h];if(!this.strictOrder&&f>=a+t)break;let m=r[h],g,[v,y]=si(m,e.start,ri),E=v+y;for(;(g=m[E])&&g.start<e.end;){let D=f+g.thickness;D>a&&(a=D,l=g,o=h),D===a&&(c=Math.max(c,g.depth+1)),E+=1}}let d=0;if(l)for(d=o+1;d<s&&i[d]<a;)d+=1;let u=-1;return d<s&&i[d]===a&&([u]=si(r[d],e.end,ri)),{touchingPlacement:l,levelCoord:a,levelIndex:d,lateralIndex:u,depth:c}}traverseSegs(e){const{placementsByLevel:t,levelCoords:r}=this;for(let i=0;i<t.length;i++){const s=t[i],a=r[i];for(const l of s)l.isZombie||e(l,a)}}}function Fu(n){let e=[];for(let t of n){let r=[],i={segs:[t],start:t.start,end:t.end};for(let s of e)Uu(s,i)?i=Object.assign(Object.assign({},Yu(s,i)),{segs:s.segs.concat(i.segs)}):r.push(s);r.push(i),e=r}return e.map(t=>Object.assign({key:Xa(Ol(n))},t))}function Mr(n,e,t){n.splice(e,0,t)}function si(n,e,t){let r=0,i=n.length;if(!i||e<t(n[r]))return[0,0];if(e>t(n[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),a=t(n[s]);if(e<a)i=s;else if(e>a)r=s+1;else return[s,1]}return[r,0]}class Vu{constructor(e,t){this.emitter=new mn}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const zi={};class kl{constructor(e,t){let r=e.start,{end:i}=e,s=[],a=[],l=-1;for(;r<i;)t.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),a.push(r)),r=ue(r,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(ue(e.end,-1)),i=Math.max(0,t),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{start:i,end:s+1,isStart:t===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(kt(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class Nl{constructor(e,t){let{dates:r}=e,i,s,a;if(t){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cellRows=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(t,i));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cellRows[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),i=[];if(r){const{start:s,end:a}=r;let l=s;for(;l<a;){let o=Math.floor(l/t),c=Math.min((o+1)*t,a);i.push({row:o,start:l%t,end:(c-1)%t+1,isStart:r.isStart&&l===s,isEnd:r.isEnd&&c===a}),l=c}}return i}}class Gu{constructor(e){this.el=e,this.emitter=new mn,this.isScroll=!1,this.isScrollRecent=!1,this.isWheelRecent=!1,this.isMouseDown=!1,this.isTouchDown=!1,this.isMouse=!1,this.isTouch=!1,this.isWheel=!1,this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.getIsUser()),this.isScrollRecent=!0,this.isMouseDown&&(this.isMouse=!0),this.isTouchDown&&(this.isTouch=!0),this.isWheelRecent&&(this.isWheel=!0),this.scrollWaiter.request(500)},this.handleScrollWait=()=>{this.isScrollRecent=!1,this.isTouchDown||this.endScroll()},this.handleWheel=()=>{this.isWheelRecent=!0,this.wheelWaiter.request(500)},this.handleWheelWait=()=>{this.isWheelRecent=!1},this.handleMouseDown=()=>{this.isMouseDown=!0},this.handleMouseUp=()=>{this.isMouseDown=!1},this.handleTouchStart=()=>{this.isTouchDown=!0},this.handleTouchEnd=()=>{this.isTouchDown=!1,this.isScrollRecent||this.endScroll()},this.wheelWaiter=new $n(this.handleWheelWait),this.scrollWaiter=new $n(this.handleScrollWait),e.addEventListener("scroll",this.handleScroll),e.addEventListener("wheel",this.handleWheel,{passive:!0}),e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("mouseup",this.handleMouseUp),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("wheel",this.handleWheel,{passive:!0}),e.removeEventListener("mousedown",this.handleMouseDown),e.removeEventListener("mouseup",this.handleMouseUp),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd)}startScroll(){this.isScroll||(this.isScroll=!0,this.emitter.trigger("scrollStart",this.getIsUser()))}endScroll(){this.isScroll&&(this.scrollWaiter.clear(),this.wheelWaiter.clear(),this.isScroll=!1,this.isWheelRecent=!1,this.emitter.trigger("scrollEnd",this.getIsUser()),this.isMouse=!1,this.isTouch=!1,this.isWheel=!1)}getIsUser(){return this.isWheel||this.isMouse||this.isTouch}}class Fe extends gt{constructor(){super(...arguments),this.handleEl=e=>{this.el&&(this.el=null,this.listener.destroy()),e&&(this.el=e,this.listener=new Gu(e))},this.handleHRuler=e=>{this.disconnectHRuler&&(this.disconnectHRuler(),this.disconnectHRuler=void 0,this.clientWidth!==void 0&&(this.clientWidth=void 0,H(this.props.clientWidthRef,null))),e&&(this.disconnectHRuler=vr(e,t=>{t!==this.clientWidth&&(this.clientWidth=t,H(this.props.clientWidthRef,t))}))},this.handleVRuler=e=>{this.disconnectVRuler&&(this.disconnectVRuler(),this.disconnectVRuler=void 0,this.clientHeight!==void 0&&(this.clientHeight=void 0,H(this.props.clientHeightRef,null))),e&&(this.disconnectVRuler=Zt(e,t=>{t!==this.clientHeight&&(this.clientHeight=t,H(this.props.clientHeightRef,t));const r=Math.round(this.el.getBoundingClientRect().height-t);r!==this.bottomScrollbarWidth&&(this.bottomScrollbarWidth=r,H(this.props.bottomScrollbarWidthRef,r))}))}}render(){const{props:e}=this,t=e.horizontal||e.vertical?"hidden":"";return p("div",{ref:this.handleEl,className:R(e.className,"fc-scroller fc-rel",e.hideScrollbars&&"fc-scroller-no-bars"),style:Object.assign(Object.assign({},e.style),{overflowX:e.horizontal?"auto":t,overflowY:e.vertical?"auto":t})},e.children,!!e.clientWidthRef&&p("div",{ref:this.handleHRuler,className:"fc-fill-top"}),!!(e.clientHeightRef||e.bottomScrollbarWidthRef)&&p("div",{ref:this.handleVRuler,className:"fc-fill-start"}))}endScroll(){this.listener.endScroll()}get x(){const{isRtl:e}=this.context,{el:t}=this;return t?$u(t,e):0}get y(){const{el:e}=this;return e?e.scrollTop:0}scrollTo({x:e,y:t}){const{isRtl:r}=this.context,{el:i}=this;i&&(t!=null&&(i.scrollTop=t),e!=null&&qu(i,r,e))}addScrollEndListener(e){this.listener.emitter.on("scrollEnd",e)}removeScrollEndListener(e){this.listener.emitter.off("scrollEnd",e)}}function $u(n,e){const{scrollLeft:t}=n;return e?Qu(t,n):t}function qu(n,e,t){n.scrollLeft=e?Zu(t,n):t}function Qu(n,e){switch(Pl()){case"positive":return e.scrollWidth-e.clientWidth-n;case"negative":return-n}return n}function Zu(n,e){switch(Pl()){case"positive":return e.scrollWidth-e.clientWidth-n;case"negative":return-n}return n}let Gs;function Pl(){return Gs||(Gs=Xu())}function Xu(){let n=document.createElement("div");n.style.position="absolute",n.style.top="-1000px",n.style.width="100px",n.style.height="100px",n.style.overflow="scroll",n.style.direction="rtl";let e=document.createElement("div");e.style.width="200px",e.style.height="200px",n.appendChild(e),document.body.appendChild(n);let t;return n.scrollLeft>0?t="positive":(n.scrollLeft=50,n.scrollLeft>0?t="reverse":t="negative"),n.remove(),t}class Hl{constructor(){this.sliceBusinessHours=O(this._sliceBusinessHours),this.sliceDateSelection=O(this._sliceDateSpan),this.sliceEventStore=O(this._sliceEventStore),this.sliceEventDrag=O(this._sliceInteraction),this.sliceEventResize=O(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,i,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,t,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,a,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,r,...s),eventResize:this.sliceEventResize(e.eventResize,a,t,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,i,...s){return this._sliceDateSpan({range:{start:e,end:ft(e,1)},allDay:!1},t,r,{},i,...s)}_sliceBusinessHours(e,t,r,i,...s){return e?this._sliceEventStore(It(e,Tn(t,!!r),i),{},t,r,...s).bg:[]}_sliceEventStore(e,t,r,i,...s){if(e){let a=Jr(e,t,Tn(r,!!i),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,i,...s){if(!e)return null;let a=Jr(e.mutatedEvents,t,Tn(r,!!i),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,i,s,...a){if(!e)return[];let l=Tn(t,!!r),o=Rt(e.range,l);if(o){e=Object.assign(Object.assign({},e),{range:o});let c=hu(e,i,s),d=this.sliceRange(e.range,...a);for(let u of d)u.eventRange=c;return d}return[]}sliceEventRanges(e,t){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:ue(r.start,1)});let i=this.sliceRange(r,...t);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function Tn(n,e){let t=n.activeRange;return e?t:{start:ft(t.start,n.slotMinTime.milliseconds),end:ft(t.end,n.slotMaxTime.milliseconds-864e5)}}function Ll(n,e,t){let{instances:r}=n.mutatedEvents;for(let i in r)if(!pr(e.validRange,r[i].range))return!1;return Bl({eventDrag:n},t)}function Ju(n,e,t){return pr(e.validRange,n.range)?Bl({dateSelection:n},t):!1}function Bl(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||Ku)(r,e)}function Ku(n,e,t={},r){return!(n.eventDrag&&!ef(n,e,t,r)||n.dateSelection&&!tf(n,e,t,r))}function ef(n,e,t,r){let i=e.getCurrentData(),s=n.eventDrag,a=s.mutatedEvents,l=a.defs,o=a.instances,c=tr(l,s.isEvent?n.eventUiBases:{"":i.selectionConfig});r&&(c=Je(c,r));let d=$d(n.eventStore,s.affectedEvents.instances),u=d.defs,h=d.instances,f=tr(u,n.eventUiBases);for(let m in o){let g=o[m],v=g.range,y=c[g.defId],E=l[g.defId];if(!Ul(y.constraints,v,d,n.businessHours,e))return!1;let{eventOverlap:D}=e.options,_=typeof D=="function"?D:null;for(let P in h){let x=h[P];if(xi(v,x.range)&&(f[x.defId].overlap===!1&&s.isEvent||y.overlap===!1||_&&!_(new ie(e,u[x.defId],x),new ie(e,E,g))))return!1}let I=i.eventStore;for(let P of y.allows){let x=Object.assign(Object.assign({},t),{range:g.range,allDay:E.allDay}),U=I.defs[E.defId],T=I.instances[m],L;if(U?L=new ie(e,U,T):L=new ie(e,E),!P(Oi(x,e),L))return!1}}return!0}function tf(n,e,t,r){let i=n.eventStore,s=i.defs,a=i.instances,l=n.dateSelection,o=l.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!Ul(c.constraints,o,i,n.businessHours,e))return!1;let{selectOverlap:d}=e.options,u=typeof d=="function"?d:null;for(let h in a){let f=a[h];if(xi(o,f.range)&&(c.overlap===!1||u&&!u(new ie(e,s[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},t),l);if(!h(Oi(f,e),null))return!1}return!0}function Ul(n,e,t,r,i){for(let s of n)if(!rf(nf(s,e,t,r,i),e))return!1;return!0}function nf(n,e,t,r,i){return n==="businessHours"?Or(It(r,e,i)):typeof n=="string"?Or(gr(t,s=>s.groupId===n)):typeof n=="object"&&n?Or(It(n,e,i)):[]}function Or(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function rf(n,e){for(let t of n)if(pr(t,e))return!0;return!1}class yr extends W{constructor(){super(...arguments),this.elRef=ae()}render(){return p("div",{ref:this.elRef})}componentDidMount(){const{props:e}=this,t=this.elRef.current;this.disconnectWidth=vr(t,r=>{H(e.widthRef,r)})}componentWillUnmount(){this.disconnectWidth();const{props:e}=this;e.widthRef&&H(e.widthRef,null)}}class ge{constructor(e){this.masterCallback=e,this.rev="",this.current=new Map,this.callbacks=new Map,this.handleValue=(t,r)=>{let{current:i,callbacks:s}=this;t===null?(i.delete(r),s.delete(r)):i.set(r,t),this.rev=ht(),this.masterCallback&&this.masterCallback(t,r)}}createRef(e){let t=this.callbacks.get(e);return t||(t=r=>{this.handleValue(r,e)},this.callbacks.set(e,t)),t}}class br extends Ae{constructor(e,t){super(e,t),this.initialNowDate=gn(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,r=ft(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=t.dateEnv.startOf(r,e.unit),s=t.dateEnv.add(i,Q(1,e.unit)),a=s.valueOf()-r.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:i,todayRange:$s(i)},nextState:{nowDate:s,todayRange:$s(s)},waitMs:a}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}br.contextType=pt;function $s(n){let e=te(n),t=ue(e,1);return{start:e,end:t}}class wr extends W{constructor(){super(...arguments),this.buildPublicEvent=O((e,t,r)=>new ie(e,t,r)),this.handleEl=e=>{this.el=e,e&&Us(e,this.props.eventRange)}}render(){const{props:e,context:t}=this,{options:r}=t,{eventRange:i}=e,{ui:s}=i,a={event:this.buildPublicEvent(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&su(i,t),isStartResizable:!e.disableResizing&&e.isStart&&i.ui.durationEditable&&r.eventResizableFromStart,isEndResizable:!e.disableResizing&&e.isEnd&&i.ui.durationEditable,isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!e.isStart,isEnd:!!e.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return p(Ce,{attrs:e.attrs,className:R(e.className,...au(a),...i.ui.classNames),style:e.style,elRef:this.handleEl,renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,tag:e.tag,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.eventRange!==e.eventRange&&Us(this.el,this.props.eventRange)}}class Yl extends W{render(){const{props:e,context:t}=this,{eventRange:r}=e,{options:i}=t,s=i.eventTimeFormat||e.defaultTimeFormat,a=Pi(s,r,e.slicedStart,e.slicedEnd,e.isStart,e.isEnd,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd),[l,o]=Hi(r,t);return p(wr,Object.assign({},e,{tag:l,style:{borderColor:r.ui.borderColor,backgroundColor:r.ui.backgroundColor},attrs:o,defaultGenerator:sf,timeText:a}),(c,d)=>p(G,null,p(c,{tag:"div",className:"fc-event-inner",style:{color:d.textColor}}),!!d.isStartResizable&&p("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&p("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function sf(n){return p(G,null,n.timeText&&p("div",{className:"fc-event-time"},n.timeText),p("div",{className:"fc-event-title-outer"},p("div",{className:"fc-event-title"},n.event.title||p(G,null," "))))}const zl=n=>p(pt.Consumer,null,e=>{let{options:t}=e,r={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return p(Ce,Object.assign({},n,{tag:n.tag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),af=ne({day:"numeric"});class Wi extends W{constructor(){super(...arguments),this.refineRenderProps=Yn(lf)}render(){let{props:e,context:t}=this,{options:r}=t,i=this.refineRenderProps({date:e.date,dateMeta:e.dateMeta,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,renderProps:e.renderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return p(Ce,Object.assign({},e,{className:R(e.className,nr(i)),attrs:Object.assign(Object.assign(Object.assign({},e.attrs),{"data-date":hr(e.date)}),i.isToday?{"aria-current":"date"}:{}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function ji(n){return!!(n.dayCellContent||Qr("dayCellContent",n))}function lf(n){let{date:e,dateEnv:t,isMonthStart:r}=n,i=n.showDayNumber?t.format(e,r?n.monthStartFormat:af):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},n.dateMeta),{isMonthStart:r,dayNumberText:i}),n.renderProps)}class Wl extends W{render(){let{props:e}=this,{eventRange:t}=e;return p(wr,{tag:"div",className:"fc-bg-event",style:{backgroundColor:t.ui.backgroundColor},defaultGenerator:of,eventRange:t,isStart:e.isStart,isEnd:e.isEnd,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function of(n){let{title:e}=n.event;return e&&p("div",{className:"fc-event-title"},n.event.title)}function jl(n){return p("div",{className:`fc-${n}`})}const Fl=n=>p(pt.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:i}=n,s=r.weekNumberFormat||n.defaultFormat,a=t.computeWeekNumber(i),l=t.format(i,s);return p(Ce,Object.assign({},n,{renderProps:{num:a,text:l,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:il,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))}),kr=10,cf=1;class df extends W{constructor(){super(...arguments),this.closeRef=ae(),this.focusStartRef=ae(),this.focusEndRef=ae(),this.titleId=Bi(),this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&H(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=xl(e);this.rootEl.contains(t)||this.handleClose()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleClose()},this.handleClose=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r}=this;return Ko(p("div",Object.assign({},r.attrs,{id:r.id,role:"dialog","aria-labelledby":this.titleId,className:R(r.className,"fc-popover",e.getClassName("popover")),ref:this.handleRootEl}),p("div",{tabIndex:0,style:{outline:"none"},ref:this.focusStartRef}),p("div",{className:"fc-popover-header "+e.getClassName("popoverHeader")},p("div",{className:"fc-popover-title",id:this.titleId},r.title),p("div",Object.assign({role:"button","aria-label":t.closeHint,className:"fc-popover-close "+e.getIconClass("close")},yi(this.handleClose),{ref:this.closeRef}))),p("div",{className:"fc-popover-body "+e.getClassName("popoverContent")},r.children),p("div",{tabIndex:0,style:{outline:"none"},ref:this.focusEndRef})),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.focusStartRef.current.addEventListener("focus",this.handleClose),this.focusEndRef.current.addEventListener("focus",this.handleClose),this.closeRef.current.focus({preventScroll:!0}),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.focusStartRef.current.removeEventListener("focus",this.handleClose),this.focusEndRef.current.removeEventListener("focus",this.handleClose)}updateSize(){let{isRtl:e}=this.context,{alignEl:t,alignParentTop:r}=this.props,{rootEl:i}=this,s=Pu(t);if(s){let a=i.getBoundingClientRect(),l=r?t.closest(r).getBoundingClientRect().top-cf:s.top,o=e?s.right-a.width:s.left;l=Math.max(l,kr),o=Math.min(o,document.documentElement.clientWidth-kr-a.width),o=Math.max(o,kr);let c=i.offsetParent.getBoundingClientRect();Wn(i,{top:l-c.top,left:o-c.left})}}}class uf extends gt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:a}=r,l=bn(i,s,null,a),o=t.format(i,e.dayPopoverFormat);return p(Wi,{elRef:this.handleRootEl,date:i,dateMeta:l},(c,d,u)=>p(df,{elRef:u.ref,id:r.id,title:o,attrs:u,className:R(u.className,"fc-more-popover"),parentEl:r.parentEl,alignEl:r.alignEl,alignParentTop:r.alignParentTop,onClose:r.onClose},ji(e)&&p(c,{tag:"div",className:"fc-more-popover-misc"}),r.children))}queryHit(e,t,r,i){let{rootEl:s,props:a}=this;return e>=0&&e<r&&t>=0&&t<i?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.dateSpanProps),getDayEl:()=>s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class Vl extends W{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Bi()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&H(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{dateEnv:i,options:s}=r,{moreLinkClick:a}=s,l=qs(t).start;function o(c){let{def:d,instance:u,range:h}=c.eventRange;return{event:new ie(r,d,u),start:i.toDate(h.start),end:i.toDate(h.end),isStart:c.isStart,isEnd:c.isEnd}}typeof a=="function"&&(a=a({date:i.toDate(l),allDay:!!t.allDayDate,allSegs:t.segs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(l,a)},this.handlePopoverClose=()=>{this.linkEl&&this.linkEl.focus(),this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return p(pt.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:a}=r,{moreLinkText:l}=s,o=e.hiddenSegs.length,c=qs(e),d=typeof l=="function"?l.call(a,o):`+${o} ${l}`,u=tn(s.moreLinkHint,[o],d),h={num:o,shortText:`+${o}`,text:d,view:i};return p(G,null,!!o&&p(Ce,{tag:"div",elRef:this.handleLinkEl,className:R(e.className,"fc-more-link"),style:e.style,attrs:Object.assign(Object.assign(Object.assign({},e.attrs),yi(this.handleClick)),{title:u,role:"button","aria-haspopup":"dialog","aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:void 0}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||ff,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&p(uf,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,dateSpanProps:e.dateSpanProps,parentEl:this.parentEl,alignEl:e.alignElRef?e.alignElRef.current:this.linkEl,alignParentTop:e.alignParentTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=this.linkEl.closest(".fc-view-outer"))}}function ff(n){return n.text}function qs(n){return n.allDayDate?{start:n.allDayDate,end:ue(n.allDayDate,1)}:{start:Ol(n.hiddenSegs),end:zu(n.hiddenSegs)}}class hf{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class pf extends hf{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}class Gl extends W{constructor(){super(...arguments),this.rootElRef=ae()}render(){const{props:e}=this;return p("div",{ref:this.rootElRef,className:R("fc-footer-scrollbar",e.isSticky&&"fc-footer-scrollbar-sticky")},p(Fe,{horizontal:!0,ref:e.scrollerRef},p("div",{style:{minWidth:e.canvasWidth}})))}componentDidMount(){this.disconnectHeight=Zt(this.rootElRef.current,e=>{H(this.props.scrollbarWidthRef,e)})}componentWillUnmount(){this.disconnectHeight(),H(this.props.scrollbarWidthRef,null)}}const gf=[],$l={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",eventsHint:"Events",allDayText:"all-day",timedText:"timed",moreLinkText:"more",noEventsText:"No events to display"},ql=Object.assign(Object.assign({},$l),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",viewChangeHint:"Change view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function mf(n){let e=n.length>0?n[0].code:"en",t=gf.concat(n),r={en:ql};for(let i of t)r[i.code]=i;return{map:r,defaultCode:e}}function Ql(n,e){return typeof n=="object"&&!Array.isArray(n)?Zl(n.code,[n.code],n):vf(n,e)}function vf(n,e){let t=[].concat(n||[]),r=yf(t,e)||ql;return Zl(n,t,r)}function yf(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function Zl(n,e,t){let r=Di([$l,t],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:n,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function Le(n){return{id:ht(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollerSyncerClass:n.scrollerSyncerClass||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function bf(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollerSyncerClass:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let a of s){const l=a.name,o=t[l];o===void 0?(t[l]=a.id,i(a.deps),r=Ef(r,a)):o!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return n&&i(n),i(e),r}function wf(){let n=[],e=[],t;return(r,i)=>((!t||!xt(r,n)||!xt(i,e))&&(t=bf(r,i)),n=r,e=i,t)}function Ef(n,e){return{premiumReleaseDate:Sf(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollerSyncerClass:n.scrollerSyncerClass||e.scrollerSyncerClass,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function Sf(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class mt extends pn{}mt.prototype.classes={root:"fc-theme-standard",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};mt.prototype.baseIconClass="fc-icon";mt.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};mt.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};mt.prototype.iconOverrideOption="buttonIcons";mt.prototype.iconOverrideCustomButtonOption="icon";mt.prototype.iconOverridePrefix="fc-icon-";function _f(n,e){let t={},r;for(r in n)ai(r,t,n,e);for(r in e)ai(r,t,n,e);return t}function ai(n,e,t,r){if(e[n])return e[n];let i=Df(n,e,t,r);return i&&(e[n]=i),i}function Df(n,e,t,r){let i=t[n],s=r[n],a=d=>i&&i[d]!==null?i[d]:s&&s[d]!==null?s[d]:null,l=a("component"),o=a("superType"),c=null;if(o){if(o===n)throw new Error("Can't have a custom view type that references itself");c=ai(o,e,t,r)}return!l&&c&&(l=c.component),l?{type:n,component:l,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function Qs(n){return Je(n,Af)}function Af(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=Zs(e):t&&!(t.prototype instanceof W)&&(t=Zs(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Zs(n){return e=>p(pt.Consumer,null,t=>p(Ce,{tag:"div",className:sl(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function Cf(n,e,t,r){let i=Qs(n),s=Qs(e.views),a=_f(i,s);return Je(a,l=>xf(l,s,e,t,r))}function xf(n,e,t,r,i){let s=n.overrides.duration||n.defaults.duration||r.duration||t.duration,a=null,l="",o="",c={};if(s&&(a=Tf(s),a)){let h=$r(a);l=h.unit,h.value===1&&(o=l,c=e[l]?e[l].rawOptions:{})}let d=h=>{let f=h.buttonText||{},m=n.defaults.buttonTextKey;return m!=null&&f[m]!=null?f[m]:f[n.type]!=null?f[n.type]:f[o]!=null?f[o]:null},u=h=>{let f=h.buttonHints||{},m=n.defaults.buttonTextKey;return m!=null&&f[m]!=null?f[m]:f[n.type]!=null?f[n.type]:f[o]!=null?f[o]:null};return{type:n.type,component:n.component,duration:a,durationUnit:l,singleUnit:o,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:d(r)||d(t)||n.overrides.buttonText,buttonTextDefault:d(i)||n.defaults.buttonText||d(nn)||n.type,buttonTitleOverride:u(r)||u(t)||n.overrides.buttonHint,buttonTitleDefault:u(i)||n.defaults.buttonHint||u(nn)}}let Xs={};function Tf(n){let e=JSON.stringify(n),t=Xs[e];return t===void 0&&(t=Q(n),Xs[e]=t),t}function Rf(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function If(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function Mf(n,e,t,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(n,t),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(n,t),i.isValid)return i;break}return n}function Of(n,e,t){let r=e?e.activeRange:null;return Jl({},Uf(n,t),r,t)}function kf(n,e,t,r){let i=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Jl(n,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Pf(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Kl(n,i,r):n;case"FETCH_EVENT_SOURCES":return Fi(n,e.sourceIds?Ja(e.sourceIds):eo(n,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Bf(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function Nf(n,e,t){let r=e?e.activeRange:null;return Fi(n,eo(n,t),r,!0,t)}function Xl(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function Jl(n,e,t,r){let i={};for(let s of e)i[s.sourceId]=s;return t&&(i=Kl(i,t,r)),Object.assign(Object.assign({},n),i)}function Pf(n,e){return Tt(n,t=>t.sourceId!==e)}function Kl(n,e,t){return Fi(n,Tt(n,r=>Hf(r,e,t)),e,!1,t)}function Hf(n,e,t){return to(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function Fi(n,e,t,r,i){let s={};for(let a in n){let l=n[a];e[a]?s[a]=Lf(l,t,r,i):s[a]=l}return s}function Lf(n,e,t,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[n.sourceDefId],l=ht();return a.fetch({eventSource:n,range:e,isRefetch:t,context:r},o=>{let{rawEvents:c}=o;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,o.response)||c),n.success&&(c=n.success.call(s,c,o.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:l,fetchRange:e,rawEvents:c})},o=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,o),c=!0),n.failure&&(n.failure(o),c=!0),c||console.warn(o.message,o),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:l,fetchRange:e,error:o})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:l})}function Bf(n,e,t,r){let i=n[e];return i&&t===i.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):n}function eo(n,e){return Tt(n,t=>to(t,e))}function Uf(n,e){let t=pl(e),r=[].concat(n.eventSources||[]),i=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let s of r){let a=hl(s,e,t);a&&i.push(a)}return i}function to(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Yf(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function zf(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function Wf(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function jf(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Ff(n,e,t,r,i){let s=n.headerToolbar?Js(n.headerToolbar,n,e,t,r,i):null,a=n.footerToolbar?Js(n.footerToolbar,n,e,t,r,i):null;return{header:s,footer:a}}function Js(n,e,t,r,i,s){let a=e.direction==="rtl",l=[],o=!1;function c(u){let h=Vf(u,e,t,r,i,s);return l.push(...h.viewsWithButtons),o=o||h.hasTitle,h.widgets}return{sectionWidgets:{start:c(n[a?"right":"left"]||n.start||""),center:c(n.center||""),end:c(n[a?"left":"right"]||n.end||"")},viewsWithButtons:l,hasTitle:o}}function Vf(n,e,t,r,i,s){let a=e.direction==="rtl",l=e.customButtons||{},o=t.buttonText||{},c=e.buttonText||{},d=t.buttonHints||{},u=e.buttonHints||{},h=n?n.split(" "):[],f=[],m=!1;return{widgets:h.map(v=>v.split(",").map(y=>{if(y==="title")return m=!0,{buttonName:y};let E,D,_,I,P,x,U=!1;if(E=l[y])_=T=>{E.click&&E.click.call(T.target,T,T.target)},(I=r.getCustomButtonIconClass(E))||(I=r.getIconClass(y,a))||(P=E.text),x=E.hint||E.text;else if(D=i[y]){U=!0,f.push(y),_=()=>{s.changeView(y)},(P=D.buttonTextOverride)||(I=r.getIconClass(y,a))||(P=D.buttonTextDefault);let T=D.buttonTextOverride||D.buttonTextDefault;x=tn(D.buttonTitleOverride||D.buttonTitleDefault||e.viewHint,[T,y],T)}else if(s[y])if(_=()=>{s[y]()},(P=o[y])||(I=r.getIconClass(y,a))||(P=c[y]),y==="prevYear"||y==="nextYear"){let T=y==="prevYear"?"prev":"next";x=tn(d[T]||u[T],[c.year||"year","year"],c[y])}else x=T=>tn(d[y]||u[y],[c[T]||T,T],c[y]);return{buttonName:y,buttonClick:_,buttonIcon:I,buttonText:P,buttonHint:x,isView:U}})),viewsWithButtons:f,hasTitle:m}}class Gf{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let $f={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const qf=Le({name:"array-event-source",eventSourceDefs:[$f]});let Qf={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,i=n.eventSource.meta;pu(i.bind(null,El(n.range,r)),s=>e({rawEvents:s}),t)}};const Zf=Le({name:"func-event-source",eventSourceDefs:[Qf]}),Xf={method:String,extraParams:b,startParam:String,endParam:String,timeZoneParam:String};let Jf={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,i=eh(r,n.range,n.context);gu(r.method,r.url,i).then(([s,a])=>{e({rawEvents:s,response:a})},t)}};const Kf=Le({name:"json-event-source",eventSourceRefiners:Xf,eventSourceDefs:[Jf]});function eh(n,e,t){let{dateEnv:r,options:i}=t,s,a,l,o,c={};return s=n.startParam,s==null&&(s=i.startParam),a=n.endParam,a==null&&(a=i.endParam),l=n.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof n.extraParams=="function"?o=n.extraParams():o=n.extraParams||{},Object.assign(c,o),c[s]=r.formatIso(e.start),c[a]=r.formatIso(e.end),r.timeZone!=="local"&&(c[l]=r.timeZone),c}const th={daysOfWeek:b,startTime:Q,endTime:Q,duration:Q,startRecur:b,endRecur:b};let nh={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=Ic(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=Rt(e,{start:n.startRecur,end:n.endRecur});return r?ih(n.daysOfWeek,n.startTime,r,t):[]}};const rh=Le({name:"simple-recurring-event",recurringTypes:[nh],eventRefiners:th});function ih(n,e,t,r){let i=n?Ja(n):null,s=te(t.start),a=t.end,l=[];for(;s<a;){let o;(!i||i[s.getUTCDay()])&&(e?o=r.add(s,e):o=s,l.push(o)),s=ue(s,1)}return l}const sh=Le({name:"change-handler",optionChangeHandlers:{events(n,e){Ks([n],e)},eventSources:Ks}});function Ks(n,e){let t=Ka(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let i of n){let s=!1;for(let a=0;a<t.length;a+=1)if(t[a]._raw===i){t.splice(a,1),s=!0;break}s||r.push(i)}for(let i of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function ah(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},El(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function lh(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Et(n,e))}const oh=[qf,Zf,Kf,rh,sh,Le({name:"misc",isLoadingFuncs:[n=>Xl(n.eventSources)],propSetHandlers:{dateProfile:ah,eventStore:lh}})];class ch{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new $n(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function dh(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,ne(e.titleFormat||uh(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function uh(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=qn(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class fh{constructor(e){this.computeCurrentViewData=O(this._computeCurrentViewData),this.organizeRawLocales=O(mf),this.buildLocale=O(Ql),this.buildPluginHooks=wf(),this.buildDateEnv=O(hh),this.buildTheme=O(ph),this.parseToolbars=O(Ff),this.buildViewSpecs=O(Cf),this.buildDateProfileGenerator=Yn(gh),this.buildViewApi=O(mh),this.buildViewUiProps=Yn(bh),this.buildEventUiBySource=O(vh,$t),this.buildEventUiBases=O(yh),this.parseContextBusinessHours=Yn(wh),this.buildTitle=O(dh),this.emitter=new mn,this.actionRunner=new ch(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a=Id(r.calendarOptions,r.dateEnv),l=s.dateProfileGenerator.build(a);Ve(l.activeRange,a)||(a=l.currentRange.start);let o={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(o);let c=Of(r.calendarOptions,l,o),d={dynamicOptionOverrides:t,currentViewType:i,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:ke(),renderableEventStore:ke(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},u=Object.assign(Object.assign({},o),d);for(let h of r.pluginHooks.reducers)Object.assign(d,h(null,null,u));Nr(d,o)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:i}=this,s=If(r.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),l=Rf(r.currentViewType,e),o=this.computeCurrentViewData(l,a,t.optionOverrides,s);t.calendarApi.currentDataManager=this,i.setThisContext(t.calendarApi),i.setOptions(o.options);let c={dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:u}=r;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(u=o.dateProfileGenerator.build(d)),d=Rd(d,e),u=Mf(u,e,d,o.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ve(u.currentRange,d))&&(d=u.currentRange.start);let h=kf(r.eventSources,e,u,c),f=jd(r.eventStore,e,h,u,c),g=Xl(h)&&!o.options.progressiveEventRendering&&r.renderableEventStore||f,{eventUiSingleBase:v,selectionConfig:y}=this.buildViewUiProps(c),E=this.buildEventUiBySource(h),D=this.buildEventUiBases(g.defs,v,E),_={dynamicOptionOverrides:s,currentViewType:l,currentDate:d,dateProfile:u,eventSources:h,eventStore:f,renderableEventStore:g,selectionConfig:y,eventUiBases:D,businessHours:this.parseContextBusinessHours(c),dateSelection:Yf(r.dateSelection,e),eventSelection:zf(r.eventSelection,e),eventDrag:Wf(r.eventDrag,e),eventResize:jf(r.eventResize,e)},I=Object.assign(Object.assign({},c),_);for(let U of a.pluginHooks.reducers)Object.assign(_,U(r,e,I));let P=Nr(r,c),x=Nr(_,c);!P&&x?i.trigger("loading",!0):P&&!x&&i.trigger("loading",!1),this.state=_,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,i,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),t),l=i.pluginHooks.optionChangeHandlers,o=r&&r.calendarOptions,c=i.calendarOptions;if(o&&o!==c){o.timeZone!==c.timeZone&&(t.eventSources=a.eventSources=Nf(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=Ls(a.eventStore,r.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=Ls(a.renderableEventStore,r.dateEnv,a.dateEnv));for(let d in l)(this.optionsForHandling.indexOf(d)!==-1||o[d]!==c[d])&&l[d](c[d],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:o}=this.processRawCalendarOptions(e,t);ea(o);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),d=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),u=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,u,d,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:d,theme:u,toolbarConfig:h,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,t){let{locales:r,locale:i}=Rr([nn,e,t]),s=this.organizeRawLocales(r),a=s.map,l=this.buildLocale(i||s.defaultCode,a).options,o=this.buildPluginHooks(e.plugins||[],oh),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Is),Ms),Os),o.listenerRefiners),o.optionRefiners),d={},u=Rr([nn,l,e,t]),h={},f=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in u)this.optionsForRefining.indexOf(v)===-1&&(u[v]===f[v]||vt[v]&&v in f&&vt[v](f[v],u[v]))?h[v]=m[v]:c[v]?(h[v]=c[v](u[v]),g=!0):d[v]=f[v];return g&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:s,localeDefaults:l,extra:d}}_computeCurrentViewData(e,t,r,i){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,r,i);ea(l);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:o,viewApi:c}}processRawViewOptions(e,t,r,i,s){let a=Rr([nn,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Is),Ms),Os),od),t.listenerRefiners),t.optionRefiners),o={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,u=!1,h={};for(let f in a)a[f]===c[f]||vt[f]&&vt[f](a[f],c[f])?o[f]=d[f]:(a[f]===this.currentCalendarOptionsInput[f]||vt[f]&&vt[f](a[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(o[f]=this.currentCalendarOptionsRefined[f]):l[f]?o[f]=l[f](a[f]):h[f]=a[f],u=!0);return u&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function hh(n,e,t,r,i,s,a,l){let o=Ql(e||a.defaultCode,a.map);return new vd({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:o,weekNumberCalculation:t,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function ph(n,e){let t=e.themeClasses[n.themeSystem]||mt;return new t(n)}function gh(n){let e=n.dateProfileGeneratorClass||ol;return new e(n)}function mh(n,e,t){return new Gf(n,e,t)}function vh(n){return Je(n,e=>e.ui)}function yh(n,e,t){let r={"":e};for(let i in n){let s=n[i];s.sourceId&&t[s.sourceId]&&(r[i]=t[s.sourceId])}return r}function bh(n){let{options:e}=n;return{eventUiSingleBase:er({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:er({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Nr(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function wh(n){return Jd(n.options.businessHours,n)}function ea(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class Eh extends W{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return p("div",{className:"fc-toolbar-section fc-toolbar-"+this.props.name},...e)}renderWidgetGroup(e){let{props:t,context:r}=this,{options:i,theme:s}=r,a=[],l=!0,o=!0;for(const c of e){const{buttonName:d,isView:u}=c;d==="title"?l=!1:u||(o=!1)}for(let c of e){let{buttonName:d,buttonClick:u,buttonText:h,buttonIcon:f,buttonHint:m}=c;if(d==="title")a.push(p("div",{role:"heading","aria-level":i.headingLevel,id:t.titleId,className:"fc-toolbar-title"},t.title));else{let g=d===t.activeButton,v=!t.isTodayEnabled&&d==="today"||!t.isPrevEnabled&&d==="prev"||!t.isNextEnabled&&d==="next";a.push(p("button",Object.assign({type:"button",disabled:v},l&&o?{role:"tab","aria-selected":g}:{"aria-pressed":g},{"aria-label":typeof m=="function"?m(t.navUnit):m,className:R(`fc-${d}-button`,s.getClassName("button"),g&&s.getClassName("buttonActive")),onClick:u}),h||(f?p("span",{className:f,"aria-hidden":!0}):"")))}}return a.length>1?p("div",{role:l&&o?"tablist":void 0,"aria-label":l&&o?i.viewChangeHint:void 0,className:l?s.getClassName("buttonGroup"):void 0},...a):a[0]}}class ta extends W{render(){let{model:e,className:t}=this.props,{sectionWidgets:r}=e;return p("div",{className:R(t,"fc-toolbar")},this.renderSection("start",r.start),this.renderSection("center",r.center),this.renderSection("end",r.end))}renderSection(e,t){let{props:r}=this;return p(Eh,{key:e,name:e,widgetGroups:t,title:r.title,titleId:r.titleId,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled})}}class Sh extends Xt{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:i}=this,{context:s}=i,a=qt(r);a&&i.isValidSegDownEl(t.target)&&s.emitter.trigger("eventClick",{el:r,event:new ie(i.context,a.def,a.instance),jsEvent:t,view:s.viewApi})},this.destroy=qa(e.el,"click",".fc-event",this.handleSegClick)}}class _h extends Xt{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{qt(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=mc(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:i}=this,{context:s}=i,a=qt(r);(!t||i.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:r,event:new ie(s,a.def,a.instance),jsEvent:t,view:s.viewApi})}}class Dh extends Ae{render(){const{props:e}=this;return p("div",{className:R("fc-view-outer",e.height!=null?"fc-view-outer-static":e.heightLiquid?"fc-view-outer-liquid":e.aspectRatio!=null&&"fc-view-outer-aspect-ratio"),style:{height:e.height,paddingBottom:e.aspectRatio!=null?`${1/e.aspectRatio*100}%`:void 0}},e.children)}}class Ah extends Nt{constructor(){super(...arguments),this.buildViewContext=O(wd),this.buildViewPropTransformers=O(xh),this.buildToolbarProps=O(Ch),this.interactionsStore={},this.viewTitleId=Bi(),this.registerInteractiveComponent=(e,t)=>{let r=Su(e,t),s=[Sh,_h];t.disableHits||(s=s.concat(this.props.pluginHooks.componentInteractions));let a=s.map(l=>new l(r));this.interactionsStore[e.uid]=a,ni[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete ni[e.uid]}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,gn(e.options.now,e.dateEnv),e.viewTitle),s,a=!1,l;e.forPrint||Ke(r)||(r.height!=null?a=!0:r.contentHeight!=null?s=r.contentHeight:l=Math.max(r.aspectRatio,.5));let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return p(pt.Provider,{value:o},t.header&&p(ta,Object.assign({className:"fc-header-toolbar",model:t.header,titleId:this.viewTitleId},i)),p(Dh,{height:s,heightLiquid:a,aspectRatio:l},this.renderView(e,i.title),this.buildAppendContent()),t.footer&&p(ta,Object.assign({className:"fc-footer-toolbar",model:t.footer},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e));let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let i in r)t[i]!==e[i]&&r[i](t[i],t)}componentWillUnmount(){for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return p(G,{},...t)}renderView(e,t){let{pluginHooks:r}=e,{viewSpec:i,toolbarConfig:s}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,forPrint:e.forPrint,labelId:s.header&&s.header.hasTitle?this.viewTitleId:void 0,labelStr:s.header&&s.header.hasTitle?void 0:t},l=this.buildViewPropTransformers(r.viewPropsTransformers);for(let c of l)Object.assign(a,c.transform(a,e));let o=i.component;return p(o,Object.assign({},a))}}function Ch(n,e,t,r,i,s){let a=t.build(i,void 0,!1),l=t.buildPrev(e,r,!1),o=t.buildNext(e,r,!1);return{title:s,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:a.isValid&&!Ve(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:o.isValid}}function xh(n){return n.map(e=>new e)}class Th extends Du{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;yd(()=>{an(p(Eu,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,a)=>(this.setClassNames(i),this.setHeight(s),p(rl.Provider,{value:this.customContentRenderId},p(Ah,Object.assign({forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,an(null,this.el),this.setClassNames([]),this.setHeight(""))},dc(e),this.el=e,this.renderRunner=new $n(this.handleRenderRequest),new fh({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!xt(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){Cl(this.el,"height",e)}}const Rh={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Ih=Aa({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(n){return{...n,customRenderingMetaMap:kh(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const n=[];for(const e of this.customRenderingMap.values())n.push(Hn(Mh,{key:e.id,customRendering:e}));return Hn("div",{attrs:{"data-fc-render-id":this.renderId}},Hn(Fn,n))},mounted(){const n=new pf;this.handleCustomRendering=n.handle.bind(n);const e=this.buildOptions(this.options),t=new Th(this.$el,e);this.calendar=t,t.render(),n.subscribe(r=>{this.customRenderingMap=r,this.renderId++})},beforeUpdate(){this.getApi().resumeRendering()},beforeUnmount(){this.getApi().destroy()},watch:Oh()}),Mh=Aa({props:{customRendering:Object},render(){const n=this.customRendering,e=typeof n.generatorMeta=="function"?n.generatorMeta(n.renderProps):n.generatorMeta;return Hn(Ca,{to:n.containerEl},e)}});function Oh(){let n={options:{deep:!0,handler(e){let t=this.getApi();t.pauseRendering();let r=this.buildOptions(e);t.resetOptions(r),this.renderId++}}};for(let e in Rh)n[`options.${e}`]={deep:!0,handler(t){if(t!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[e]:t},[e]),this.renderId++}}};return n}function kh(n){const e={};for(const t in n)e[Nh(t)]=n[t];return e}function Nh(n){return n.split("-").map((e,t)=>t?Ph(e):e).join("")}function Ph(n){return n.charAt(0).toUpperCase()+n.slice(1)}class no extends Hl{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}const Hh=ne({weekday:"long"}),Lh=new Date(2592e5);function ro(...n){return[Bh(...n)]}function Bh(n,e,t,r,i,s,a){return{isDateRow:!0,renderConfig:Uh(s),dataConfigs:Yh(n,e,t,r,i,s,a)}}function Uh(n){const{options:e}=n;return{generatorName:"dayHeaderContent",customGenerator:e.dayHeaderContent,classNameGenerator:e.dayHeaderClassNames,didMount:e.dayHeaderDidMount,willUnmount:e.dayHeaderWillUnmount}}const io=[];for(let n=0;n<7;n++)io.push(ue(new Date(2592e5),n));function Yh(n,e,t,r,i,s,a=1,l="",o={},c={},d=""){const{dateEnv:u,viewApi:h,options:f}=s;return e?n.map(m=>{const g=bn(m,r,null,t),v=u.format(m,i),y=Object.assign(Object.assign(Object.assign({},g),{date:u.toDate(m),view:h,text:v}),o),E=f.navLinks&&!g.isDisabled&&n.length>1,D=Jt(s,m);return{key:l+m.toUTCString(),renderProps:y,attrs:Object.assign(Object.assign(Object.assign({"aria-label":D},g.isToday?{"aria-current":"date"}:{}),{"data-date":hr(m)}),c),innerAttrs:E?Qt(s,m,void 0,D):{"aria-hidden":!0},colSpan:a,isNavLink:E,className:R(d,nr(g))}}):n.map(m=>{const g=m.getUTCDay(),v=ue(Lh,g),y={dow:g,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},E=u.format(v,i),D=Object.assign(Object.assign(Object.assign({},y),{date:io[g],view:h,text:E}),o),_=u.format(v,Hh);return{key:l+String(g),renderProps:D,attrs:Object.assign({"aria-label":_},c),innerAttrs:{"aria-hidden":!0},colSpan:a,className:R(d,nr(y))}})}function wt(n){return mr(n)+":"+n.start+(n.standinFor?":standin":n.isSlice?":slice":"")}function Rn(n,e){const t=[];for(let r=0;r<e;r++)t[r]=[];for(const r of n)t[r.row].push(r);return t}function na(n,e){const t=[];if(n){for(let r=0;r<e;r++)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(const r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r++)t[r]=null;return t}function ra(n,e){return Object.assign(Object.assign({},n),{start:e,end:e+1,isStart:n.isStart&&n.start===e,isEnd:n.isEnd&&n.end-1===e,standinFor:n})}const so=ne({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ao(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.end-n.start===1&&n.isStart&&n.isEnd}class lo extends W{render(){let{props:e}=this;return p(Yl,Object.assign({},e,{className:"fc-daygrid-block-event fc-daygrid-event fc-h-event",defaultTimeFormat:so,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.eventRange.def.allDay}))}}class oo extends W{render(){let{props:e,context:t}=this,{options:r}=t,{eventRange:i}=e,s=r.eventTimeFormat||so,a=Pi(s,i,void 0,void 0,e.isStart,e.isEnd,t,!0,e.defaultDisplayEventEnd),[l,o]=Hi(i,t);return p(wr,Object.assign({},e,{tag:l,attrs:o,className:"fc-daygrid-dot-event fc-daygrid-event",defaultGenerator:zh,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function zh(n){return p(G,null,p("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&p("div",{className:"fc-event-time"},n.timeText),p("div",{className:"fc-event-title"},n.event.title||p(G,null," ")))}class Wh extends W{render(){let{props:e}=this;return p(Vl,{className:R("fc-daygrid-more-link",e.isBlock?"fc-daygrid-more-link-block":"fc-daygrid-more-link-button"),dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:e.alignElRef,alignParentTop:e.alignParentTop,dateSpanProps:e.dateSpanProps,popoverContent:()=>{let t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return p(G,null,e.segs.map(r=>{let{eventRange:i}=r,{instanceId:s}=i.instance;return p("div",{key:s,style:{visibility:t[s]?"hidden":""}},ao(r)?p(oo,Object.assign({eventRange:i,isStart:r.isStart,isEnd:r.isEnd,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Ze(i,e.todayRange))):p(lo,Object.assign({eventRange:i,isStart:r.isStart,isEnd:r.isEnd,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Ze(i,e.todayRange))))}))}})}}class jh extends gt{constructor(){super(...arguments),this.getDateMeta=O(bn),this.rootElRef=ae(),this.handleBodyEl=e=>{this.disconnectBodyHeight&&(this.disconnectBodyHeight(),this.disconnectBodyHeight=void 0,H(this.props.headerHeightRef,null),H(this.props.mainHeightRef,null)),e&&(this.disconnectBodyHeight=vn(e,(t,r)=>{const{props:i}=this,s=e.getBoundingClientRect(),a=this.rootElRef.current.getBoundingClientRect(),l=s.top-a.top;Kr(this.headerHeight,l)||(this.headerHeight=l,H(i.headerHeightRef,l)),i.fgLiquidHeight&&H(i.mainHeightRef,r)}))}}render(){let{props:e,context:t}=this,{options:r,dateEnv:i}=t;const s=e.showDayNumber&&Vh(e.date,e.dateProfile.currentRange,i),a=this.getDateMeta(e.date,e.todayRange,null,e.dateProfile),l=R("fc-daygrid-day",e.borderStart&&"fc-border-s",e.width!=null?"":"fc-liquid","fc-flex-col");if(a.isDisabled)return p("div",{role:"gridcell","aria-disabled":!0,className:R(l,"fc-day-disabled"),style:{width:e.width}});const o=e.showDayNumber||ji(r),c=r.navLinks,d=Jt(t,e.date);return p(Wi,{tag:"div",className:R(l,e.className),attrs:Object.assign(Object.assign({},e.attrs),{role:"gridcell","aria-label":d}),style:{width:e.width},elRef:this.rootElRef,renderProps:e.renderProps,defaultGenerator:Fh,date:e.date,dateMeta:a,showDayNumber:e.showDayNumber,isMonthStart:s},u=>p(G,null,o&&p("div",{className:"fc-daygrid-day-header"},p(u,{tag:"div",attrs:c?Qt(t,e.date,void 0,d):{"aria-hidden":!0},className:R("fc-daygrid-day-number",s&&"fc-daygrid-month-start")})),p("div",{className:R("fc-daygrid-day-body",e.isTall&&"fc-daygrid-day-body-tall",e.fgLiquidHeight?"fc-liquid":"fc-grow"),ref:this.handleBodyEl},p("div",{className:"fc-daygrid-day-events",style:{height:e.fgHeight}},e.fg),p(Wh,{isBlock:e.isCompact,allDayDate:e.date,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:this.rootElRef,alignParentTop:e.showDayNumber?"[role=row]":".fc-view",dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))))}}function Fh(n){return n.dayNumberText||p(G,null," ")}function Vh(n,e,t){const{start:r,end:i}=e,s=ft(i,-1),a=t.getYear(r),l=t.getMonth(r),o=t.getYear(s),c=t.getMonth(s);return!(a===o&&l===c)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<i.valueOf())}function Gh(n,e,t,r,i,s=!0,a,l){let o,c,d;a===!0||l===!0?(o=r,d=!0):typeof a=="number"?(c=a,d=!1):typeof l=="number"&&(c=l,d=!0);const u=new Map,h=new Map,f=new Map,m=new Map;let g=new ii(n,_=>e.get(wt(_)),i,o,c,d,s);g.traverseSegs((_,I)=>{Pr(u,_),f.set(wt(_),I),_.isSlice&&m.set(_.eventRange,!0)});for(const _ of g.hiddenSegs)Pr(h,_);if(m.size){f.clear(),g=new ii($h(n,u),_=>e.get(wt(_)),i,o,c,d),g.traverseSegs((_,I)=>{f.set(wt(_),I)});for(const _ of g.hiddenSegs)Pr(h,_)}const v=[],y=[],E=[],D=[];for(let _=0;_<t.length;_++)v.push([]),y.push([]),E.push([]),D.push(0);for(const _ of n){const{eventRange:I}=_,P=u.get(I)||[],x=h.get(I)||[],U=m.get(I)||!1;if(E[_.start].push(_),U)for(const T of P)E[T.start].push(T);for(const T of P){for(let fe=T.start;fe<T.end;fe++){const le=ra(T,fe);v[fe].push(le)}const L=wt(T),ee=f.get(L);if(ee!=null){const fe=e.get(L);for(let le=T.start;le<T.end;le++)D[le]=Math.max(D[le],ee+fe)}}for(const T of x)for(let L=T.start;L<T.end;L++){const ee=ra(T,L);v[L].push(ee),y[L].push(ee)}}return[v,y,E,f,D]}function Pr(n,e){let t=n.get(e.eventRange);t||n.set(e.eventRange,t=[]),t.push(e)}function $h(n,e){const t=[];for(const r of n)t.push(...e.get(r.eventRange)||[]);return t}function qh(n,e){let t=new kl(n.renderRange,e);return new Nl(t,/year|month|week/.test(n.currentRangeUnit))}function co(n,e,t){return t==null?[void 0,void 0]:t/n<e?[e*n,e]:[t,void 0]}function Qh(n,e,t,r=0){let i=0;for(const s of e){const a=s[0].date,l=s[s.length-1].date,o=a.toISOString();if(n>=a&&n<=l)return i;const c=t.get(o);if(c==null)return;i+=c+r}return i}function ia(n,e,t,r){let i,s;if(e!=null)i=n.start*e,s=(t-n.end)*e;else{const a=1/t;i=Jn(n.start*a),s=Jn(1-n.end*a)}return r?{right:i,left:s}:{left:i,right:s}}function Vi(n,e,t,r,i){const s=t??e/r,a=Math.floor(n/s),l=i?r-a-1:a,o=a*s,c=o+s;return{col:l,left:o,right:c}}function Zh(n,e,t){let r=0,i=0,s=0;for(const a of e){const l=a[0].key;if(i=s,s=i+t.get(l),n<s)break;r++}return{row:r,top:i,bottom:s}}function Xh(n,e){return n.querySelectorAll("[role=row]")[e]}function Gi(n,e){return n.querySelectorAll("[role=gridcell]")[e]}function uo(n,e,t){return n||Jh(e,t)}function Jh(n,e){return!n||e>10?ne({weekday:"short"}):e>1?ne({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ne({weekday:"long"})}class Kh extends Ae{constructor(){super(...arguments),this.rootElRef=ae()}render(){const{props:e}=this;return p("div",{className:R(e.className,"fc-abs"),style:e.style,ref:this.rootElRef},e.children)}componentDidMount(){const e=this.rootElRef.current;this.disconnectHeight=Zt(e,t=>{H(this.props.heightRef,t)})}componentWillUnmount(){this.disconnectHeight(),H(this.props.heightRef,null)}}const ep=ne({week:"narrow"});class fo extends W{constructor(){super(...arguments),this.headerHeightRefMap=new ge(()=>{de(this.handleSegPositioning)}),this.mainHeightRefMap=new ge(()=>{(this.props.dayMaxEvents===!0||this.props.dayMaxEventRows===!0)&&de(this.handleSegPositioning)}),this.segHeightRefMap=new ge(()=>{de(this.handleSegPositioning)}),this.handleRootEl=e=>{this.rootEl=e,H(this.props.rootElRef,e)},this.handleSegPositioning=()=>{this.forceUpdate()}}render(){const{props:e,context:t,headerHeightRefMap:r,mainHeightRefMap:i}=this,{cells:s}=e,{options:a}=t,l=e.cells[0].date,o=e.dayMaxEvents===!0||e.dayMaxEventRows===!0,c=Ni(e.fgEventSegs,a.eventOrder),[d,u]=this.computeFgDims(),[h,f,m,g,v]=Gh(c,this.segHeightRefMap.current,s,o?u:void 0,a.eventOrderStrict,a.eventSlicing,e.dayMaxEvents,e.dayMaxEventRows),y=[];if(d!=null){let x=0;for(const U of s){const T=r.current.get(U.key),L=d-T;y.push(v[x++]+L)}}const E=this.getHighlightSegs(),D=this.getMirrorSegs(),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},I=a.navLinks,P=Jt(t,l,"week");return p("div",{role:e.role,"aria-label":e.role==="row"?P:void 0,className:R("fc-daygrid-row",e.forPrint&&"fc-daygrid-row-print","fc-flex-row fc-rel",e.className),style:{"flex-basis":e.basis},ref:this.handleRootEl},e.showWeekNumbers&&p(Fl,{tag:"div",attrs:Object.assign(Object.assign({},I?Qt(t,l,"week",P,!1):{}),{role:void 0,"aria-hidden":!0}),className:"fc-daygrid-week-number",date:l,defaultFormat:ep}),this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(E,"highlight"),e.cells.map((x,U)=>{const T=this.renderFgSegs(d,m[U],g,e.todayRange,_);return p(jh,{key:x.key,dateProfile:e.dateProfile,todayRange:e.todayRange,date:x.date,showDayNumber:e.showDayNumbers,isCompact:e.isCompact,isTall:e.isTall,borderStart:!!U,segs:h[U],hiddenSegs:f[U],fgLiquidHeight:o,fg:p(G,null,T),eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,renderProps:x.renderProps,dateSpanProps:x.dateSpanProps,attrs:x.attrs,className:x.className,fgHeight:y[U],width:e.colWidth,headerHeightRef:r.createRef(x.key),mainHeightRef:i.createRef(x.key)})}),this.renderFgSegs(d,D,g,e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1))}renderFgSegs(e,t,r,i,s,a,l,o){var c;const{props:d,context:u,segHeightRefMap:h}=this,{isRtl:f}=u,{colWidth:m,eventSelection:g}=d,v=d.cells.length,y=d.cells.length===1,E=a||l||o,D=[];for(const _ of t){const I=wt(_),{standinFor:P,eventRange:x}=_,{instanceId:U}=x.instance;if(P)continue;const{left:T,right:L}=ia(_,m,v,f),ee=(c=r.get(P?wt(P):I))!==null&&c!==void 0?c:E?0:void 0,fe=e!=null&&ee!=null?e+ee:void 0,le=P||s[U]||fe==null;D.push(p(Kh,{key:I,className:_.start?"fc-border-transparent fc-border-s":"",style:{visibility:le?"hidden":"",top:fe,left:T,right:L},heightRef:!P&&!E?h.createRef(I):null},ao(_)?p(oo,Object.assign({eventRange:x,isStart:_.isStart,isEnd:_.isEnd,isDragging:a,isSelected:U===g,defaultDisplayEventEnd:y},Ze(x,i))):p(lo,Object.assign({eventRange:x,isStart:_.isStart,isEnd:_.isEnd,isDragging:a,isResizing:l,isDateSelecting:o,isSelected:U===g,defaultDisplayEventEnd:y},Ze(x,i)))))}return D}renderFillSegs(e,t){const{props:r,context:i}=this,{isRtl:s}=i,{todayRange:a,colWidth:l}=r,o=r.cells.length,c=[];for(const d of e){const u=wl(d.eventRange),{left:h,right:f}=ia(d,l,o,s),m=!d.standinFor;c.push(p("div",{key:u,className:"fc-fill-y",style:{visibility:m?"":"hidden",left:h,right:f}},t==="bg-event"?p(Wl,Object.assign({eventRange:d.eventRange,isStart:d.isStart,isEnd:d.isEnd},Ze(d.eventRange,a))):jl(t)))}return p(G,{},...c)}componentDidMount(){const{rootEl:e}=this;this.disconnectHeight=Zt(e,t=>{H(this.props.heightRef,t)})}componentWillUnmount(){this.disconnectHeight(),H(this.props.heightRef,null)}computeFgDims(){const{cells:e}=this.props,t=this.headerHeightRefMap.current,r=this.mainHeightRefMap.current;let i,s;for(const a of e){const l=t.get(a.key),o=r.get(a.key);if(l!=null&&((i===void 0||l>i)&&(i=l),o!=null)){const c=l+o;(s===void 0||c<s)&&(s=c)}}return[i,s!=null&&i!=null?s-i:void 0]}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}}class ho extends gt{constructor(){super(...arguments),this.splitBusinessHourSegs=O(Rn),this.splitBgEventSegs=O(Rn),this.splitFgEventSegs=O(Rn),this.splitDateSelectionSegs=O(Rn),this.splitEventDrag=O(na),this.splitEventResize=O(na),this.rowHeightRefMap=new ge((e,t)=>{const{rowHeightRefMap:r}=this.props;r&&r.handleValue(e,t)}),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t,rowHeightRefMap:r}=this,{options:i}=t,s=e.cellRows.length,a=this.splitFgEventSegs(e.fgEventSegs,s),l=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitBusinessHourSegs(e.businessHourSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),d=this.splitEventDrag(e.eventDrag,s),u=this.splitEventResize(e.eventResize,s),h=Ke(i),f=!e.forPrint&&!h,m=np(e.visibleWidth,s,h,i),g=$i(e.visibleWidth,i);return p("div",{role:"rowgroup",className:R(!e.forPrint&&"fc-flex-col",e.className),style:{width:e.width},ref:this.handleRootEl},e.cellRows.map((v,y)=>p(fo,{key:v[0].key,role:"row",dateProfile:e.dateProfile,todayRange:e.todayRange,cells:v,showDayNumbers:s>1,showWeekNumbers:s>1&&i.weekNumbers,forPrint:e.forPrint,isCompact:g,className:R(f&&"fc-grow",s>1&&"fc-break-inside-avoid",y<s-1&&"fc-border-b"),fgEventSegs:a[y],bgEventSegs:l[y].filter(tp),businessHourSegs:o[y],dateSelectionSegs:c[y],eventSelection:e.eventSelection,eventDrag:d[y],eventResize:u[y],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:e.colWidth,basis:m,heightRef:r.createRef(v[0].key)})))}queryHit(e,t,r){const{props:i,context:s}=this,a=i.cellRows[0].length,{col:l,left:o,right:c}=Vi(e,r,i.colWidth,a,s.isRtl),{row:d,top:u,bottom:h}=Zh(t,i.cellRows,this.rowHeightRefMap.current),f=i.cellRows[d][l],m=f.date,g=ue(m,1);return{dateProfile:i.dateProfile,dateSpan:Object.assign({range:{start:m,end:g},allDay:!0},f.dateSpanProps),getDayEl:()=>Gi(Xh(this.rootEl,d),l),rect:{left:o,right:c,top:u,bottom:h},layer:0}}}function tp(n){return n.eventRange.def.allDay}function np(n,e,t,r){if(n!=null){const i=n/r.aspectRatio/6;return e>6||t?i:0}return 0}function $i(n,e){return n!=null?n/e.aspectRatio/6<70:!1}class rp extends W{constructor(){super(...arguments),this.handleInnerEl=e=>{this.disconectInnerHeight&&(this.disconectInnerHeight(),this.disconectInnerHeight=void 0),e?this.disconectInnerHeight=Zt(e,t=>{H(this.props.innerHeightRef,t)}):H(this.props.innerHeightRef,null)}}render(){const{props:e}=this,{renderConfig:t,dataConfig:r}=e,i=r.renderProps.isDisabled;return p(Ce,{tag:"div",attrs:Object.assign({role:"columnheader","aria-colspan":r.colSpan},r.attrs),className:R("fc-header-cell fc-cell fc-flex-col fc-align-center",e.borderStart&&"fc-border-s",!e.isSticky&&"fc-crop",e.colWidth==null&&"fc-liquid",r.className),style:{width:e.colWidth!=null?e.colWidth*(r.colSpan||1):void 0},renderProps:r.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:il,classNameGenerator:i?void 0:t.classNameGenerator,didMount:t.didMount,willUnmount:t.willUnmount},s=>p(s,{tag:"div",attrs:r.innerAttrs,className:R("fc-cell-inner fc-flex-col fc-padding-sm",e.isSticky&&"fc-sticky-s"),elRef:this.handleInnerEl}))}}class qi extends W{constructor(){super(...arguments),this.innerHeightRefMap=new ge(()=>{de(this.handleInnerHeights)}),this.handleInnerHeights=()=>{const e=this.innerHeightRefMap.current;let t=0;for(const r of e.values())t=Math.max(t,r);this.currentInnerHeight!==t&&(this.currentInnerHeight=t,H(this.props.innerHeightRef,t))}}render(){const{props:e}=this;return p("div",{role:e.role,"aria-rowindex":e.rowIndex!=null?1+e.rowIndex:void 0,className:R("fc-flex-row fc-content-box",e.className),style:{height:e.height}},e.dataConfigs.map((t,r)=>p(rp,{key:t.key,renderConfig:e.renderConfig,dataConfig:t,isSticky:e.isSticky,borderStart:!!r,colWidth:e.colWidth,innerHeightRef:e.innerHeightRef})))}componentWillUnmount(){H(this.props.innerHeightRef,null)}}class po extends W{render(){const{props:e}=this;return p("div",{role:"rowgroup",className:R(e.className,"fc-flex-col",e.width==null&&"fc-liquid"),style:{width:e.width}},e.headerTiers.map((t,r)=>p(qi,Object.assign({},t,{key:r,role:"row",className:r?"fc-border-t":"",colWidth:e.colWidth}))))}}class ip extends W{constructor(){super(...arguments),this.handleScroller=e=>{H(this.props.scrollerRef,e)},this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:t,context:r}=this,{options:i}=r,{totalWidth:s,clientWidth:a}=t,l=s!=null&&a!=null?s-a:void 0,o=!e.forPrint&&!Ke(i),c=!e.forPrint&&yn(i);return p(G,null,i.dayHeaders&&p("div",{className:R(e.forPrint?"fc-print-header":"fc-flex-row",c&&"fc-table-header-sticky","fc-border-b")},p(po,{headerTiers:e.headerTiers,className:"fc-daygrid-header"}),!!l&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:l}})),p(Fe,{vertical:o,className:R("fc-daygrid-body",!e.forPrint&&"fc-flex-col",o&&"fc-liquid"),ref:this.handleScroller,clientWidthRef:this.handleClientWidth},p(ho,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:"fc-grow",dayMaxEvents:e.forPrint?void 0:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,visibleWidth:s,rowHeightRefMap:e.rowHeightRefMap})),p(yr,{widthRef:this.handleTotalWidth}))}}class sp extends W{constructor(){super(...arguments),this.headerScrollerRef=ae(),this.bodyScrollerRef=ae(),this.footerScrollerRef=ae(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:t,context:r}=this,{options:i}=r,{totalWidth:s,clientWidth:a}=t,l=s!=null&&a!=null?s-a:void 0,o=!e.forPrint&&!Ke(i),c=!e.forPrint&&yn(i),d=!e.forPrint&&Tl(i),u=e.cellRows[0].length,[h,f]=co(u,e.dayMinWidth,a);return p(G,null,i.dayHeaders&&p("div",{className:R("fc-print-header",c&&"fc-table-header-sticky")},p(Fe,{horizontal:!0,hideScrollbars:!0,className:"fc-daygrid-header fc-flex-row fc-border-b",ref:this.headerScrollerRef},p(po,{headerTiers:e.headerTiers,colWidth:f,width:h}),!!l&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:l}}))),p(Fe,{vertical:o,horizontal:!0,hideScrollbars:d||e.forPrint,className:R("fc-daygrid-body",!e.forPrint&&"fc-flex-col",o&&"fc-liquid"),ref:this.bodyScrollerRef,clientWidthRef:this.handleClientWidth},p(ho,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:"fc-grow",dayMaxEvents:e.forPrint?void 0:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,colWidth:f,width:h,visibleWidth:s,rowHeightRefMap:e.rowHeightRefMap})),!!d&&p(Gl,{isSticky:!0,canvasWidth:h,scrollerRef:this.footerScrollerRef}),p(yr,{widthRef:this.handleTotalWidth}))}componentDidMount(){const e=Rl(this.context.pluginHooks);this.syncedScroller=new e(!0),H(this.props.scrollerRef,this.syncedScroller),this.updateSyncedScroller()}componentDidUpdate(){this.updateSyncedScroller()}componentWillUnmount(){this.syncedScroller.destroy()}updateSyncedScroller(){this.syncedScroller.handleChildren([this.headerScrollerRef.current,this.bodyScrollerRef.current,this.footerScrollerRef.current])}}class ap extends W{constructor(){super(...arguments),this.scrollerRef=ae(),this.rowHeightRefMap=new ge(()=>{de(this.updateScrollY)}),this.scrollDate=null,this.updateScrollY=()=>{const e=this.rowHeightRefMap.current,t=this.scrollerRef.current;if(t&&this.scrollDate){let r=Qh(this.scrollDate,this.props.cellRows,e,1);r!=null&&(r&&r++,t.scrollTo({y:r}))}},this.handleScrollEnd=e=>{e&&(this.scrollDate=null)}}render(){const{props:e,context:t}=this,{options:r}=t,i=Object.assign(Object.assign({},e),{scrollerRef:this.scrollerRef,rowHeightRefMap:this.rowHeightRefMap});return p(Ci,{viewSpec:t.viewSpec,attrs:{role:"grid","aria-rowcount":e.headerTiers.length+e.cellRows.length,"aria-colcount":e.cellRows[0].length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:R(e.className,"fc-print-root fc-border")},r.dayMinWidth?p(sp,Object.assign({},i,{dayMinWidth:r.dayMinWidth})):p(ip,Object.assign({},i)))}componentDidMount(){this.resetScroll(),this.scrollerRef.current.addScrollEndListener(this.handleScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset&&this.resetScroll()}componentWillUnmount(){this.scrollerRef.current.removeScrollEndListener(this.handleScrollEnd)}resetScroll(){this.scrollDate=this.props.dateProfile.currentDate,this.updateScrollY(),this.scrollerRef.current.scrollTo({x:0})}}class lp extends W{constructor(){super(...arguments),this.buildDayTableModel=O(qh),this.buildDateRowConfigs=O(ro),this.createDayHeaderFormatter=O(uo),this.slicer=new no}render(){const{props:e,context:t}=this,{options:r}=t,i=this.buildDayTableModel(e.dateProfile,t.dateProfileGenerator),s=i.rowCnt===1,a=this.createDayHeaderFormatter(t.options.dayHeaderFormat,s,i.colCnt),l=this.slicer.sliceProps(e,e.dateProfile,r.nextDayThreshold,t,i);return p(br,{unit:"day"},(o,c)=>{const d=this.buildDateRowConfigs(i.headerDates,s,e.dateProfile,c,a,t);return p(ap,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:e.dateProfile,todayRange:c,cellRows:i.cellRows,forPrint:e.forPrint,className:"fc-daygrid",headerTiers:d,fgEventSegs:l.fgEventSegs,bgEventSegs:l.bgEventSegs,businessHourSegs:l.businessHourSegs,dateSelectionSegs:l.dateSelectionSegs,eventDrag:l.eventDrag,eventResize:l.eventResize,eventSelection:l.eventSelection})})}}class op extends ol{buildRenderRange(e,t,r){let i=super.buildRenderRange(e,t,r),{props:s}=this;return cp({currentRange:i,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function cp(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:i}=t,s;if(n.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=Ds(s,1))),n.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(ue(t.end,-1))),l=Math.ceil(Pc(a,i));i=Ds(i,6-l)}return{start:r,end:i}}var dp=":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-row-print{min-height:6em}.fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc-daygrid-day-header{display:flex;flex-direction:row-reverse}.fc-day-other .fc-daygrid-day-header{opacity:.3}.fc-daygrid-day-number{padding:4px;position:relative}.fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc-daygrid-day-body{display:flex;flex-direction:column;margin-bottom:1px}.fc-daygrid-day-body-tall{margin-bottom:1em;min-height:2em}.fc-daygrid-day-body:only-child{margin-top:2px}.fc-daygrid-more-link{border-radius:3px;cursor:pointer;font-size:var(--fc-small-font-size);margin:0 2px 1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap}.fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc-daygrid-more-link-button{align-self:flex-start}.fc-daygrid-more-link-block{border:1px solid var(--fc-event-border-color);padding:1px}.fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:1}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px}.fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);margin-bottom:1px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;direction:row;display:flex;padding:2px 0;position:relative}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-daygrid-dot-event .fc-event-time,.fc-daygrid-dot-event .fc-event-title{overflow:hidden;white-space:nowrap}.fc-media-print .fc-daygrid-dot-event .fc-event-time,.fc-media-print .fc-daygrid-dot-event .fc-event-title{overflow:hidden!important;white-space:nowrap!important}.fc-daygrid-dot-event .fc-event-title{flex-basis:0;flex-grow:1;font-weight:700;min-height:0;min-width:0}";ur(dp);var up=Le({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:lp,dateProfileGeneratorClass:op},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class fp extends Ru{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?ru(e)?["timed","allDay"]:["allDay"]:["timed"]}}class hp extends Hl{sliceRange(e,t){let r=[];for(let i=0;i<t.length;i+=1){let s=Rt(e,t[i]);s&&r.push({startDate:s.start,endDate:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}function en(n,e){let t=[],r;for(r=0;r<e;r+=1)t.push([]);if(n)for(r=0;r<n.length;r+=1)t[n[r].col].push(n[r]);return t}function sa(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const aa=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function pp(n,e,t,r,i){let s=new Date(0),a=n,l=Q(0),o=t||gp(r),c=[];for(;Xe(a)<Xe(e);){let d=i.add(s,a),u=Ei(l,o)!==null;c.push({date:d,time:a,key:d.toISOString(),isoTimeStr:Gc(d),isLabeled:u}),a=Gr(a,r),l=Gr(l,r)}return c}function gp(n){let e,t,r;for(e=aa.length-1;e>=0;e-=1)if(t=Q(aa[e]),r=Ei(t,n),r!==null&&r>1)return t;return n}class go extends W{constructor(){super(...arguments),this.innerElRef=ae()}render(){let{props:e}=this,{options:t,viewApi:r}=this.context,i={text:t.allDayText,view:r};return p(Ce,{tag:"div",attrs:{role:"rowheader"},className:"fc-timegrid-allday-label fc-timegrid-axis fc-cell fc-content-box",style:{width:e.width},renderProps:i,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:mp,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},s=>p(s,{tag:"span",className:"fc-timegrid-allday-label-inner fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;this.disconnectInnerWidth=vr(t,r=>{H(e.innerWidthRef,r)})}componentWillUnmount(){this.disconnectInnerWidth(),H(this.props.innerWidthRef,null)}}function mp(n){return n.text}class mo extends gt{constructor(){super(...arguments),this.heightRef=ae(),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){return p(fo,Object.assign({},this.props,{isTall:!0,rootElRef:this.handleRootEl,heightRef:this.heightRef}))}queryHit(e,t,r){const{props:i,context:s,heightRef:a}=this,l=i.cells.length,{col:o,left:c,right:d}=Vi(e,r,i.colWidth,l,s.isRtl),u=i.cells[o],h=u.date,f=ue(h,1);return{dateProfile:i.dateProfile,dateSpan:Object.assign({range:{start:h,end:f},allDay:!0},u.dateSpanProps),getDayEl:()=>Gi(this.rootEl,o),rect:{left:c,right:d,top:0,bottom:a.current},layer:0}}}function vp(n,e){let t=new kl(n.renderRange,e);return new Nl(t,!1)}function yp(n,e,t){let r=[];for(let i of n.headerDates)r.push({start:t.add(i,e.slotMinTime),end:t.add(i,e.slotMaxTime)});return r}function vo(n,e,t,r){if(!t||!r)return[void 0,!1];const i=t+1,s=r/e;let a,l;return n&&s>=i?(a=!0,l=s):(a=!1,l=i),[l,a]}function rr(n,e,t){return t||(t=te(n)),yo(Q(n.valueOf()-t.valueOf()),e)}function yo(n,e){const t=Xe(e.slotMinTime),r=Xe(e.slotMaxTime);let i=(n.milliseconds-t)/(r-t);return i=Math.max(0,i),i=Math.min(1,i),i}function li(n){return["fc-timegrid-slot",n.isLabeled?"":"fc-timegrid-slot-minor","fc-flex-row"]}function la(n,e,t,r,i,s,a){const l=[];if(i!=null){const o=i*r;for(const c of n){const d=rr(c.startDate,e,t),u=rr(c.endDate,e,t),h=d*o;let f=u*o,m=f-h;s!=null&&m<s&&(m=s,f=h+m),l.push({start:h,end:f,size:m,isShort:a!=null&&m<a})}}return l}function bp(n,e,t,r){const i=[];for(let c=0;c<n.length;c++){const d=e[c];d&&i.push(Object.assign(Object.assign({},n[c]),{start:d.start,end:d.end}))}const s=new ii(i,void 0,t,void 0,r);let a=wp(s);a=Dp(a,1);const l=Ap(a),o=Fu(s.hiddenSegs);return[l,o]}function wp(n){const{placementsByLevel:e}=n,t=Qi((i,s)=>i+":"+s,(i,s)=>{let a=_p(n,i,s),[l,o]=oa(a,t),c=e[i][s];return[Object.assign(Object.assign({},c),{nextLevelNodes:l}),c.thickness+o]}),[r]=oa(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t);return r}function oa(n,e){if(!n)return[[],0];let{level:t,lateralStart:r,lateralEnd:i}=n,s=r,a=[];for(;s<i;)a.push(e(t,s)),s+=1;return a.sort(Ep),[a.map(Sp),a[0][1]]}function Ep(n,e){return e[1]-n[1]}function Sp(n){return n[0]}function _p(n,e,t){let{levelCoords:r,placementsByLevel:i}=n,s=i[e][t],a=r[e]+s.thickness,l=r.length,o=e;for(;o<l&&r[o]<a;o+=1);for(;o<l;o+=1){let c=i[o],d,u=si(c,s.start,ri),h=u[0]+u[1],f=h;for(;(d=c[f])&&d.start<s.end;)f+=1;if(h<f)return{level:o,lateralStart:h,lateralEnd:f}}return null}function Dp(n,e){const t=Qi((r,i,s)=>mr(r),(r,i,s)=>{let{nextLevelNodes:a,thickness:l}=r,o=l+s,c=l/o,d,u=[];if(!a.length)d=e;else for(let f of a)if(d===void 0){let m=t(f,i,o);d=m[0],u.push(m[1])}else{let m=t(f,d,0);u.push(m[1])}let h=(d-i)*c;return[d-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:u})]});return n.map(r=>t(r,0,0)[1])}function Ap(n){let e=new Map;const t=Qi((i,s,a)=>mr(i),(i,s,a)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return e.set(l.eventRange.instance.instanceId,l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,a+1)});function r(i,s,a){let l=0;for(let o of i)l=Math.max(t(o,s,a)+1,l);return l}return r(n,0,0),e}function Qi(n,e){const t={};return(...r)=>{let i=n(...r);return i in t?t[i]:t[i]=e(...r)}}const Cp=ne({hour:"numeric",minute:"2-digit",meridiem:!1});class bo extends W{render(){const{props:e}=this;return p(Yl,Object.assign({},e,{className:R("fc-timegrid-event",e.isShort&&"fc-timegrid-event-short",e.isInset&&"fc-timegrid-event-inset","fc-v-event",e.isLiquid&&"fc-liquid"),defaultTimeFormat:Cp}))}}class xp extends W{render(){let{props:e}=this;return p(Vl,{className:"fc-timegrid-more-link fc-abs",style:{top:e.top,height:e.height},allDayDate:null,segs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>wo(e.hiddenSegs,e),defaultGenerator:Tp,forceTimed:!0},t=>p(t,{tag:"div",className:"fc-timegrid-more-link-inner fc-sticky-t"}))}}function Tp(n){return n.shortText}function Rp(n){return p("div",{className:"fc-timegrid-now-indicator-container"},p(zl,{className:"fc-timegrid-now-indicator-line",style:{top:n.totalHeight!=null?n.totalHeight*rr(n.nowDate,n.dateProfile,n.dayDate):void 0},isAxis:!1,date:n.nowDate}))}const St=typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox");class Ip extends W{constructor(){super(...arguments),this.sortEventSegs=O(Ni),this.getDateMeta=O(bn)}render(){let{props:e,context:t}=this,{options:r}=t,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.getDateMeta(e.date,e.todayRange,null,e.dateProfile);const o=R("fc-timegrid-day",e.borderStart&&"fc-border-s",e.width==null&&"fc-liquid","fc-flex-col fc-rel"),c={width:e.width,zIndex:1};if(l.isDisabled)return p("div",{role:"gridcell","aria-disabled":!0,className:R(o,"fc-day-disabled"),style:c});let d=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return p(Wi,{tag:"div",attrs:Object.assign(Object.assign({},e.attrs),{role:"gridcell"}),className:o,style:c,date:e.date,dateMeta:l,renderProps:e.renderProps},u=>p(G,null,this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight"),ji(r)&&p(u,{tag:"div",className:"fc-timegrid-day-misc fc-fill-top"}),p("div",{className:R("fc-timegrid-day-events",e.forPrint&&St?"fc-timegrid-day-events-simple":"fc-fill")},this.renderFgSegs(d,a,!1,!1,!1)),!!s.length&&p("div",{className:"fc-timegrid-day-events fc-fill"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),this.renderNowIndicator(e.nowIndicatorSegs)))}renderFgSegs(e,t,r,i,s,a){const{props:l}=this;return l.forPrint&&St?wo(e,l):this.renderPositionedFgSegs(e,t,r,i,s,a)}renderPositionedFgSegs(e,t,r,i,s,a){let{props:l,context:o}=this,{date:c,dateProfile:d,eventSelection:u,todayRange:h,nowDate:f}=l,{eventMaxStack:m,eventShortHeight:g,eventOrderStrict:v,eventMinHeight:y}=o.options,E=la(e,d,c,l.slatCnt,l.slatHeight,y,g),[D,_]=bp(e,E,v,m),I=r||i||s;return p(G,null,e.map((P,x)=>{let{eventRange:U}=P,T=U.instance.instanceId,L=E[x]||{},ee=D.get(T),fe=!I&&ee?this.computeSegHStyle(ee):{left:0,right:0},le=I||ee&&!t[T],Be=ee?!!ee.stackDepth:!1;return p("div",{className:"fc-abs fc-flex-col",key:a||T,style:Object.assign({visibility:le?"":"hidden",top:L.start,height:L.size},fe)},p(bo,Object.assign({eventRange:U,slicedStart:P.startDate,slicedEnd:P.endDate,isStart:P.isStart,isEnd:P.isEnd,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:T===u,isShort:L.isShort||!1,isInset:Be,isLiquid:!0},Ze(U,h,f))))}),this.renderHiddenGroups(_))}renderHiddenGroups(e){let{dateSpanProps:t,dateProfile:r,todayRange:i,nowDate:s,eventSelection:a,eventDrag:l,eventResize:o}=this.props;return p(G,null,e.map(c=>p(xp,{key:c.key,hiddenSegs:c.segs,top:c.start,height:c.end-c.start,dateSpanProps:t,dateProfile:r,todayRange:i,nowDate:s,eventSelection:a,eventDrag:l,eventResize:o})))}renderFillSegs(e,t){let{props:r,context:i}=this,s=la(e,r.dateProfile,r.date,r.slatCnt,r.slatHeight,i.options.eventMinHeight);return p(G,null,e.map((a,l)=>{const{eventRange:o}=a,c=s[l]||{};return p("div",{key:wl(o),className:"fc-fill-x",style:{top:c.start,height:c.size}},t==="bg-event"?p(Wl,Object.assign({eventRange:o,isStart:a.isStart,isEnd:a.isEnd},Ze(o,r.todayRange,r.nowDate))):jl(t))}))}renderNowIndicator(e){let{props:t}=this;if(!(t.forPrint&&St))return e.map(r=>p(Rp,{nowDate:r.startDate,dayDate:t.date,dateProfile:t.dateProfile,totalHeight:t.slatHeight!=null?t.slatHeight*t.slatCnt:void 0}))}computeSegHStyle(e){let{isRtl:t,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,o;i&&(a=Math.min(1,s+(a-s)*2)),t?(l=1-a,o=s):(l=s,o=1-a);let c={zIndex:e.stackDepth+1,left:Jn(l),right:Jn(o)};return i&&e.stackForward&&(c[t?"marginLeft":"marginRight"]=20),c}}function wo(n,{todayRange:e,nowDate:t,eventSelection:r,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return p(G,null,n.map(l=>{let{eventRange:o}=l,{instanceId:c}=o.instance;return p("div",{key:c,className:"fc-break-inside-avoid",style:{visibility:a[c]?"hidden":""}},p(bo,Object.assign({eventRange:o,slicedStart:l.startDate,slicedEnd:l.endDate,isStart:l.isStart,isEnd:l.isEnd,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===r,isShort:!1,isInset:!1},Ze(o,e,t))))}))}class Zi extends gt{constructor(){super(...arguments),this.processSlotOptions=O(Mp),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){const{props:e}=this;return p("div",{role:e.role,className:R(e.className,"fc-flex-row"),ref:this.handleRootEl},e.cells.map((t,r)=>p(Ip,{key:t.key,dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,date:t.date,slatCnt:e.slatCnt,renderProps:t.renderProps,attrs:t.attrs,dateSpanProps:t.dateSpanProps,forPrint:e.forPrint,borderStart:!!r,fgEventSegs:e.fgEventSegsByCol[r],bgEventSegs:e.bgEventSegsByCol[r],businessHourSegs:e.businessHourSegsByCol[r],nowIndicatorSegs:e.nowIndicatorSegsByCol[r],dateSelectionSegs:e.dateSelectionSegsByCol[r],eventDrag:e.eventDragByCol[r],eventResize:e.eventResizeByCol[r],eventSelection:e.eventSelection,width:e.colWidth,slatHeight:e.slatHeight})))}queryHit(e,t,r){const{dateProfile:i,cells:s,colWidth:a,slatHeight:l}=this.props,{dateEnv:o,options:c,isRtl:d}=this.context,{snapDuration:u,snapsPerSlot:h}=this.processSlotOptions(c.slotDuration,c.snapDuration),f=s.length,{col:m,left:g,right:v}=Vi(e,r,a,f,d),y=s[m],E=Math.floor(t/l),D=E*l,_=(t-D)/l,I=Math.floor(_*h),P=E+I*h,x=Gr(i.slotMinTime,Mc(u,P)),U=o.add(y.date,x),T=o.add(U,u);return{dateProfile:i,dateSpan:Object.assign({range:{start:U,end:T},allDay:!1},y.dateSpanProps),getDayEl:()=>Gi(this.rootEl,m),rect:{left:g,right:v,top:D,bottom:D+l},layer:0}}}Zi.addPropsEquality({style:$t});function Mp(n,e){let t=e||n,r=Ei(n,t);return r===null&&(t=n,r=1),{snapDuration:t,snapsPerSlot:r}}function Eo(n){return p("div",{className:"fc-timegrid-now-indicator-container"},p(zl,{className:"fc-timegrid-now-indicator-arrow",style:{top:n.totalHeight!=null?n.totalHeight*rr(n.nowDate,n.dateProfile):void 0},isAxis:!0,date:n.nowDate}))}const Op=ne({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function kp(n,e,t,r,i){return{level:0,time:e,date:r.toDate(n),view:i,text:r.format(n,t)}}class So extends W{constructor(){super(...arguments),this.createRenderProps=O(kp),this.innerElRef=ae()}render(){let{props:e,context:t}=this,{dateEnv:r,options:i,viewApi:s}=t,a=R("fc-timegrid-slot-label fc-timegrid-axis fc-header-cell fc-cell",e.isLiquid?"fc-liquid":"fc-content-box");if(!e.isLabeled)return p("div",{className:a,style:{width:e.width}});let l=i.slotLabelFormat==null?Op:Array.isArray(i.slotLabelFormat)?ne(i.slotLabelFormat[0]):ne(i.slotLabelFormat),o=this.createRenderProps(e.date,e.time,l,r,s);return p(Ce,{tag:"div",className:a,style:{width:e.width},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Np,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},c=>p(c,{tag:"div",className:"fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;t&&(this.disconnectInnerSize=vn(t,(r,i)=>{H(e.innerWidthRef,r),H(e.innerHeightRef,i)}))}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize&&(this.disconnectInnerSize(),H(e.innerWidthRef,null),H(e.innerHeightRef,null))}}function Np(n){return n.text}class _o extends W{constructor(){super(...arguments),this.innerElRef=ae()}render(){let{props:e,context:t}=this,{options:r}=t,i={time:e.time,date:t.dateEnv.toDate(e.date),view:t.viewApi};return p(Ce,{tag:"div",className:R("fc-timegrid-slot-lane fc-cell fc-liquid",e.borderStart&&"fc-border-s"),renderProps:i,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount},s=>p(s,{tag:"div",className:"fc-cell-inner",elRef:this.innerElRef}))}componentDidMount(){const e=this.innerElRef.current;this.disconnectInnerHeight=Zt(e,t=>{H(this.props.innerHeightRef,t)})}componentWillUnmount(){this.disconnectInnerHeight(),H(this.props.innerHeightRef,null)}}const Pp=ne({week:"short"});class Do extends W{constructor(){super(...arguments),this.innerElRef=ae()}render(){let{props:e,context:t}=this,r=e.dateProfile.renderRange,s=kt(r.start,r.end)===1&&t.options.navLinks,a=Jt(t,r.start,"week");return p(Fl,{tag:"div",attrs:{role:"gridcell","aria-label":a},className:R("fc-timegrid-weeknumber fc-timegrid-axis fc-cell",e.isLiquid?"fc-liquid":"fc-content-box"),style:{width:e.width},date:r.start,defaultFormat:Pp},l=>p(l,{tag:"div",attrs:s?Qt(t,r.start,"week",a):{"aria-label":a},className:"fc-timegrid-axis-inner fc-cell-inner fc-padding-sm",elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,t=this.innerElRef.current;this.disconnectInnerSize=vn(t,(r,i)=>{H(e.innerWidthRef,r),H(e.innerHeightRef,i)})}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize(),H(e.innerWidthRef,null),H(e.innerHeightRef,null)}}function Ao(n){return p("div",{role:"gridcell",className:R("fc-timegrid-axis",n.isLiquid?"fc-liquid":"fc-content-box"),style:{width:n.width}})}class Hp extends W{constructor(){super(...arguments),this.state={headerTierHeights:[]},this.headerLabelInnerWidthRefMap=new ge(()=>{de(this.handleAxisWidths)}),this.headerLabelInnerHeightRefMap=new ge(()=>{de(this.handleHeaderHeights)}),this.headerMainInnerHeightRefMap=new ge(()=>{de(this.handleHeaderHeights)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,de(this.handleAxisWidths)},this.slatLabelInnerWidthRefMap=new ge(()=>{de(this.handleAxisWidths)}),this.slatLabelInnerHeightRefMap=new ge(()=>{de(this.handleSlatInnerHeights)}),this.slatMainInnerHeightRefMap=new ge(()=>{de(this.handleSlatInnerHeights)}),this.headerScrollerRef=ae(),this.allDayScrollerRef=ae(),this.mainScrollerRef=ae(),this.footScrollerRef=ae(),this.axisScrollerRef=ae(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleBottomScrollbarWidth=e=>{this.setState({bottomScrollbarWidth:e})},this.handleHeaderHeights=()=>{const e=this.headerLabelInnerHeightRefMap.current,t=this.headerMainInnerHeightRefMap.current,r=[];for(const[s,a]of t.entries())r[s]=Math.max(e.get(s)||0,a);const{headerTierHeights:i}=this.state;xt(i,r)||this.setState({headerTierHeights:r})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current,t=this.slatMainInnerHeightRefMap.current;let r=0;for(const i of e.values())r=Math.max(r,i);for(const i of t.values())r=Math.max(r,i);this.state.slatInnerHeight!==r&&this.setState({slatInnerHeight:r})},this.handleAxisWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,t=this.slatLabelInnerWidthRefMap.current;let r=this.allDayLabelInnerWidth||0;for(const i of e.values())r=Math.max(r,i);for(const i of t.values())r=Math.max(r,i);this.state.axisWidth!==r&&this.setState({axisWidth:r})}}render(){const{props:e,state:t,context:r,headerLabelInnerWidthRefMap:i,headerLabelInnerHeightRefMap:s,headerMainInnerHeightRefMap:a,slatLabelInnerWidthRefMap:l,slatLabelInnerHeightRefMap:o,slatMainInnerHeightRefMap:c}=this,{nowDate:d,headerTiers:u,forPrint:h}=e,{axisWidth:f,totalWidth:m,clientWidth:g,clientHeight:v,bottomScrollbarWidth:y}=t,{options:E}=r,D=m!=null&&g!=null?m-g:void 0,_=!h&&!Ke(E),I=!h&&yn(E),P=!h&&Tl(E),x=h&&!St,U=h&&St,T=e.cells.length,[L,ee]=co(T,e.dayMinWidth,g),fe=e.slatMetas.length,[le,Be]=vo(_&&E.expandRows,fe,t.slatInnerHeight,v);this.slatHeight=le;const tt=(le||0)*fe,Ht=x?tt:void 0,nt=_&&!E.expandRows&&v!=null&&v>tt,Z=E.dayHeaders?u.length+1:1;return p(G,null,E.dayHeaders&&p("div",{className:R("fc-timegrid-header fc-flex-row fc-border-b",I&&"fc-table-header-sticky")},p("div",{role:"rowgroup",className:"fc-content-box",style:{width:f}},u.map((j,V)=>p("div",{key:V,role:"row","aria-rowindex":V+1,className:R("fc-flex-row fc-content-box",V&&"fc-border-t"),style:{height:t.headerTierHeights[V]}},E.weekNumbers&&j.isDateRow?p(Do,{dateProfile:e.dateProfile,innerWidthRef:i.createRef(V),innerHeightRef:s.createRef(V),width:void 0,isLiquid:!0}):p(Ao,{width:void 0,isLiquid:!0})))),p(Fe,{horizontal:!0,hideScrollbars:!0,className:"fc-flex-row fc-border-s fc-liquid",ref:this.headerScrollerRef},p("div",{role:"rowgroup",className:L==null?"fc-liquid":"",style:{width:L}},e.headerTiers.map((j,V)=>p(qi,Object.assign({},j,{key:V,role:"row",rowIndex:V,className:V?"fc-border-t":"",height:t.headerTierHeights[V],colWidth:ee,innerHeightRef:a.createRef(V)})))),!!D&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:D}}))),p("div",{role:"rowgroup",className:R("fc-flex-col",_&&"fc-liquid")},E.allDaySlot&&p(G,null,p("div",{role:"row","aria-rowindex":Z,className:"fc-timegrid-allday fc-flex-row"},p(go,{width:f,innerWidthRef:this.handleAllDayLabelInnerWidth}),p(Fe,{horizontal:!0,hideScrollbars:!0,className:"fc-border-s fc-flex-row fc-liquid",ref:this.allDayScrollerRef},p("div",{className:"fc-flex-col",style:{width:L}},p(mo,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,isCompact:$i(g,E),fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:ee})),!!D&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:D}}))),p("div",{className:"fc-rowdivider"})),p("div",{role:"row","aria-rowindex":Z+(E.allDaySlot?1:0),className:R("fc-timegrid-body fc-flex-row fc-rel",_&&"fc-liquid")},p(Fe,{vertical:_,hideScrollbars:!0,className:"fc-flex-col fc-content-box",style:{width:f},ref:this.axisScrollerRef},!U&&p(G,null,p("div",{role:"rowheader","aria-label":E.timedText,className:"fc-flex-col fc-grow fc-rel",style:{height:Ht}},p("div",{"aria-hidden":!0,className:R("fc-timegrid-slots-axis fc-flex-col",_&&E.expandRows&&"fc-grow",x&&"fc-fill-x")},e.slatMetas.map((j,V)=>p("div",{key:j.key,"data-time":j.isoTimeStr,className:R(...li(j),V&&"fc-border-t",Be&&"fc-liquid"),style:{height:Be?"":le}},p(So,Object.assign({},j,{isLiquid:!0,innerWidthRef:l.createRef(j.key),innerHeightRef:o.createRef(j.key)}))))),E.nowIndicator&&Ve(e.dateProfile.currentRange,d)&&p(Eo,{nowDate:d,dateProfile:e.dateProfile,totalHeight:le!=null?le*fe:void 0}),!!(nt||y)&&p("div",{class:R("fc-border-t fc-filler",nt&&"fc-liquid"),style:{minHeight:y}})))),p("div",{className:"fc-border-s fc-flex-col fc-liquid"},p(Fe,{vertical:_,horizontal:!0,hideScrollbars:P||h,className:R("fc-flex-col fc-rel",_&&"fc-liquid"),ref:this.mainScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},p("div",{className:"fc-flex-col fc-grow fc-rel",style:{width:L,height:Ht}},p(Zi,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:fe,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,className:U?"":"fc-fill",fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,colWidth:ee,slatHeight:le}),!U&&p(G,null,p("div",{"aria-hidden":!0,className:R("fc-timegrid-slots fc-flex-col",_&&E.expandRows&&"fc-grow",x?"fc-fill-x":"fc-rel")},e.slatMetas.map((j,V)=>p("div",{key:j.key,"data-time":j.isoTimeStr,className:R(...li(j),V&&"fc-border-t",Be&&"fc-liquid"),style:{height:Be?"":le}},p(_o,Object.assign({},j,{innerHeightRef:c.createRef(j.key)}))))),nt&&p("div",{class:"fc-liquid fc-border-t fc-filler"})))),!!P&&p(Gl,{isSticky:!0,canvasWidth:L,scrollerRef:this.footScrollerRef,scrollbarWidthRef:this.handleBottomScrollbarWidth})))),p(yr,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.initScrollers(),this.updateSlatHeight()}componentDidUpdate(){this.updateScrollers(),this.updateSlatHeight()}componentWillUnmount(){this.destroyScrollers(),H(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&H(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}initScrollers(){const e=Rl(this.context.pluginHooks);this.dayScroller=new e(!0),this.timeScroller=new e,H(this.props.dayScrollerRef,this.dayScroller),H(this.props.timeScrollerRef,this.timeScroller),this.updateScrollers()}updateScrollers(){this.dayScroller.handleChildren([this.headerScrollerRef.current,this.allDayScrollerRef.current,this.mainScrollerRef.current,this.footScrollerRef.current]),this.timeScroller.handleChildren([this.axisScrollerRef.current,this.mainScrollerRef.current])}destroyScrollers(){H(this.props.dayScrollerRef,null),H(this.props.timeScrollerRef,null)}}class Lp extends W{constructor(){super(...arguments),this.headerLabelInnerWidthRefMap=new ge(()=>{de(this.handleAxisInnerWidths)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,de(this.handleAxisInnerWidths)},this.handleWeekNumberInnerWidth=e=>{this.weekNumberInnerWidth=e,de(this.handleAxisInnerWidths)},this.slatLabelInnerWidthRefMap=new ge(()=>{de(this.handleAxisInnerWidths)}),this.slatLabelInnerHeightRefMap=new ge(()=>{de(this.handleSlatInnerHeights)}),this.slatInnerMainHeightRefMap=new ge(()=>{de(this.handleSlatInnerHeights)}),this.handleTotalWidth=e=>{requestAnimationFrame(()=>{this.setState({totalWidth:e})})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleAxisInnerWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,t=this.slatLabelInnerWidthRefMap.current;let r=Math.max(this.weekNumberInnerWidth||0,this.allDayLabelInnerWidth||0);for(const i of e.values())r=Math.max(r,i);for(const i of t.values())r=Math.max(r,i);this.state.axisWidth!==r&&this.setState({axisWidth:r})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current,t=this.slatInnerMainHeightRefMap.current;let r=0;for(const i of e.values())r=Math.max(r,i);for(const i of t.values())r=Math.max(r,i);this.state.slatInnerHeight!==r&&this.setState({slatInnerHeight:r})}}render(){const{props:e,state:t,context:r,slatLabelInnerWidthRefMap:i,slatLabelInnerHeightRefMap:s,slatInnerMainHeightRefMap:a,headerLabelInnerWidthRefMap:l}=this,{nowDate:o,forPrint:c}=e,{axisWidth:d,clientWidth:u,totalWidth:h}=t,{options:f}=r,m=h!=null&&u!=null?h-u:void 0,g=!c&&!Ke(f),v=!c&&yn(f),y=e.slatMetas.length,[E,D]=vo(g&&f.expandRows,y,t.slatInnerHeight,t.clientHeight);this.slatHeight=E;const _=(E||0)*y,I=g&&!f.expandRows&&t.clientHeight!=null&&t.clientHeight>_,P=c&&!St,x=c&&St,U=P?_:void 0;return p(G,null,f.dayHeaders&&p("div",{role:"rowgroup",className:R("fc-timegrid-header fc-flex-col fc-border-b",v&&"fc-table-header-sticky")},e.headerTiers.map((T,L)=>p("div",{key:L,role:"row",className:R("fc-flex-row",L&&"fc-border-t")},f.weekNumbers&&T.isDateRow?p(Do,{dateProfile:e.dateProfile,innerWidthRef:this.handleWeekNumberInnerWidth,innerHeightRef:l.createRef(L),width:d,isLiquid:!1}):p(Ao,{width:d,isLiquid:!1}),p(qi,Object.assign({},T,{className:"fc-border-s fc-liquid"})),!!m&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:m}})))),p("div",{role:"rowgroup",className:R("fc-flex-col",g&&"fc-liquid")},f.allDaySlot&&p(G,null,p("div",{role:"row",className:"fc-timegrid-allday fc-flex-row"},p(go,{width:d,innerWidthRef:this.handleAllDayLabelInnerWidth}),p(mo,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:c,isHitComboAllowed:e.isHitComboAllowed,className:"fc-border-s fc-liquid",isCompact:$i(u,f),fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows}),!!m&&p("div",{className:"fc-border-s fc-filler",style:{minWidth:m}})),p("div",{className:"fc-rowdivider"})),p(Fe,{vertical:g,className:R("fc-timegrid-body fc-flex-col fc-rel",g&&"fc-liquid"),ref:e.timeScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},p("div",{className:"fc-flex-col fc-grow fc-rel",style:{height:U}},p("div",{role:"row",className:R("fc-flex-row",!x&&"fc-fill")},p("div",{role:"rowheader","aria-label":f.timedText,className:"fc-content-box",style:{width:d}}),p(Zi,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:y,forPrint:c,isHitComboAllowed:e.isHitComboAllowed,className:"fc-liquid fc-border-s",fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,slatHeight:E})),!x&&p(G,null,p("div",{"aria-hidden":!0,className:R("fc-timegrid-slots fc-flex-col",g&&f.expandRows&&"fc-grow",P?"fc-fill-x":"fc-rel")},e.slatMetas.map((T,L)=>p("div",{key:T.key,"data-time":T.isoTimeStr,className:R(...li(T),L&&"fc-border-t",D&&"fc-liquid"),style:{height:D?"":E}},p(So,Object.assign({},T,{innerWidthRef:i.createRef(T.key),innerHeightRef:s.createRef(T.key),width:d})),p(_o,Object.assign({},T,{borderStart:!0,innerHeightRef:a.createRef(T.key)}))))),I&&p("div",{class:"fc-liquid fc-border-t fc-filler"}),f.nowIndicator&&Ve(e.dateProfile.currentRange,o)&&p(Eo,{nowDate:o,dateProfile:e.dateProfile,totalHeight:E!=null?E*y:void 0}))))),p(yr,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.updateSlatHeight()}componentDidUpdate(){this.updateSlatHeight()}componentWillUnmount(){H(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&H(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}}class Bp extends W{constructor(){super(...arguments),this.buildSlatMetas=O(pp),this.dayScrollerRef=ae(),this.timeScrollerRef=ae(),this.scrollState={},this.handleSlatHeight=e=>{this.slatHeight=e,e!=null&&de(this.applyTimeScroll)},this.handleTimeScrollRequest=e=>{this.scrollState.time=e,this.scrollState.y=void 0,this.applyTimeScroll()},this.handleTimeScrollEnd=e=>{if(e){const t=this.timeScrollerRef.current.y;this.props.forPrint||(this.scrollState.y=t,this.scrollState.time=void 0)}},this.applyTimeScroll=()=>{const e=this.timeScrollerRef.current,{slatHeight:t,scrollState:r}=this;let{y:i,time:s}=r;i==null&&s&&t!=null&&e&&(i=yo(s,this.props.dateProfile)*(t*this.currentSlatCnt),i&&i++,r.y=i),i!=null&&e.scrollTo({y:i})}}render(){const{props:e,context:t}=this,{dateProfile:r}=e,{options:i,dateEnv:s}=t,{dayMinWidth:a}=i,l=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,i.slotLabelInterval,i.slotDuration,s);this.currentSlatCnt=l.length;const o=Object.assign(Object.assign({dateProfile:r,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatMetas:l,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,headerTiers:e.headerTiers,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize},Yp(i)),{fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,timeScrollerRef:this.timeScrollerRef,timeScrollState:this.scrollState,slatHeightRef:this.handleSlatHeight});return p(Ci,{attrs:{role:"grid","aria-colcount":e.cells.length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:R(e.className,"fc-border",!e.forPrint&&"fc-flex-col"),viewSpec:t.viewSpec},a?p(Hp,Object.assign({},o,{dayMinWidth:a,dayScrollerRef:this.dayScrollerRef})):p(Lp,Object.assign({},o)))}componentDidMount(){this.resetScroll(),this.context.emitter.on("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.addScrollEndListener(this.handleTimeScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset?this.resetScroll():e.forPrint&&!this.props.forPrint&&this.applyTimeScroll()}componentWillUnmount(){this.context.emitter.off("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.removeScrollEndListener(this.handleTimeScrollEnd)}resetScroll(){this.handleTimeScrollRequest(this.context.options.scrollTime);const e=this.dayScrollerRef.current;e&&e.scrollTo({x:0})}}const Up=5;function Yp(n){let{dayMaxEvents:e,dayMaxEventRows:t}=n;return(e===!0||t===!0)&&(e=void 0,t=Up),{dayMaxEvents:e,dayMaxEventRows:t}}class zp extends gt{constructor(){super(...arguments),this.createDayHeaderFormatter=O(uo),this.buildTimeColsModel=O(vp),this.buildDayRanges=O(yp),this.buildDateRowConfigs=O(ro),this.splitFgEventSegs=O(en),this.splitBgEventSegs=O(en),this.splitBusinessHourSegs=O(en),this.splitNowIndicatorSegs=O(en),this.splitDateSelectionSegs=O(en),this.splitEventDrag=O(sa),this.splitEventResize=O(sa),this.allDaySplitter=new fp,this.dayTableSlicer=new no,this.dayTimeColsSlicer=new hp}render(){const{props:e,context:t}=this,{dateProfile:r}=e,{options:i,dateProfileGenerator:s}=t,a=this.buildTimeColsModel(r,s),l=this.buildDayRanges(a,r,t.dateEnv),o=this.allDaySplitter.splitProps(e),c=this.dayTableSlicer.sliceProps(o.allDay,r,i.nextDayThreshold,t,a),d=this.dayTimeColsSlicer.sliceProps(o.timed,r,null,t,l),u=this.createDayHeaderFormatter(t.options.dayHeaderFormat,!0,a.colCnt);return p(br,{unit:i.nowIndicator?"minute":"day"},(h,f)=>{const m=a.cellRows[0].length,g=i.nowIndicator&&this.dayTimeColsSlicer.sliceNowDate(h,r,i.nextDayThreshold,t,l),v=this.splitFgEventSegs(d.fgEventSegs,m),y=this.splitBgEventSegs(d.bgEventSegs,m),E=this.splitBusinessHourSegs(d.businessHourSegs,m),D=this.splitNowIndicatorSegs(g,m),_=this.splitDateSelectionSegs(d.dateSelectionSegs,m),I=this.splitEventDrag(d.eventDrag,m),P=this.splitEventResize(d.eventResize,m),x=this.buildDateRowConfigs(a.headerDates,!0,e.dateProfile,f,u,t);return p(Bp,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:r,nowDate:h,todayRange:f,cells:a.cellRows[0],forPrint:e.forPrint,className:"fc-timegrid",headerTiers:x,fgEventSegs:c.fgEventSegs,bgEventSegs:c.bgEventSegs,businessHourSegs:c.businessHourSegs,dateSelectionSegs:c.dateSelectionSegs,eventDrag:c.eventDrag,eventResize:c.eventResize,fgEventSegsByCol:v,bgEventSegsByCol:y,businessHourSegsByCol:E,nowIndicatorSegsByCol:D,dateSelectionSegsByCol:_,eventDragByCol:I,eventResizeByCol:P,eventSelection:e.eventSelection})})}}var Wp='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:flex;flex-direction:column}.fc-v-event.fc-event-mirror{z-index:1}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-inner{color:var(--fc-event-text-color);display:flex;flex-direction:column;flex-grow:1;min-height:0}.fc-v-event .fc-event-time{flex-shrink:0;white-space:nowrap}.fc-v-event .fc-event-time,.fc-v-event .fc-event-title{overflow:hidden}.fc-v-event .fc-event-title-outer{display:flex;flex-direction:column;flex-grow:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;position:sticky;top:0}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-timegrid-slot-minor{border-style:dotted}.fc-timegrid-axis{align-items:flex-end}.fc-timegrid-axis,.fc-timegrid-axis-inner{display:flex;flex-direction:column;justify-content:center}.fc-timegrid-axis-inner{min-height:1.5em}.fc-direction-ltr .fc-timegrid-axis-inner{text-align:right}.fc-direction-rtl .fc-timegrid-axis-inner{text-align:left}.fc-timegrid-allday-label-inner{white-space:pre}.fc-timegrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc-direction-ltr .fc-timegrid-day-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-day-events{margin:0 2px 0 2.5%}.fc-timegrid-day-events.fc-timegrid-day-events-simple{margin:4px}.fc-timegrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative}.fc-timegrid-event-inset,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event.fc-event-end{margin-bottom:1px}.fc-timegrid-event .fc-event-inner{padding:1px 1px 0}.fc-timegrid-event-short .fc-event-inner{flex-direction:row;overflow:hidden}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title-outer{flex-basis:0;flex-grow:1;min-height:0;min-width:0}.fc-timegrid-event-short .fc-event-title,.fc-timegrid-more-link{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);border-radius:3px;box-shadow:0 0 0 1px var(--fc-page-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;z-index:9999}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc-timegrid-more-link-inner{padding:3px 2px}.fc-timegrid-now-indicator-container{bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;z-index:2}.fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-bottom:5px solid transparent;border-left-style:solid;border-left-width:6px;border-right-style:solid;border-right-width:6px;border-top:5px solid transparent;height:0;margin-top:-5px;position:absolute;width:0}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-right:0;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-left:0;right:0}.fc-timegrid-now-indicator-line{border-top:1px solid var(--fc-now-indicator-color);left:0;position:absolute;right:0}';ur(Wp);const jp={allDaySlot:Boolean};var Fp=Le({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:jp,views:{timeGrid:{component:zp,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Vp extends W{render(){let{dateEnv:e,options:t,viewApi:r}=this.context,{dayDate:i,todayRange:s}=this.props,a=!this.props.forPrint&&yn(t),l=bn(i,s),o=t.listDayFormat?e.format(i,t.listDayFormat):"",c=t.listDaySideFormat?e.format(i,t.listDaySideFormat):"",d=t.navLinks,u=Object.assign({date:e.toDate(i),view:r,text:o,sideText:c,navLinkAttrs:d?Qt(this.context,i,void 0,o):{},sideNavLinkAttrs:d?Qt(this.context,i,void 0,c,!1):{}},l);return p("div",{className:R("fc-list-day-outer",a&&"fc-list-day-outer-sticky")},p(Ce,{tag:"div",className:R("fc-list-day",nr(l)),attrs:Object.assign({"data-date":hr(i)},l.isToday?{"aria-current":"date"}:{}),renderProps:u,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Gp,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount}))}}function Gp(n){return p(G,null,n.text&&p("div",Object.assign({className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&p("div",Object.assign({className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const $p=ne({hour:"numeric",minute:"2-digit",meridiem:"short"});class qp extends W{constructor(){super(...arguments),this.handleTitleEl=e=>{this.disconnectTitleWidth&&this.disconnectTitleWidth(),e&&(this.disconnectTitleWidth=vr(e,t=>{H(this.props.timeWidthRef,t)}))}}render(){let{props:e,context:t}=this,{eventRange:r}=e,{options:i}=t,s=i.eventTimeFormat||$p,[a,l]=Hi(r,t);return p(wr,Object.assign({},e,{tag:a,attrs:Object.assign({role:"listitem"},l),className:"fc-list-event",defaultGenerator:Qp,timeText:"",disableDragging:!0,disableResizing:!0}),(o,c)=>p(G,null,p("div",{className:"fc-list-event-time-outer",style:{width:e.timeOuterWidth}},this.buildTimeContent(r,e.slicedStart,e.slicedEnd,e.isStart,e.isEnd,s,t)),p("div",{className:"fc-list-event-dot-outer"},p("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),p(o,{tag:"div",className:"fc-list-event-title"})))}buildTimeContent(e,t,r,i,s,a,l){let{options:o}=l;if(o.displayEventTime!==!1)if(e.def.allDay||!i&&!s){let c={text:l.options.allDayText,view:l.viewApi};return p(Ce,{tag:"div",className:"fc-list-event-time",renderProps:c,elRef:this.handleTitleEl,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:Zp,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}else return p("div",{className:"fc-list-event-time",ref:this.handleTitleEl},Pi(a,e,t,r,i,s,l));return null}componentWillUnmount(){H(this.props.timeWidthRef,null)}}function Qp(n){return n.event.title}function Zp(n){return n.text}class Xp extends W{constructor(){super(...arguments),this.sortEventSegs=O(Ni),this.timeWidthRefMap=new ge(()=>{de(this.handleTimeWidths)}),this.handleTimeWidths=()=>{const e=this.timeWidthRefMap.current;let t=0;for(const r of e.values())t=Math.max(t,r);H(this.props.timeWidthRef,t)}}render(){const{props:e,context:t,timeWidthRefMap:r}=this,{nowDate:i,todayRange:s}=e,{options:a}=t,l=this.sortEventSegs(e.segs,a.eventOrder),o=Jt(this.context,e.dayDate);return p("div",{role:"listitem","aria-label":o,className:"fc-list-day-and-events"},p(Vp,{dayDate:e.dayDate,todayRange:s,forPrint:e.forPrint}),p("div",{role:"list","aria-label":a.eventsHint},l.map(c=>{const d=mr(c);return p(qp,Object.assign({key:d,eventRange:c.eventRange,slicedStart:c.slicedStart,slicedEnd:c.slicedEnd,isStart:c.isStart,isEnd:c.isEnd,timeWidthRef:r.createRef(d),timeOuterWidth:e.timeOuterWidth,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},Ze(c.eventRange,s,i)))})))}componentWillUnmount(){H(this.props.timeWidthRef,null)}}class Jp extends gt{constructor(){super(...arguments),this.computeDateVars=O(eg),this.eventStoreToSegs=O(this._eventStoreToSegs),this.timeWidthRefMap=new ge(()=>{de(this.handleTimeWidths)}),this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,disableHits:!0}):this.context.unregisterInteractiveComponent(this)},this.handleTimeWidths=()=>{const e=this.timeWidthRefMap.current;let t=0;for(const r of e.values())t=Math.max(t,r);this.setState({timeOuterWidth:t})}}render(){let{props:e,context:t}=this,{options:r}=t,{dayDates:i,dayRanges:s}=this.computeDateVars(e.dateProfile),a=this.eventStoreToSegs(e.eventStore,e.eventUiBases,s),l=!e.forPrint&&!Ke(r);return p(Ci,{viewSpec:t.viewSpec,className:"fc-list fc-flex-col fc-border",elRef:this.setRootEl},p(Fe,{vertical:l,className:l?"fc-liquid":""},this.renderSegList(a,i),!a.length&&this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,r={text:e.noEventsText,view:t};return p(Ce,{tag:"div",attrs:{role:"status"},className:"fc-list-empty",renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Kp,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>p(i,{tag:"div",className:"fc-list-empty-inner"}))}renderSegList(e,t){let r=tg(e);return p("div",{role:"list","aria-labelledby":this.props.labelId,"aria-label":this.props.labelStr},p(br,{unit:"day"},(i,s)=>{const a=[];for(let l=0;l<r.length;l+=1){let o=r[l];if(o){const c=t[l],d=hr(c);a.push(p(Xp,{key:d,dayDate:c,nowDate:i,todayRange:s,segs:o,forPrint:this.props.forPrint,timeWidthRef:this.timeWidthRefMap.createRef(d),timeOuterWidth:this.state.timeOuterWidth}))}}return p(G,null,a)}))}_eventStoreToSegs(e,t,r){return this.eventRangesToSegs(Jr(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,t){let r=[];for(let i of e)r.push(...this.eventRangeToSegs(i,t));return r}eventRangeToSegs(e,t){let r=e.range,i,s=[];for(i=0;i<t.length;i+=1){const a=Rt(r,t[i]);a&&s.push({eventRange:e,slicedStart:a.start,slicedEnd:a.end,isStart:e.isStart&&r.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===a.end.valueOf(),dayIndex:i})}return s}}function Kp(n){return n.text}function eg(n){let e=te(n.renderRange.start),t=n.renderRange.end,r=[],i=[];for(;e<t;)r.push(e),i.push({start:e,end:ue(e,1)}),e=ue(e,1);return{dayDates:r,dayRanges:i}}function tg(n){let e=[],t,r;for(t=0;t<n.length;t+=1)r=n[t],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var ng=":root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-list-day,.fc-list-event-dot-outer,.fc-list-event-time,.fc-list-event-title{padding:8px 14px}.fc-direction-ltr .fc-list-event-dot-outer{padding-right:0}.fc-direction-rtl .fc-list-event-dot-outer{padding-left:0}.fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc-list-empty-inner{margin:5em 0}.fc-list-day,.fc-list-day-and-events:not(:last-child),.fc-list-event:not(:last-child){border-bottom:1px solid var(--fc-border-color)}.fc-list-day-outer-sticky{background:var(--fc-page-bg-color);position:sticky;top:0}.fc-list-day{background:var(--fc-neutral-bg-color);display:flex;font-weight:700;justify-content:space-between}.fc-list-event{display:flex;flex-direction:row}a.fc-list-event{color:inherit;text-decoration:none}.fc-list-event:hover{background-color:var(--fc-list-event-hover-bg-color)}.fc-list-event-time-outer{display:flex;flex-direction:row}.fc-list-event-dot-outer,.fc-list-event-time{white-space:nowrap}.fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}a.fc-list-event:hover .fc-list-event-title{text-decoration:underline}";ur(ng);const rg={listDayFormat:ca,listDaySideFormat:ca,noEventsClassNames:b,noEventsContent:b,noEventsDidMount:b,noEventsWillUnmount:b};function ca(n){return n===!1?null:ne(n)}var ig=Le({name:"@fullcalendar/list",optionRefiners:rg,views:{list:{component:Jp,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});zi.touchMouseIgnoreWait=500;let oi=0,ir=0,ci=!1;class Co{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&sg(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=t.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{if(this.isDragging){let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)}},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,ag()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new mn,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),lg()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),og()}cancel(){this.isDragging&&this.cleanup()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||r.closest(this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ci=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?e.target.closest(this.selector):this.containerEl}shouldIgnoreMouse(){return oi||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ci=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,t){let r=e.touches,i,s,a=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),t?(this.origPageX=i,this.origPageY=s):(a=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:a,deltaY:l}}}function sg(n){return n.button===0&&!n.ctrlKey}function ag(){oi+=1,setTimeout(()=>{oi-=1},zi.touchMouseIgnoreWait)}function lg(){ir+=1,ir===1&&window.addEventListener("touchmove",xo,{passive:!1})}function og(){ir-=1,ir||window.removeEventListener("touchmove",xo,{passive:!1})}function xo(n){ci&&n.preventDefault()}class cg{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",Wn(r,{left:i.left,top:i.top}),vc(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(this.mirrorEl.remove(),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Wn(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Wn(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class To extends Yi{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ro extends To{constructor(e,t){super(new Lu(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Nu(this.scrollController.el)}}class dg extends To{constructor(e){super(new Bu,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const da=typeof performance=="function"?performance.now:Date.now;class ug{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=da();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,i=t-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(da()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,a=s*s/(i*i)*this.maxVelocity*t,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,o=e-l.left,c=l.right-e,d=t-l.top,u=l.bottom-t;o>=0&&c>=0&&d>=0&&u>=0&&(d<=r&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"top",distance:d}),u<=r&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"bottom",distance:u}),o<=r&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>o)&&(i={scrollCache:a,name:"left",distance:o}),c<=r&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:a,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new dg(!1):new Ro(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class wn extends Vu{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.emitter.trigger("pointerdown",i),this.isInteracting&&(yc(document.body),wc(document.body),i.isTouch||i.origEvent.preventDefault(),this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:o}=i;a=l*l+o*o,a>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,bc(document.body),Ec(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Co(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new cg,this.autoScroller=new ug}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}cancel(){this.isInteracting&&(this.isInteracting=!1,this.pointer.cancel())}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class fg{constructor(e){this.el=e,this.origRect=Ui(e),this.scrollCaches=Ml(e).map(t=>new Ro(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let i of this.scrollCaches)if(!hg(i.getEventTarget())&&!Au(r,i.clientRect))return!1;return!0}}function hg(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Er{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?this.emitter.trigger("pointerdown",r):i.cancel()},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new mn}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl,s;i instanceof HTMLElement&&(s=Ui(i),r=Cu(r,s));let a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&s){let l=Il(s,a.rect);l&&(r=xu(l))}this.coordAdjust=Tu(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Sr(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Je(this.droppableStore,e=>(e.component.prepareHits(),new fg(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let a in r){let l=r[a].component,o=i[a];if(o&&o.isWithinClipping(e,t)){let c=o.computeLeft(),d=o.computeTop(),u=e-c,h=t-d,{origRect:f}=o,m=f.right-f.left,g=f.bottom-f.top;if(u>=0&&u<m&&h>=0&&h<g){let v=l.queryHit(u,h,m,g);v&&pr(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(u+c-window.scrollX,h+d-window.scrollY)))&&(!s||v.layer>s.layer)&&(v.componentId=a,v.context=l.context,v.rect.left+=c,v.rect.right+=c,v.rect.top+=d,v.rect.bottom+=d,s=v)}}}return s}}function Sr(n,e){return!n&&!e?!0:!!n!=!!e?!1:du(n.dateSpan,e.dateSpan)}function Io(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,pg(n,e.dateEnv)),t}function pg(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class gg extends Xt{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;this.component.context.emitter.hasHandlers("dateClick")&&this.component.isValidDateDownEl(s)||i.cancel()},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&Sr(a,l)){let{context:o}=i,c=Object.assign(Object.assign({},Io(a.dateSpan,o)),{dayEl:a.getDayEl(),jsEvent:r.origEvent,view:o.viewApi||o.calendarApi.view});o.emitter.trigger("dateClick",c)}}},this.dragging=new wn(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Er(this.dragging,Li(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class mg extends Xt{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:o}=this,{options:c}=l.context;c.selectable&&l.isValidDateDownEl(a.origEvent.target)?o.delay=a.isTouch?vg(l):null:o.cancel()},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:o}=this.component,c=null,d=!1;if(a){let u=this.hitDragging.initialHit;a.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,a)||(c=yg(u,a,o.pluginHooks.dateSelectionTransformers)),(!c||!Ju(c,a.dateProfile,o))&&(d=!0,c=null)}c?o.dispatch({type:"SELECT_DATES",selection:c}):l||o.dispatch({type:"UNSELECT_DATES"}),d?bi():wi(),l||(this.dragSelection=c)},this.handlePointerUp=a=>{this.dragSelection&&(vl(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,i=this.dragging=new wn(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Er(this.dragging,Li(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function vg(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function yg(n,e,t){let r=n.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(Cc);let a={};for(let l of t){let o=l(n,e);if(o===!1)return null;o&&Object.assign(a,o)}return a.range={start:s[0],end:s[3]},a.allDay=r.allDay,a}class En extends Xt{constructor(e){super(e),this.subjectEl=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:o,dragging:c}=this,{mirror:d}=c,{options:u}=o.context,h=o.context;this.subjectEl=a.subjectEl;let m=(this.eventRange=qt(a.subjectEl)).instance.instanceId;this.relevantEvents=Ii(h.getCurrentData().eventStore,m),c.minDistance=a.isTouch?0:u.eventDragMinDistance,c.delay=a.isTouch&&m!==o.props.eventSelection?wg(o):null,u.fixedMirrorParent?d.parentNode=u.fixedMirrorParent:d.parentNode=l.closest(".fc"),d.revertDuration=u.dragRevertDuration,o.isValidSegDownEl(l)&&!l.closest(".fc-event-resizer")?this.isDragging=a.subjectEl.classList.contains("fc-event-draggable"):c.cancel()},this.handleDragStart=a=>{let l=this.component.context,o=this.eventRange,c=o.instance.instanceId;a.isTouch?c!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ie(l,o.def,o.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let o=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,u=null,h=null,f=null,m=!1,g={affectedEvents:o,mutatedEvents:ke(),isEvent:!0};if(a){u=a.context;let v=u.options;d===u||v.editable&&v.droppable?(h=bg(c,a,this.eventRange.instance.range.start,u.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(f=ki(o,u.getCurrentData().eventUiBases,h,u),g.mutatedEvents=f,Ll(g,a.dateProfile,u)||(m=!0,h=null,f=null,g.mutatedEvents=ke()))):u=null}this.displayDrag(u,g),m?bi():wi(),l||(d===u&&Sr(c,a)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=u,this.validMutation=h,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,o=l.viewApi,{receivingContext:c,validMutation:d}=this,u=this.eventRange.def,h=this.eventRange.instance,f=new ie(l,u,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:a.origEvent,view:o}),d){if(c===l){let y=new ie(l,g.defs[u.defId],h?g.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:g});let E={oldEvent:f,event:y,relatedEvents:Et(g,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}},D={};for(let _ of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(D,_(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),D),{el:a.subjectEl,delta:d.datesDelta,jsEvent:a.origEvent,view:o})),l.emitter.trigger("eventChange",E)}else if(c){let y={event:f,relatedEvents:Et(m,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:a.subjectEl,view:o})),l.dispatch({type:"REMOVE_EVENTS",eventStore:m}),l.emitter.trigger("eventRemove",y);let E=g.defs[u.defId],D=g.instances[h.instanceId],_=new ie(c,E,D);c.dispatch({type:"MERGE_EVENTS",eventStore:g});let I={event:_,relatedEvents:Et(g,c,D),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};c.emitter.trigger("eventAdd",I),a.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},Io(v.dateSpan,c)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:v.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},I),{draggedEl:a.subjectEl,view:v.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,i=this.dragging=new wn(e.el);i.pointer.selector=En.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Er(this.dragging,ni);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:ke(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}En.SELECTOR=".fc-event-draggable, .fc-event-resizable";function bg(n,e,t,r){let i=n.dateSpan,s=e.dateSpan,a=i.range.start,l=s.range.start,o={};i.allDay!==s.allDay&&(o.allDay=s.allDay,o.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=te(t):a=t);let c=zt(a,l,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(o.allDay=!1);let d={datesDelta:c,standardProps:o};for(let u of r)u(d,n,e);return d}function wg(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class Eg extends Xt{constructor(e){super(e),this.draggingSegEl=null,this.draggingEventRange=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),o=this.eventRange=qt(l);this.dragging.minDistance=a.context.options.eventDragMinDistance,this.component.isValidSegDownEl(s.origEvent.target)&&!(s.isTouch&&this.component.props.eventSelection!==o.instance.instanceId)||this.dragging.cancel()},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=Ii(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let o=this.querySegEl(s);this.draggingSegEl=o,this.draggingEventRange=qt(o),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:o,event:new ie(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:o}=this.component,c=this.relevantEvents,d=this.hitDragging.initialHit,u=this.eventRange.instance,h=null,f=null,m=!1,g={affectedEvents:c,mutatedEvents:ke(),isEvent:!0};s&&(s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(h=Sg(d,s,l.subjectEl.classList.contains("fc-event-resizer-start"),u.range))),h&&(f=ki(c,o.getCurrentData().eventUiBases,h,o),g.mutatedEvents=f,Ll(g,s.dateProfile,o)||(m=!0,h=null,f=null,g.mutatedEvents=null)),f?o.dispatch({type:"SET_EVENT_RESIZE",state:g}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),m?bi():wi(),a||(h&&Sr(d,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,o=this.eventRange.instance,c=new ie(a,l,o),d=this.relevantEvents,u=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let h=new ie(a,u.defs[l.defId],o?u.instances[o.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:u});let f={oldEvent:c,event:h,relatedEvents:Et(u,a,o),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:d})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Q(0),endDelta:this.validMutation.endDelta||Q(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",f)}else a.emitter.trigger("_noEventResize");this.draggingEventRange=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new wn(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let i=this.hitDragging=new Er(this.dragging,Li(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return e.subjectEl.closest(".fc-event")}}function Sg(n,e,t,r){let i=n.context.dateEnv,s=n.dateSpan.range.start,a=e.dateSpan.range.start,l=zt(s,a,i,n.largeUnit);if(t){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class _g{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=xl(r.origEvent);this.matchesCancel=!!s.closest(i),this.matchesEvent=!!s.closest(En.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,a=i.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}a.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Co(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Dg={fixedMirrorParent:b},Ag={dateClick:b,eventDragStart:b,eventDragStop:b,eventDrop:b,eventResizeStart:b,eventResizeStop:b,eventResize:b,drop:b,eventReceive:b,eventLeave:b};zi.dataAttrPrefix="";var Cg=Le({name:"@fullcalendar/interaction",componentInteractions:[gg,mg,En,Eg],calendarInteractions:[_g],elementDraggingImpl:wn,optionRefiners:Dg,listenerRefiners:Ag});class _r{static fromString(e){return new _r(e)}constructor(e){this.value=e}icaltype="binary";decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,i,s,a,l,o,c,d,u=0,h=0,f="",m=[];if(!e)return e;do r=e.charCodeAt(u++),i=e.charCodeAt(u++),s=e.charCodeAt(u++),d=r<<16|i<<8|s,a=d>>18&63,l=d>>12&63,o=d>>6&63,c=d&63,m[h++]=t.charAt(a)+t.charAt(l)+t.charAt(o)+t.charAt(c);while(u<e.length);f=m.join("");let g=e.length%3;return(g?f.slice(0,g-3):f)+"===".slice(g||3)}_b64_decode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,i,s,a,l,o,c,d,u=0,h=0,f="",m=[];if(!e)return e;e+="";do a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=a<<18|l<<12|o<<6|c,r=d>>16&255,i=d>>8&255,s=d&255,o==64?m[h++]=String.fromCharCode(r):c==64?m[h++]=String.fromCharCode(r,i):m[h++]=String.fromCharCode(r,i,s);while(u<e.length);return f=m.join(""),f}toString(){return this.value}}const xg=/([PDWHMTS]{1,1})/,Tg=["weeks","days","hours","minutes","seconds","isNegative"];class we{static fromSeconds(e){return new we().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let t=0,r=Object.create(null),i=0;for(;(t=e.search(xg))!==-1;){let s=e[t],a=e.slice(0,Math.max(0,t));e=e.slice(t+1),i+=Rg(s,a,r)}if(i<2)throw new Error('invalid duration value: Not enough duration components in "'+e+'"');return new we(r)}static fromData(e){return new we(e)}constructor(e){this.wrappedJSObject=this,this.fromData(e)}weeks=0;days=0;hours=0;minutes=0;seconds=0;isNegative=!1;icalclass="icalduration";icaltype="duration";clone(){return we.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let t=Math.abs(e);return this.isNegative=e<0,this.days=pe(t/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,t-=(this.days+7*this.weeks)*86400,this.hours=pe(t/3600),t-=this.hours*3600,this.minutes=pe(t/60),t-=this.minutes*60,this.seconds=t,this}fromData(e){for(let t of Tg)e&&t in e?this[t]=e[t]:this[t]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let t=this.toSeconds(),r=e.toSeconds();return(t>r)-(t<r)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";this.isNegative&&(e+="-"),e+="P";let t=!1;return this.weeks?this.days||this.hours||this.minutes||this.seconds?e+=this.weeks*7+this.days+"D":(e+=this.weeks+"W",t=!0):this.days&&(e+=this.days+"D"),t||(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}}function Rg(n,e,t){let r;switch(n){case"P":e&&e==="-"?t.isNegative=!0:t.isNegative=!1;break;case"D":r="days";break;case"W":r="weeks";break;case"H":r="hours";break;case"M":r="minutes";break;case"S":r="seconds";break;default:return 0}if(r){if(!e&&e!==0)throw new Error('invalid duration value: Missing number before "'+n+'"');let i=parseInt(e,10);if(on(i))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+n+'"');t[r]=i}return 1}class qe{static fromString(e,t){let r=e.split("/");if(r.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');let i={start:S.fromDateTimeString(r[0],t)},s=r[1];return we.isValueString(s)?i.duration=we.fromString(s):i.end=S.fromDateTimeString(s,t),new qe(i)}static fromData(e){return new qe(e)}static fromJSON(e,t,r){function i(s,a){return r?S.fromString(s,a):S.fromDateTimeString(s,a)}return we.isValueString(e[1])?qe.fromData({start:i(e[0],t),duration:we.fromString(e[1])}):qe.fromData({start:i(e[0],t),end:i(e[1],t)})}constructor(e){if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof S))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof S))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof we))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}start=null;end=null;duration=null;icalclass="icalperiod";icaltype="period";clone(){return qe.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}compare(e){return e.compare(this.start)<0?1:e.compare(this.getEnd())>0?-1:0}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}}class S{static _dowCache={};static _wnCache={};static daysInMonth(e,t){let r=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=30;return e<1||e>12||(i=r[e],e==2&&(i+=S.isLeapYear(t))),i}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,t){let r=t,i=e,s=new S;s.auto_normalize=!1;let a=S.isLeapYear(r)?1:0;if(i<1)return r--,a=S.isLeapYear(r)?1:0,i+=S.daysInYearPassedMonth[a][12],S.fromDayOfYear(i,r);if(i>S.daysInYearPassedMonth[a][12])return a=S.isLeapYear(r)?1:0,i-=S.daysInYearPassedMonth[a][12],r++,S.fromDayOfYear(i,r);s.year=r,s.isDate=!0;for(let l=11;l>=0;l--)if(i>S.daysInYearPassedMonth[a][l]){s.month=l+1,s.day=i-S.daysInYearPassedMonth[a][l];break}return s.auto_normalize=!0,s}static fromStringv2(e){return new S({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new S({year:ye(e.slice(0,4)),month:ye(e.slice(5,7)),day:ye(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,t){if(e.length<19)throw new Error('invalid date-time value: "'+e+'"');let r,i;e.slice(-1)==="Z"?r=k.utcTimezone:t&&(i=t.getParameter("tzid"),t.parent&&(t.parent.name==="standard"||t.parent.name==="daylight"?r=k.localTimezone:i&&(r=t.parent.getTimeZoneByID(i))));const s={year:ye(e.slice(0,4)),month:ye(e.slice(5,7)),day:ye(e.slice(8,10)),hour:ye(e.slice(11,13)),minute:ye(e.slice(14,16)),second:ye(e.slice(17,19))};return i&&!r&&(s.timezone=i),new S(s,r)}static fromString(e,t){return e.length>10?S.fromDateTimeString(e,t):S.fromDateString(e)}static fromJSDate(e,t){return new S().fromJSDate(e,t)}static fromData=function(t,r){return new S().fromData(t,r)};static now(){return S.fromJSDate(new Date,!1)}static weekOneStarts(e,t){let r=S.fromData({year:e,month:1,day:1,isDate:!0}),i=r.dayOfWeek(),s=t||S.DEFAULT_WEEK_START;return i>S.THURSDAY&&(r.day+=7),s>S.THURSDAY&&(r.day-=7),r.day-=i-s,r}static getDominicalLetter(e){let t="GFEDCBA",r=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return S.isLeapYear(e)?t[(r+6)%7]+t[r]:t[r]}static#e=null;static get epochTime(){return this.#e||(this.#e=S.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),this.#e}static _cmp_attr(e,t,r){return e[r]>t[r]?1:e[r]<t[r]?-1:0}static daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]];static SUNDAY=1;static MONDAY=2;static TUESDAY=3;static WEDNESDAY=4;static THURSDAY=5;static FRIDAY=6;static SATURDAY=7;static DEFAULT_WEEK_START=2;constructor(e,t){this.wrappedJSObject=this,this._time=Object.create(null),this._time.year=0,this._time.month=1,this._time.day=1,this._time.hour=0,this._time.minute=0,this._time.second=0,this._time.isDate=!1,this.fromData(e,t)}icalclass="icaltime";_cachedUnixTime=null;get icaltype(){return this.isDate?"date":"date-time"}zone=null;_pendingNormalization=!1;get year(){return this._getTimeAttr("year")}set year(e){this._setTimeAttr("year",e)}get month(){return this._getTimeAttr("month")}set month(e){this._setTimeAttr("month",e)}get day(){return this._getTimeAttr("day")}set day(e){this._setTimeAttr("day",e)}get hour(){return this._getTimeAttr("hour")}set hour(e){this._setTimeAttr("hour",e)}get minute(){return this._getTimeAttr("minute")}set minute(e){this._setTimeAttr("minute",e)}get second(){return this._getTimeAttr("second")}set second(e){this._setTimeAttr("second",e)}get isDate(){return this._getTimeAttr("isDate")}set isDate(e){this._setTimeAttr("isDate",e)}_getTimeAttr(e){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[e]}_setTimeAttr(e,t){e==="isDate"&&t&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[e]=t}clone(){return new S(this._time,this.zone)}reset(){this.fromData(S.epochTime),this.zone=k.utcTimezone}resetTo(e,t,r,i,s,a,l){this.fromData({year:e,month:t,day:r,hour:i,minute:s,second:a,zone:l})}fromJSDate(e,t){return e?t?(this.zone=k.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=k.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,t){if(e)for(let[r,i]of Object.entries(e))r!=="icaltype"&&(this[r]=i);if(t&&(this.zone=t),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let r=ar.get(e.timezone);this.zone=r||k.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=k.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let t=e||S.SUNDAY,r=(this.year<<12)+(this.month<<8)+(this.day<<3)+t;if(r in S._dowCache)return S._dowCache[r];let i=this.day,s=this.month+(this.month<3?12:0),a=this.year-(this.month<3?1:0),l=i+a+pe((s+1)*26/10)+pe(a/4);return l+=pe(a/100)*6+pe(a/400),l=(l+7-t)%7+1,S._dowCache[r]=l,l}dayOfYear(){let e=S.isLeapYear(this.year)?1:0;return S.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let t=e||S.SUNDAY,r=this.clone();return r.day-=(this.dayOfWeek()+7-t)%7,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r}endOfWeek(e){let t=e||S.SUNDAY,r=this.clone();return r.day+=(7-this.dayOfWeek()+t-S.SUNDAY)%7,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=S.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let t=e||S.SUNDAY,r=this.dayOfWeek()-t;return r<0&&(r+=7),this.dayOfYear()-r}getDominicalLetter(){return S.getDominicalLetter(this.year)}nthWeekDay(e,t){let r=S.daysInMonth(this.month,this.year),i,s=t,a=0,l=this.clone();if(s>=0){l.day=1,s!=0&&s--,a=l.day;let o=l.dayOfWeek(),c=e-o;c<0&&(c+=7),a+=c,a-=e,i=e}else{l.day=r;let o=l.dayOfWeek();s++,i=o-e,i<0&&(i+=7),i=r-i}return i+=s*7,a+i}isNthWeekDay(e,t){let r=this.dayOfWeek();return t===0&&r===e||this.nthWeekDay(e,t)===this.day}weekNumber(e){let t=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(t in S._wnCache)return S._wnCache[t];let r,i=this.clone();i.isDate=!0;let s=this.year;i.month==12&&i.day>25?(r=S.weekOneStarts(s+1,e),i.compare(r)<0?r=S.weekOneStarts(s,e):s++):(r=S.weekOneStarts(s,e),i.compare(r)<0&&(r=S.weekOneStarts(--s,e)));let a=i.subtractDate(r).toSeconds()/86400,l=pe(a/7)+1;return S._wnCache[t]=l,l}addDuration(e){let t=e.isNegative?-1:1,r=this.second,i=this.minute,s=this.hour,a=this.day;r+=t*e.seconds,i+=t*e.minutes,s+=t*e.hours,a+=t*e.days,a+=t*7*e.weeks,this.second=r,this.minute=i,this.hour=s,this.day=a,this._cachedUnixTime=null}subtractDate(e){let t=this.toUnixTime()+this.utcOffset(),r=e.toUnixTime()+e.utcOffset();return we.fromSeconds(t-r)}subtractDateTz(e){let t=this.toUnixTime(),r=e.toUnixTime();return we.fromSeconds(t-r)}compare(e){if(e instanceof qe)return-1*e.compare(this);{let t=this.toUnixTime(),r=e.toUnixTime();return t>r?1:r>t?-1:0}}compareDateOnlyTz(e,t){let r=this.convertToZone(t),i=e.convertToZone(t),s=0;return(s=S._cmp_attr(r,i,"year"))!=0||(s=S._cmp_attr(r,i,"month"))!=0||(s=S._cmp_attr(r,i,"day"))!=0,s}convertToZone(e){let t=this.clone(),r=this.zone.tzid==e.tzid;return!this.isDate&&!r&&k.convert_time(t,this.zone,e),t.zone=e,t}utcOffset(){return this.zone==k.localTimezone||this.zone==k.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?ce.icalendar.value["date-time"].toICAL(e):ce.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+Te(this.month)+"-"+Te(this.day);return this.isDate||(e+="T"+Te(this.hour)+":"+Te(this.minute)+":"+Te(this.second),this.zone===k.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==k.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,t,r,i,s){let a,l,o=0,c=0,d,u,h,f,m,g=s||this._time;if(g.isDate||(d=g.second+i,g.second=d%60,a=pe(d/60),g.second<0&&(g.second+=60,a--),u=g.minute+r+a,g.minute=u%60,l=pe(u/60),g.minute<0&&(g.minute+=60,l--),h=g.hour+t+l,g.hour=h%24,o=pe(h/24),g.hour<0&&(g.hour+=24,o--)),g.month>12?c=pe((g.month-1)/12):g.month<1&&(c=pe(g.month/12)-1),g.year+=c,g.month-=12*c,f=g.day+e+o,f>0)for(;m=S.daysInMonth(g.month,g.year),!(f<=m);)g.month++,g.month>12&&(g.year++,g.month=1),f-=m;else for(;f<=0;)g.month==1?(g.year--,g.month=12):g.month--,f+=S.daysInMonth(g.month,g.year);return g.day=f,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=k.utcTimezone;let t=new Date(e*1e3);this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=t/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],t=Object.create(null),r=0,i=e.length,s;for(;r<i;r++)s=e[r],t[s]=this[s];return this.zone&&(t.timezone=this.zone.tzid),t}}const Ig=/[^ \t]/,sr=":",di=";",Mg="=",Og="unknown",kg="text",Ng={"^'":'"',"^n":`
`,"^^":"^"};function J(n){let e={},t=e.component=[];if(e.stack=[t],J._eachLine(n,function(r,i){J._handleContentLine(i,e)}),e.stack.length>1)throw new _t("invalid ical body. component began but did not end");return e=null,t.length==1?t[0]:t}J.property=function(n,e){let t={component:[[],[]],designSet:e||ce.defaultSet};return J._handleContentLine(n,t),t.component[1][0]};J.component=function(n){return J(n)};class _t extends Error{name=this.constructor.name}J.ParserError=_t;J._handleContentLine=function(n,e){let t=n.indexOf(sr),r=n.indexOf(di),i,s,a,l,o={};r!==-1&&t!==-1&&r>t&&(r=-1);let c;if(r!==-1){if(a=n.slice(0,Math.max(0,r)).toLowerCase(),c=J._parseParameters(n.slice(Math.max(0,r)),0,e.designSet),c[2]==-1)throw new _t("Invalid parameters in '"+n+"'");o=c[0];let y;if(typeof c[1]=="string"?y=c[1].length:y=c[1].reduce((E,D)=>E+D.length,0),i=y+c[2]+r,(s=n.slice(Math.max(0,i)).indexOf(sr))!==-1)l=n.slice(Math.max(0,i+s+1));else throw new _t("Missing parameter value in '"+n+"'")}else if(t!==-1){if(a=n.slice(0,Math.max(0,t)).toLowerCase(),l=n.slice(Math.max(0,t+1)),a==="begin"){let y=[l.toLowerCase(),[],[]];e.stack.length===1?e.component.push(y):e.component[2].push(y),e.stack.push(e.component),e.component=y,e.designSet||(e.designSet=ce.getDesignSet(e.component[0]));return}else if(a==="end"){e.component=e.stack.pop();return}}else throw new _t('invalid line (no token ";" or ":") "'+n+'"');let d,u=!1,h=!1,f,m,g;e.designSet.propertyGroups&&a.indexOf(".")!==-1?(m=a.split("."),o.group=m[0],g=m[1]):g=a,g in e.designSet.property&&(f=e.designSet.property[g],"multiValue"in f&&(u=f.multiValue),"structuredValue"in f&&(h=f.structuredValue),l&&"detectType"in f&&(d=f.detectType(l))),d||("value"in o?d=o.value.toLowerCase():f?d=f.defaultType:d=Og),delete o.value;let v;u&&h?(l=J._parseMultiValue(l,h,d,[],u,e.designSet,h),v=[g,o,d,l]):u?(v=[g,o,d],J._parseMultiValue(l,u,d,v,null,e.designSet,!1)):h?(l=J._parseMultiValue(l,h,d,[],null,e.designSet,h),v=[g,o,d,l]):(l=J._parseValue(l,d,e.designSet,!1),v=[g,o,d,l]),e.component[0]==="vcard"&&e.component[1].length===0&&!(a==="version"&&l==="4.0")&&(e.designSet=ce.getDesignSet("vcard3")),e.component[1].push(v)};J._parseValue=function(n,e,t,r){return e in t.value&&"fromICAL"in t.value[e]?t.value[e].fromICAL(n,r):n};J._parseParameters=function(n,e,t){let r=e,i=0,s=Mg,a={},l,o,c,d=-1,u,h,f;for(;i!==!1&&(i=n.indexOf(s,i+1))!==-1;){if(l=n.slice(r+1,i),l.length==0)throw new _t("Empty parameter name in '"+n+"'");if(o=l.toLowerCase(),f=!1,h=!1,o in t.param&&t.param[o].valueType?u=t.param[o].valueType:u=kg,o in t.param&&(h=t.param[o].multiValue,t.param[o].multiValueSeparateDQuote&&(f=J._rfc6868Escape('"'+h+'"'))),n[i+1]==='"'){if(d=i+2,i=n.indexOf('"',d),h&&i!=-1){let y=!0;for(;y;)n[i+1]==h&&n[i+2]=='"'?i=n.indexOf('"',i+3):y=!1}if(i===-1)throw new _t('invalid line (no matching double quote) "'+n+'"');c=n.slice(d,i),r=n.indexOf(di,i);let v=n.indexOf(sr,i);(r===-1||v!==-1&&r>v)&&(i=!1)}else{d=i+1;let v=n.indexOf(di,d),y=n.indexOf(sr,d);y!==-1&&v>y?(v=y,i=!1):v===-1?(y===-1?v=n.length:v=y,i=!1):(r=v,i=v),c=n.slice(d,v)}const g=c.length;if(c=J._rfc6868Escape(c),d+=g-c.length,h){let v=f||h;c=J._parseMultiValue(c,v,u,[],null,t)}else c=J._parseValue(c,u,t);h&&o in a?Array.isArray(a[o])?a[o].push(c):a[o]=[a[o],c]:a[o]=c}return[a,c,d]};J._rfc6868Escape=function(n){return n.replace(/\^['n^]/g,function(e){return Ng[e]})};J._parseMultiValue=function(n,e,t,r,i,s,a){let l=0,o=0,c;if(e.length===0)return n;for(;(l=Mo(n,e,o))!==-1;)c=n.slice(o,l),i?c=J._parseMultiValue(c,i,t,[],null,s,a):c=J._parseValue(c,t,s,a),r.push(c),o=l+e.length;return c=n.slice(o),i?c=J._parseMultiValue(c,i,t,[],null,s,a):c=J._parseValue(c,t,s,a),r.push(c),r.length==1?r[0]:r};J._eachLine=function(n,e){let t=n.length,r=n.search(Ig),i=r,s,a,l;do i=n.indexOf(`
`,r)+1,i>1&&n[i-2]==="\r"?l=2:l=1,i===0&&(i=t,l=0),a=n[r],a===" "||a==="	"?s+=n.slice(r+1,i-l):(s&&e(null,s),s=n.slice(r,i-l)),r=i;while(i!==t);s=s.trim(),s.length&&e(null,s)};const Pg=["tzid","location","tznames","latitude","longitude"];class k{static _compare_change_fn(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:e.hour<t.hour?-1:e.hour>t.hour?1:e.minute<t.minute?-1:e.minute>t.minute?1:e.second<t.second?-1:e.second>t.second?1:0}static convert_time(e,t,r){if(e.isDate||t.tzid==r.tzid||t==k.localTimezone||r==k.localTimezone)return e.zone=r,e;let i=t.utcOffset(e);return e.adjust(0,0,0,-i),i=r.utcOffset(e),e.adjust(0,0,0,i),null}static fromData(e){return new k().fromData(e)}static#e=null;static get utcTimezone(){return this.#e||(this.#e=k.fromData({tzid:"UTC"})),this.#e}static#t=null;static get localTimezone(){return this.#t||(this.#t=k.fromData({tzid:"floating"})),this.#t}static adjust_change(e,t,r,i,s){return S.prototype.adjust.call(e,t,r,i,s,e)}static _minimumExpansionYear=-1;static EXTRA_COVERAGE=5;constructor(e){this.wrappedJSObject=this,this.fromData(e)}tzid="";location="";tznames="";latitude=0;longitude=0;component=null;expandedUntilYear=0;icalclass="icaltimezone";fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof Oe)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let t=J(e.component);this.component=new Oe(t)}else e.component instanceof Oe?this.component=e.component:this.component=null;for(let t of Pg)e&&t in e&&(this[t]=e[t])}return this.component instanceof Oe&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==k.utcTimezone||this==k.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let t={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},r=this._findNearbyChange(t),i=-1,s=1;for(;;){let o=Mt(this.changes[r],!0);if(o.utcOffset<o.prevUtcOffset?k.adjust_change(o,0,0,0,o.utcOffset):k.adjust_change(o,0,0,0,o.prevUtcOffset),k._compare_change_fn(t,o)>=0?i=r:s=-1,s==-1&&i!=-1)break;if(r+=s,r<0)return 0;if(r>=this.changes.length)break}let a=this.changes[i];if(a.utcOffset-a.prevUtcOffset<0&&i>0){let o=Mt(a,!0);if(k.adjust_change(o,0,0,0,o.prevUtcOffset),k._compare_change_fn(t,o)<0){let c=this.changes[i-1],d=!1;a.is_daylight!=d&&c.is_daylight==d&&(a=c)}}return a.utcOffset}_findNearbyChange(e){let t=Dt(this.changes,e,k._compare_change_fn);return t>=this.changes.length?this.changes.length-1:t}_ensureCoverage(e){if(k._minimumExpansionYear==-1){let r=S.now();k._minimumExpansionYear=r.year}let t=e;if(t<k._minimumExpansionYear&&(t=k._minimumExpansionYear),t+=k.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let r=this.component.getAllSubcomponents(),i=r.length,s=0;for(;s<i;s++)this._expandComponent(r[s],t,this.changes);this.changes.sort(k._compare_change_fn),this.expandedUntilYear=t}}_expandComponent(e,t,r){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let i=e.getFirstProperty("dtstart").getFirstValue(),s;function a(o){return o.factor*(o.hours*3600+o.minutes*60)}function l(){let o={};return o.is_daylight=e.name=="daylight",o.utcOffset=a(e.getFirstProperty("tzoffsetto").getFirstValue()),o.prevUtcOffset=a(e.getFirstProperty("tzoffsetfrom").getFirstValue()),o}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))s=l(),s.year=i.year,s.month=i.month,s.day=i.day,s.hour=i.hour,s.minute=i.minute,s.second=i.second,k.adjust_change(s,0,0,0,-s.prevUtcOffset),r.push(s);else{let o=e.getAllProperties("rdate");for(let d of o){let u=d.getFirstValue();s=l(),s.year=u.year,s.month=u.month,s.day=u.day,u.isDate?(s.hour=i.hour,s.minute=i.minute,s.second=i.second,i.zone!=k.utcTimezone&&k.adjust_change(s,0,0,0,-s.prevUtcOffset)):(s.hour=u.hour,s.minute=u.minute,s.second=u.second,u.zone!=k.utcTimezone&&k.adjust_change(s,0,0,0,-s.prevUtcOffset)),r.push(s)}let c=e.getFirstProperty("rrule");if(c){c=c.getFirstValue(),s=l(),c.until&&c.until.zone==k.utcTimezone&&(c.until.adjust(0,0,0,s.prevUtcOffset),c.until.zone=k.localTimezone);let d=c.iterator(i),u;for(;(u=d.next())&&(s=l(),!(u.year>t||!u));)s.year=u.year,s.month=u.month,s.day=u.day,s.hour=u.hour,s.minute=u.minute,s.second=u.second,s.isDate=u.isDate,k.adjust_change(s,0,0,0,-s.prevUtcOffset),r.push(s)}}return r}toString(){return this.tznames?this.tznames:this.tzid}}let Ee=null;const ar={get count(){return Ee===null?0:Object.keys(Ee).length},reset:function(){Ee=Object.create(null);let n=k.utcTimezone;Ee.Z=n,Ee.UTC=n,Ee.GMT=n},_hard_reset:function(){Ee=null},has:function(n){return Ee===null?!1:!!Ee[n]},get:function(n){return Ee===null&&this.reset(),Ee[n]},register:function(n,e){if(Ee===null&&this.reset(),typeof n=="string"&&e instanceof k&&([n,e]=[e,n]),e||(n instanceof k?e=n.tzid:n.name==="vtimezone"&&(n=new k(n),e=n.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(n instanceof k)Ee[e]=n;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(n){return Ee===null?null:delete Ee[n]}};function Hg(n){let e,t,r,i,s;if(!n||n.name!=="vcalendar")return n;for(e=n.getAllSubcomponents(),t=[],r={},s=0;s<e.length;s++)if(e[s].name==="vtimezone"){let a=e[s].getFirstProperty("tzid").getFirstValue();r[a]=e[s]}else t=t.concat(e[s].getAllProperties());for(i={},s=0;s<t.length;s++){let a=t[s].getParameter("tzid");a&&(i[a]=!0)}for(let[a,l]of Object.entries(r))i[a]||n.removeSubcomponent(l);for(let a of Object.keys(i))!r[a]&&ar.has(a)&&n.addSubcomponent(ar.get(a).component);return n}function on(n){return typeof n=="number"&&isNaN(n)}function ye(n){let e=parseInt(n,10);if(on(e))throw new Error('Could not extract integer from "'+n+'"');return e}function Qe(n,e){if(!(typeof n>"u"))return n instanceof e?n:new e(n)}function Mo(n,e,t){for(;(t=n.indexOf(e,t))!==-1;)if(t>0&&n[t-1]==="\\")t+=1;else return t;return-1}function Dt(n,e,t){if(!n.length)return 0;let r=0,i=n.length-1,s,a;for(;r<=i;)if(s=r+Math.floor((i-r)/2),a=t(e,n[s]),a<0)i=s-1;else if(a>0)r=s+1;else break;return a<0?s:a>0?s+1:s}function Mt(n,e){if(!n||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if("clone"in n)return n.clone();if(Array.isArray(n)){let t=[];for(let r=0;r<n.length;r++)t.push(e?Mt(n[r],!0):n[r]);return t}else{let t={};for(let[r,i]of Object.entries(n))e?t[r]=Mt(i,!0):t[r]=i;return t}}function Oo(n){let e="",t=n||"",r=0,i=0;for(;t.length;){let s=t.codePointAt(r);s<128?++i:s<2048?i+=2:s<65536?i+=3:i+=4,i<Gt.foldLength+1?r+=s>65535?2:1:(e+=Gt.newLineChar+" "+t.slice(0,Math.max(0,r)),t=t.slice(Math.max(0,r)),r=i=0)}return e.slice(Gt.newLineChar.length+1)}function Te(n){switch(typeof n!="string"&&(typeof n=="number"&&(n=parseInt(n)),n=String(n)),n.length){case 0:return"00";case 1:return"0"+n;default:return n}}function pe(n){return n<0?Math.ceil(n):Math.floor(n)}function Pt(n,e){for(let t in n){let r=Object.getOwnPropertyDescriptor(n,t);r&&!Object.getOwnPropertyDescriptor(e,t)&&Object.defineProperty(e,t,r)}return e}var Lg=Object.freeze({__proto__:null,binsearchInsert:Dt,clone:Mt,extend:Pt,foldline:Oo,formatClassType:Qe,isStrictlyNaN:on,pad2:Te,strictParseInt:ye,trunc:pe,unescapedIndexOf:Mo,updateTimezones:Hg});class He{static fromString(e){let t={};return t.factor=e[0]==="+"?1:-1,t.hours=ye(e.slice(1,3)),t.minutes=ye(e.slice(4,6)),new He(t)}static fromSeconds(e){let t=new He;return t.fromSeconds(e),t}constructor(e){this.fromData(e)}hours=0;minutes=0;factor=1;icaltype="utc-offset";clone(){return He.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[t,r]of Object.entries(e))this[t]=r;this._normalize()}fromSeconds(e){let t=Math.abs(e);return this.factor=e<0?-1:1,this.hours=pe(t/3600),t-=this.hours*3600,this.minutes=pe(t/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let t=this.toSeconds(),r=e.toSeconds();return(t>r)-(r>t)}_normalize(){let e=this.toSeconds(),t=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=t)}toICALString(){return ce.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+Te(this.hours)+":"+Te(this.minutes)}}class dt extends S{static fromDateAndOrTimeString(e,t){function r(g,v,y){return g?ye(g.slice(v,v+y)):null}let i=e.split("T"),s=i[0],a=i[1],l=a?ce.vcard.value.time._splitZone(a):[],o=l[0],c=l[1],d=s?s.length:0,u=c?c.length:0,h=s&&s[0]=="-"&&s[1]=="-",f=c&&c[0]=="-",m={year:h?null:r(s,0,4),month:h&&(d==4||d==7)?r(s,2,2):d==7||d==10?r(s,5,2):null,day:d==5?r(s,3,2):d==7&&h?r(s,5,2):d==10?r(s,8,2):null,hour:f?null:r(c,0,2),minute:f&&u==3?r(c,1,2):u>4?f?r(c,1,2):r(c,3,2):null,second:u==4?r(c,2,2):u==6?r(c,4,2):u==8?r(c,6,2):null};return o=="Z"?o=k.utcTimezone:o&&o[3]==":"?o=He.fromString(o):o=null,new dt(m,o,t)}constructor(e,t,r){super(e,t),this.icaltype=r||"date-and-or-time"}icalclass="vcardtime";icaltype="date-and-or-time";clone(){return new dt(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof He?this.zone.toSeconds():S.prototype.utcOffset.apply(this,arguments)}toICALString(){return ce.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let e=this.year,t=this.month,r=this.day,i=this.hour,s=this.minute,a=this.second,l=e!==null,o=t!==null,c=r!==null,d=i!==null,u=s!==null,h=a!==null,f=(l?Te(e)+(o||c?"-":""):o||c?"--":"")+(o?Te(t):"")+(c?"-"+Te(r):""),m=(d?Te(i):"-")+(d&&u?":":"")+(u?Te(s):"")+(!d&&!u?"-":"")+(u&&h?":":"")+(h?Te(a):""),g;switch(this.zone===k.utcTimezone?g="Z":this.zone instanceof He?g=this.zone.toString():this.zone===k.localTimezone?g="":this.zone instanceof k?g=He.fromSeconds(this.zone.utcOffset(this)).toString():g="",this.icaltype){case"time":return m+g;case"date-and-or-time":case"date-time":return f+(m=="--"?"":"T"+m+g);case"date":return f}return null}}class je{static _indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8};static _expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]};static UNKNOWN=0;static CONTRACT=1;static EXPAND=2;static ILLEGAL=3;constructor(e){this.fromData(e)}completed=!1;rule=null;dtstart=null;last=null;occurrence_number=0;by_indices=null;initialized=!1;by_data=null;days=null;days_index=0;fromData(e){if(this.rule=Qe(e.rule,be),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=Qe(e.dtstart,S),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=Mt(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=Qe(e.last,S)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(t){if(t instanceof In)this.completed=!0;else throw t}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,t]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),r=t-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<t&&r>=0||r<0)&&(this.last.day+=r)}else{let t=be.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[t]}if(this.rule.freq=="YEARLY"){const t=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=t&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new In;if(!this._nextByYearDay()&&!this.next_year()&&!this.next_year()&&!this.next_year())throw new In}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let t=null,r=this.last.clone(),i=S.daysInMonth(this.last.month,this.last.year);for(let s of this.by_data.BYDAY){this.last=r.clone();let[a,l]=this.ruleDayOfWeek(s),o=this.last.nthWeekDay(l,a);if(a>=6||a<=-6)throw new Error("Malformed values in BYDAY part");if(o>i||o<=0){if(t&&t.month==r.month)continue;for(;o>i||o<=0;)this.increment_month(),i=S.daysInMonth(this.last.month,this.last.year),o=this.last.nthWeekDay(l,a)}this.last.day=o,(!t||this.last.compare(t)<0)&&(t=this.last.clone())}if(this.last=t.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>i||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let t=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(r=>r>=this.last.day);if(t.length)this.last.day=t[0],this.by_data.BYMONTHDAY=t;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new In}}}next(e=!1){let t=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let r,i=0;do switch(r=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":if(r=this.next_month(),r)i=0;else if(++i==336)return this.completed=!0,null;break;case"YEARLY":if(r=this.next_year(),r)i=0;else if(++i==28)return this.completed=!0,null;break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!r);if(this.last.compare(t)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let t=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*t,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,t,r){let i=S.daysInMonth(t,e),s=[],a=0,l=r.length,o;for(;a<l;a++){if(o=parseInt(r[a],10),isNaN(o))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(o)>i)){if(o<0)o=i+(o+1);else if(o===0)continue;s.indexOf(o)===-1&&s.push(o)}}return s.sort(function(c,d){return c-d})}_byDayAndMonthDay(e){let t,r=this.by_data.BYDAY,i,s=0,a,l=r.length,o=0,c,d=this,u=this.last.day;function h(){for(c=S.daysInMonth(d.last.month,d.last.year),t=d.normalizeByMonthDayRules(d.last.year,d.last.month,d.by_data.BYMONTHDAY),a=t.length;t[s]<=u&&!(e&&t[s]==u)&&s<a-1;)s++}function f(){u=0,d.increment_month(),s=0,h()}h(),e&&(u-=1);let m=48;for(;!o&&m;){if(m--,i=u+1,i>c){f();continue}let g=t[s++];if(g>=i)u=g;else{f();continue}for(let v=0;v<l;v++){let y=this.ruleDayOfWeek(r[v]),E=y[0],D=y[1];if(this.last.day=u,this.last.isNthWeekDay(D,E)){o=1;break}}if(!o&&s===a){f();continue}}if(m<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return o}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let t=S.daysInMonth(this.last.month,this.last.year),r=0,i=0;if(this.has_by_data("BYSETPOS")){let a=this.last.day;for(let l=1;l<=t;l++)this.last.day=l,this.is_day_in_byday(this.last)&&(i++,l<=a&&r++);this.last.day=a}e=0;let s;for(s=this.last.day+1;s<=t;s++)if(this.last.day=s,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++r)||this.check_set_position(r-i-1))){e=1;break}s>t&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let t=S.daysInMonth(this.last.month,this.last.year),r=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];r<0&&(r=t+r+1),r>t?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=r}else{this.increment_month();let t=S.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>t?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let t=new S;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let r=this.by_data.BYDAY[this.by_indices.BYDAY],s=this.ruleDayOfWeek(r)[1];s-=this.rule.wkst,s<0&&(s+=7),t.year=this.last.year,t.month=this.last.month,t.day=this.last.day;let a=t.startDoyWeek(this.rule.wkst);if(s+a<1&&!e)continue;let l=S.fromDayOfYear(a+s,this.last.year);return this.last.year=l.year,this.last.month=l.month,this.last.day=l.day,e}}next_year(){return this.next_hour()==0||(this.days.length==0||++this.days_index==this.days.length)&&(this.days_index=0,this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year),this.days.length==0)?0:this._nextByYearDay()}_nextByYearDay(){let e=this.days[this.days_index],t=this.last.year;if(Math.abs(e)==366&&!S.isLeapYear(this.last.year))return 0;e<1&&(e+=1,t+=1);let r=S.fromDayOfYear(e,t);return this.last.day=r.day,this.last.month=r.month,1}ruleDayOfWeek(e,t){let r=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(r){let i=parseInt(r[1]||0,10);return e=be.icalDayToNumericDay(r[2],t),[i,e]}else return[0,0]}next_generic(e,t,r,i,s){let a=e in this.by_data,l=this.rule.freq==t,o=0;if(s&&this[s]()==0)return o;if(a){this.by_indices[e]++;let c=this.by_data[e];this.by_indices[e]==c.length&&(this.by_indices[e]=0,o=1),this.last[r]=c[this.by_indices[e]]}else l&&this["increment_"+r](this.rule.interval);return a&&o&&l&&this["increment_"+i](1),o}increment_monthday(e){for(let t=0;t<e;t++){let r=S.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>r&&(this.last.day-=r,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=pe(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,t,r,i){this.last[t]+=e;let s=pe(this.last[t]/r);this.last[t]%=r,s!=0&&this["increment_"+i](s)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let t=new S;this.days=[];let r={},i=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let l of i)l in this.rule.parts&&(r[l]=this.rule.parts[l]);if("BYMONTH"in r&&"BYWEEKNO"in r){let l=1,o={};t.year=e,t.isDate=!0;for(let c=0;c<this.by_data.BYMONTH.length;c++){let d=this.by_data.BYMONTH[c];t.month=d,t.day=1;let u=t.weekNumber(this.rule.wkst);t.day=S.daysInMonth(d,e);let h=t.weekNumber(this.rule.wkst);for(c=u;c<h;c++)o[c]=1}for(let c=0;c<this.by_data.BYWEEKNO.length&&l;c++)this.by_data.BYWEEKNO[c]<52?l&=o[c]:l=0;l?delete r.BYMONTH:delete r.BYWEEKNO}let s=Object.keys(r).length;if(s==0){let l=this.dtstart.clone();l.year=this.last.year,this.days.push(l.dayOfYear())}else if(s==1&&"BYMONTH"in r)for(let l of this.by_data.BYMONTH){let o=this.dtstart.clone();o.year=e,o.month=l,o.isDate=!0,this.days.push(o.dayOfYear())}else if(s==1&&"BYMONTHDAY"in r)for(let l of this.by_data.BYMONTHDAY){let o=this.dtstart.clone();if(l<0){let c=S.daysInMonth(o.month,e);l=l+c+1}o.day=l,o.year=e,o.isDate=!0,this.days.push(o.dayOfYear())}else if(s==2&&"BYMONTHDAY"in r&&"BYMONTH"in r)for(let l of this.by_data.BYMONTH){let o=S.daysInMonth(l,e);for(let c of this.by_data.BYMONTHDAY)c<0&&(c=c+o+1),t.day=c,t.month=l,t.year=e,t.isDate=!0,this.days.push(t.dayOfYear())}else if(!(s==1&&"BYWEEKNO"in r)){if(!(s==2&&"BYWEEKNO"in r&&"BYMONTHDAY"in r)){if(s==1&&"BYDAY"in r)this.days=this.days.concat(this.expand_by_day(e));else if(s==2&&"BYDAY"in r&&"BYMONTH"in r){for(let l of this.by_data.BYMONTH){let o=S.daysInMonth(l,e);t.year=e,t.month=l,t.day=1,t.isDate=!0;let c=t.dayOfWeek(),d=t.dayOfYear()-1;t.day=o;let u=t.dayOfWeek();if(this.has_by_data("BYSETPOS")){let h=[];for(let f=1;f<=o;f++)t.day=f,this.is_day_in_byday(t)&&h.push(f);for(let f=0;f<h.length;f++)(this.check_set_position(f+1)||this.check_set_position(f-h.length))&&this.days.push(d+h[f])}else for(let h of this.by_data.BYDAY){let f=this.ruleDayOfWeek(h),m=f[0],g=f[1],v,y=(g+7-c)%7+1,E=o-(u+7-g)%7;if(m==0)for(let D=y;D<=o;D+=7)this.days.push(d+D);else m>0?(v=y+(m-1)*7,v<=o&&this.days.push(d+v)):(v=E+(m+1)*7,v>0&&this.days.push(d+v))}}this.days.sort(function(l,o){return l-o})}else if(s==2&&"BYDAY"in r&&"BYMONTHDAY"in r){let l=this.expand_by_day(e);for(let o of l){let c=S.fromDayOfYear(o,e);this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(o)}}else if(s==3&&"BYDAY"in r&&"BYMONTHDAY"in r&&"BYMONTH"in r){let l=this.expand_by_day(e);for(let o of l){let c=S.fromDayOfYear(o,e);this.by_data.BYMONTH.indexOf(c.month)>=0&&this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(o)}}else if(s==2&&"BYDAY"in r&&"BYWEEKNO"in r){let l=this.expand_by_day(e);for(let o of l){let d=S.fromDayOfYear(o,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(d)&&this.days.push(o)}}else if(!(s==3&&"BYDAY"in r&&"BYWEEKNO"in r&&"BYMONTHDAY"in r))if(s==1&&"BYYEARDAY"in r)this.days=this.days.concat(this.by_data.BYYEARDAY);else if(s==2&&"BYYEARDAY"in r&&"BYDAY"in r){let l=S.isLeapYear(e)?366:365,o=new Set(this.expand_by_day(e));for(let c of this.by_data.BYYEARDAY)c<0&&(c+=l+1),o.has(c)&&this.days.push(c)}else this.days=[]}}let a=S.isLeapYear(e)?366:365;return this.days.sort((l,o)=>(l<0&&(l+=a+1),o<0&&(o+=a+1),l-o)),0}expand_by_day(e){let t=[],r=this.last.clone();r.year=e,r.month=1,r.day=1,r.isDate=!0;let i=r.dayOfWeek();r.month=12,r.day=31,r.isDate=!0;let s=r.dayOfWeek(),a=r.dayOfYear();for(let l of this.by_data.BYDAY){let o=this.ruleDayOfWeek(l),c=o[0],d=o[1];if(c==0){let u=(d+7-i)%7+1;for(let h=u;h<=a;h+=7)t.push(h)}else if(c>0){let u;d>=i?u=d-i+1:u=d-i+8,t.push(u+(c-1)*7)}else{let u;c=-c,d<=s?u=a-s+d:u=a-s+d-7,t.push(u-(c-1)*7)}}return t}is_day_in_byday(e){if(this.by_data.BYDAY)for(let t of this.by_data.BYDAY){let r=this.ruleDayOfWeek(t),i=r[0],s=r[1],a=e.dayOfWeek();if(i==0&&s==a||e.nthWeekDay(s,i)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let t=0;t<e.length;t++)for(let r=0;r<t;r++){let i=this.ruleDayOfWeek(e[r],this.rule.wkst)[1],s=this.ruleDayOfWeek(e[t],this.rule.wkst)[1];if(i>s){let a=e[t];e[t]=e[r],e[r]=a}}}check_contract_restriction(e,t){let r=je._indexMap[e],i=je._expandMap[this.rule.freq][r],s=!1;if(e in this.by_data&&i==je.CONTRACT){let a=this.by_data[e];for(let l of a)if(l==t){s=!0;break}}else s=!0;return s}check_contracting_rules(){let e=this.last.dayOfWeek(),t=this.last.weekNumber(this.rule.wkst),r=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",be.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",t)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",r)}setup_defaults(e,t,r){let i=je._indexMap[e];return je._expandMap[this.rule.freq][i]!=je.CONTRACT&&(e in this.by_data||(this.by_data[e]=[r]),this.rule.freq!=t)?this.by_data[e][0]:r}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}}class In extends Error{constructor(){super("Recurrence rule has no valid occurrences")}}const Bg=/^(SU|MO|TU|WE|TH|FR|SA)$/,Ug=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,ko={SU:S.SUNDAY,MO:S.MONDAY,TU:S.TUESDAY,WE:S.WEDNESDAY,TH:S.THURSDAY,FR:S.FRIDAY,SA:S.SATURDAY},Yg=Object.fromEntries(Object.entries(ko).map(n=>n.reverse())),ua=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"];class be{static fromString(e){let t=this._stringToData(e,!1);return new be(t)}static fromData(e){return new be(e)}static _stringToData(e,t){let r=Object.create(null),i=e.split(";"),s=i.length;for(let a=0;a<s;a++){let l=i[a].split("="),o=l[0].toUpperCase(),c=l[0].toLowerCase(),d=t?c:o,u=l[1];if(o in Lr){let h=u.split(","),f=new Set;for(let m of h)f.add(Lr[o](m));h=[...f],r[d]=h.length==1?h[0]:h}else o in Hr?Hr[o](u,r,t):r[c]=u}return r}static icalDayToNumericDay(e,t){let r=t||S.SUNDAY;return(ko[e]-r+7)%7+1}static numericDayToIcalDay(e,t){let r=t||S.SUNDAY,i=e+r-S.SUNDAY;return i>7&&(i-=7),Yg[i]}constructor(e){this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}parts=null;interval=1;wkst=S.MONDAY;until=null;count=null;freq=null;icalclass="icalrecur";icaltype="recur";iterator(e){return new je({rule:this,dtstart:e})}clone(){return new be(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,t){let r=e.toUpperCase();r in this.parts?this.parts[r].push(t):this.parts[r]=[t]}setComponent(e,t){this.parts[e.toUpperCase()]=t.slice()}getComponent(e){let t=e.toUpperCase();return t in this.parts?this.parts[t].slice():[]}getNextOccurrence(e,t){let r=this.iterator(e),i;do i=r.next();while(i&&i.compare(t)<=0);return i&&t.zone&&(i.zone=t.zone),i}fromData(e){for(let t in e){let r=t.toUpperCase();r in Lr?Array.isArray(e[t])?this.parts[r]=e[t]:this.parts[r]=[e[t]]:this[t]=e[t]}this.interval&&typeof this.interval!="number"&&Hr.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=be.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof S)&&(this.until=S.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[t,r]of Object.entries(this.parts))Array.isArray(r)&&r.length==1?e[t.toLowerCase()]=r[0]:e[t.toLowerCase()]=Mt(r);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==S.DEFAULT_WEEK_START&&(e.wkst=be.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[t,r]of Object.entries(this.parts))e+=";"+t+"="+r;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==S.DEFAULT_WEEK_START&&(e+=";WKST="+be.numericDayToIcalDay(this.wkst)),e}}function rt(n,e,t,r){let i=r;if(r[0]==="+"&&(i=r.slice(1)),i=ye(i),e!==void 0&&r<e)throw new Error(n+': invalid value "'+r+'" must be > '+e);if(t!==void 0&&r>t)throw new Error(n+': invalid value "'+r+'" must be < '+e);return i}const Hr={FREQ:function(n,e,t){if(ua.indexOf(n)!==-1)e.freq=n;else throw new Error('invalid frequency "'+n+'" expected: "'+ua.join(", ")+'"')},COUNT:function(n,e,t){e.count=ye(n)},INTERVAL:function(n,e,t){e.interval=ye(n),e.interval<1&&(e.interval=1)},UNTIL:function(n,e,t){n.length>10?e.until=ce.icalendar.value["date-time"].fromICAL(n):e.until=ce.icalendar.value.date.fromICAL(n),t||(e.until=S.fromString(e.until))},WKST:function(n,e,t){if(Bg.test(n))e.wkst=be.icalDayToNumericDay(n);else throw new Error('invalid WKST value "'+n+'"')}},Lr={BYSECOND:rt.bind(void 0,"BYSECOND",0,60),BYMINUTE:rt.bind(void 0,"BYMINUTE",0,59),BYHOUR:rt.bind(void 0,"BYHOUR",0,23),BYDAY:function(n){if(Ug.test(n))return n;throw new Error('invalid BYDAY value "'+n+'"')},BYMONTHDAY:rt.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:rt.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:rt.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:rt.bind(void 0,"BYMONTH",1,12),BYSETPOS:rt.bind(void 0,"BYSETPOS",-366,366)},zg=/\\\\|\\;|\\,|\\[Nn]/g,Wg=/\\|;|,|\n/g,fa=/\\\\|\\,|\\[Nn]/g,ha=/\\|,|\n/g;function ui(n,e){return{matches:/.*/,fromICAL:function(r,i){return Fg(r,n,i)},toICAL:function(r,i){let s=e;return i&&(s=new RegExp(s.source+"|"+i,s.flags)),r.replace(s,function(a){switch(a){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return a}})}}}const q={defaultType:"text"},cn={defaultType:"text",multiValue:","},lr={defaultType:"text",structuredValue:";"},Mn={defaultType:"integer"},On={defaultType:"date-time",allowedTypes:["date-time","date"]},kn={defaultType:"date-time"},xe={defaultType:"uri"},pa={defaultType:"utc-offset"},ga={defaultType:"recur"},ma={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function jg(n){switch(n){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return n}}function Fg(n,e,t){return n.indexOf("\\")===-1?n:(t&&(e=new RegExp(e.source+"|\\\\"+t,e.flags)),n.replace(e,jg))}let Xi={categories:cn,url:xe,version:q,uid:q},Ji={boolean:{values:["TRUE","FALSE"],fromICAL:function(n){switch(n){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(n){return n?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(n){let e=parseFloat(n);return on(e)?0:e},toICAL:function(n){return String(n)}},integer:{fromICAL:function(n){let e=parseInt(n);return on(e)?0:e},toICAL:function(n){return String(n)}},"utc-offset":{toICAL:function(n){return n.length<7?n.slice(0,3)+n.slice(4,6):n.slice(0,3)+n.slice(4,6)+n.slice(7,9)},fromICAL:function(n){return n.length<6?n.slice(0,3)+":"+n.slice(3,5):n.slice(0,3)+":"+n.slice(3,5)+":"+n.slice(5,7)},decorate:function(n){return He.fromString(n)},undecorate:function(n){return n.toString()}}},Vg={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}};const _e=Pt(Ji,{text:ui(zg,Wg),uri:{},binary:{decorate:function(n){return _r.fromString(n)},undecorate:function(n){return n.toString()}},"cal-address":{},date:{decorate:function(n,e){return S.fromDateString(n,e)},undecorate:function(n){return n.toString()},fromICAL:function(n){return n.slice(0,4)+"-"+n.slice(4,6)+"-"+n.slice(6,8)},toICAL:function(n){let e=n.length;return e==10?n.slice(0,4)+n.slice(5,7)+n.slice(8,10):e>=19?_e["date-time"].toICAL(n):n}},"date-time":{fromICAL:function(n){{let e=n.slice(0,4)+"-"+n.slice(4,6)+"-"+n.slice(6,8)+"T"+n.slice(9,11)+":"+n.slice(11,13)+":"+n.slice(13,15);return n[15]&&n[15]==="Z"&&(e+="Z"),e}},toICAL:function(n){if(n.length>=19){let t=n.slice(0,4)+n.slice(5,7)+n.slice(8,13)+n.slice(14,16)+n.slice(17,19);return n[19]&&n[19]==="Z"&&(t+="Z"),t}else return n},decorate:function(n,e){return S.fromDateTimeString(n,e)},undecorate:function(n){return n.toString()}},duration:{decorate:function(n){return we.fromString(n)},undecorate:function(n){return n.toString()}},period:{fromICAL:function(n){let e=n.split("/");return e[0]=_e["date-time"].fromICAL(e[0]),we.isValueString(e[1])||(e[1]=_e["date-time"].fromICAL(e[1])),e},toICAL:function(n){return n=n.slice(),n[0]=_e["date-time"].toICAL(n[0]),we.isValueString(n[1])||(n[1]=_e["date-time"].toICAL(n[1])),n.join("/")},decorate:function(n,e){return qe.fromJSON(n,e,!1)},undecorate:function(n){return n.toJSON()}},recur:{fromICAL:function(n){return be._stringToData(n,!0)},toICAL:function(n){let e="";for(let[t,r]of Object.entries(n))t=="until"?r.length>10?r=_e["date-time"].toICAL(r):r=_e.date.toICAL(r):t=="wkst"?typeof r=="number"&&(r=be.numericDayToIcalDay(r)):Array.isArray(r)&&(r=r.join(",")),e+=t.toUpperCase()+"="+r+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return be.fromData(e)},undecorate:function(n){return n.toJSON()}},time:{fromICAL:function(n){if(n.length<6)return n;let e=n.slice(0,2)+":"+n.slice(2,4)+":"+n.slice(4,6);return n[6]==="Z"&&(e+="Z"),e},toICAL:function(n){if(n.length<8)return n;let e=n.slice(0,2)+n.slice(3,5)+n.slice(6,8);return n[8]==="Z"&&(e+="Z"),e}}});let Gg=Pt(Xi,{action:q,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:q,class:q,comment:q,completed:kn,contact:q,created:kn,description:q,dtend:On,dtstamp:kn,dtstart:On,due:On,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:ga,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":kn,location:q,method:q,organizer:{defaultType:"cal-address"},"percent-complete":Mn,priority:Mn,prodid:q,"related-to":q,repeat:Mn,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(n){return n.indexOf("/")!==-1?"period":n.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":On,resources:cn,"request-status":lr,rrule:ga,sequence:Mn,status:q,summary:q,transp:q,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:pa,tzoffsetto:pa,tzurl:xe,tzid:q,tzname:q});const Me=Pt(Ji,{text:ui(fa,ha),uri:ui(fa,ha),date:{decorate:function(n){return dt.fromDateAndOrTimeString(n,"date")},undecorate:function(n){return n.toString()},fromICAL:function(n){return n.length==8?_e.date.fromICAL(n):n[0]=="-"&&n.length==6?n.slice(0,4)+"-"+n.slice(4):n},toICAL:function(n){return n.length==10?_e.date.toICAL(n):n[0]=="-"&&n.length==7?n.slice(0,4)+n.slice(5):n}},time:{decorate:function(n){return dt.fromDateAndOrTimeString("T"+n,"time")},undecorate:function(n){return n.toString()},fromICAL:function(n){let e=Me.time._splitZone(n,!0),t=e[0],r=e[1];return r.length==6?r=r.slice(0,2)+":"+r.slice(2,4)+":"+r.slice(4,6):r.length==4&&r[0]!="-"?r=r.slice(0,2)+":"+r.slice(2,4):r.length==5&&(r=r.slice(0,3)+":"+r.slice(3,5)),t.length==5&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+":"+t.slice(3)),r+t},toICAL:function(n){let e=Me.time._splitZone(n),t=e[0],r=e[1];return r.length==8?r=r.slice(0,2)+r.slice(3,5)+r.slice(6,8):r.length==5&&r[0]!="-"?r=r.slice(0,2)+r.slice(3,5):r.length==6&&(r=r.slice(0,3)+r.slice(4,6)),t.length==6&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+t.slice(4)),r+t},_splitZone:function(n,e){let t=n.length-1,r=n.length-(e?5:6),i=n[r],s,a;return n[t]=="Z"?(s=n[t],a=n.slice(0,Math.max(0,t))):n.length>6&&(i=="-"||i=="+")?(s=n.slice(r),a=n.slice(0,Math.max(0,r))):(s="",a=n),[s,a]}},"date-time":{decorate:function(n){return dt.fromDateAndOrTimeString(n,"date-time")},undecorate:function(n){return n.toString()},fromICAL:function(n){return Me["date-and-or-time"].fromICAL(n)},toICAL:function(n){return Me["date-and-or-time"].toICAL(n)}},"date-and-or-time":{decorate:function(n){return dt.fromDateAndOrTimeString(n,"date-and-or-time")},undecorate:function(n){return n.toString()},fromICAL:function(n){let e=n.split("T");return(e[0]?Me.date.fromICAL(e[0]):"")+(e[1]?"T"+Me.time.fromICAL(e[1]):"")},toICAL:function(n){let e=n.split("T");return Me.date.toICAL(e[0])+(e[1]?"T"+Me.time.toICAL(e[1]):"")}},timestamp:_e["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(n){return Array.from(n).filter(function(e){return e==="\\"?void 0:e}).join("")},toICAL:function(n){return Array.from(n).map(function(e){return e===","||e===";"?"\\"+e:e}).join("")}}});let $g={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},qg=Pt(Xi,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:ma,bday:ma,caladruri:xe,caluri:xe,clientpidmap:lr,email:q,fburl:xe,fn:q,gender:lr,geo:xe,impp:xe,key:xe,kind:q,lang:{defaultType:"language-tag"},logo:xe,member:xe,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:cn,note:q,org:{defaultType:"text",structuredValue:";"},photo:xe,related:xe,rev:{defaultType:"timestamp"},role:q,sound:xe,source:xe,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:q,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:q}),Qg=Pt(Ji,{binary:_e.binary,date:Me.date,"date-time":Me["date-time"],"phone-number":Me["phone-number"],uri:_e.uri,text:Me.text,time:_e.time,vcard:_e.text,"utc-offset":{toICAL:function(n){return n.slice(0,7)},fromICAL:function(n){return n.slice(0,7)},decorate:function(n){return He.fromString(n)},undecorate:function(n){return n.toString()}}}),Zg={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},Xg=Pt(Xi,{fn:q,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:cn,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(n){return n.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:q,tel:{defaultType:"phone-number"},email:q,mailer:q,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:q,role:q,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:lr,note:cn,prodid:q,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(n){return n.indexOf("T")===-1?"date":"date-time"}},"sort-string":q,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:q,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),$e={name:"ical",value:_e,param:Vg,property:Gg,propertyGroups:!1},va={name:"vcard4",value:Me,param:$g,property:qg,propertyGroups:!0},ya={name:"vcard3",value:Qg,param:Zg,property:Xg,propertyGroups:!0};const ce={strict:!0,defaultSet:$e,defaultType:"unknown",components:{vcard:va,vcard3:ya,vevent:$e,vtodo:$e,vjournal:$e,valarm:$e,vtimezone:$e,daylight:$e,standard:$e},icalendar:$e,vcard:va,vcard3:ya,getDesignSet:function(n){return n&&n in ce.components?ce.components[n]:ce.defaultSet}},jn=`\r
`,ba="unknown",Jg={'"':"^'","\n":"^n","^":"^^"};function se(n){typeof n[0]=="string"&&(n=[n]);let e=0,t=n.length,r="";for(;e<t;e++)r+=se.component(n[e])+jn;return r}se.component=function(n,e){let t=n[0].toUpperCase(),r="BEGIN:"+t+jn,i=n[1],s=0,a=i.length,l=n[0];for(l==="vcard"&&n[1].length>0&&!(n[1][0][0]==="version"&&n[1][0][3]==="4.0")&&(l="vcard3"),e=e||ce.getDesignSet(l);s<a;s++)r+=se.property(i[s],e)+jn;let o=n[2]||[],c=0,d=o.length;for(;c<d;c++)r+=se.component(o[c],e)+jn;return r+="END:"+t,r};se.property=function(n,e,t){let r=n[0].toUpperCase(),i=n[0],s=n[1];e||(e=ce.defaultSet);let a=s.group,l;e.propertyGroups&&a?l=a.toUpperCase()+"."+r:l=r;for(let[f,m]of Object.entries(s)){if(e.propertyGroups&&f=="group")continue;let g=e.param[f],v=g&&g.multiValue;v&&Array.isArray(m)?(m=m.map(function(y){return y=se._rfc6868Unescape(y),y=se.paramPropertyValue(y,g.multiValueSeparateDQuote),y}),m=se.multiValue(m,v,"unknown",null,e)):(m=se._rfc6868Unescape(m),m=se.paramPropertyValue(m)),l+=";"+f.toUpperCase()+"="+m}if(n.length===3)return l+":";let o=n[2],c,d=!1,u=!1,h=!1;return i in e.property?(c=e.property[i],"multiValue"in c&&(d=c.multiValue),"structuredValue"in c&&Array.isArray(n[3])&&(u=c.structuredValue),"defaultType"in c?o===c.defaultType&&(h=!0):o===ba&&(h=!0)):o===ba&&(h=!0),h||(l+=";VALUE="+o.toUpperCase()),l+=":",d&&u?l+=se.multiValue(n[3],u,o,d,e,u):d?l+=se.multiValue(n.slice(3),d,o,null,e,!1):u?l+=se.multiValue(n[3],u,o,null,e,u):l+=se.value(n[3],o,e,!1),t?l:Oo(l)};se.paramPropertyValue=function(n,e){return!e&&n.indexOf(",")===-1&&n.indexOf(":")===-1&&n.indexOf(";")===-1?n:'"'+n+'"'};se.multiValue=function(n,e,t,r,i,s){let a="",l=n.length,o=0;for(;o<l;o++)r&&Array.isArray(n[o])?a+=se.multiValue(n[o],r,t,null,i,s):a+=se.value(n[o],t,i,s),o!==l-1&&(a+=e);return a};se.value=function(n,e,t,r){return e in t.value&&"toICAL"in t.value[e]?t.value[e].toICAL(n,r):n};se._rfc6868Unescape=function(n){return n.replace(/[\n^"]/g,function(e){return Jg[e]})};const wa=0,Nn=1,Pn=2,it=3;class At{static fromString(e,t){return new At(J.property(e,t))}constructor(e,t){this._parent=t||null,typeof e=="string"?(this.jCal=[e,{},ce.defaultType],this.jCal[Pn]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[Pn]}get name(){return this.jCal[wa]}get parent(){return this._parent}set parent(e){let t=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==ce.defaultType&&t&&(this.jCal[Pn]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:ce.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=it+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[it+e])):this.jCal[it+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,t){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[it+t]=this._undecorate(e),this._values[t]=e):(this.jCal[it+t]=e,this._values[t]=this._decorate(e))}getParameter(e){if(e in this.jCal[Nn])return this.jCal[Nn][e]}getFirstParameter(e){let t=this.getParameter(e);return Array.isArray(t)?t[0]:t}setParameter(e,t){let r=e.toLowerCase();typeof t=="string"&&r in this._designSet.param&&"multiValue"in this._designSet.param[r]&&(t=[t]),this.jCal[Nn][e]=t}removeParameter(e){delete this.jCal[Nn][e]}getDefaultType(){let e=this.jCal[wa],t=this._designSet;if(e in t.property){let r=t.property[e];if("defaultType"in r)return r.defaultType}return ce.defaultType}resetType(e){this.removeAllValues(),this.jCal[Pn]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-it;if(e<1)return[];let t=0,r=[];for(;t<e;t++)r[t]=this._hydrateValue(t);return r}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);let t=e.length,r=0;if(this.removeAllValues(),t>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;r<t;r++)this._setDecoratedValue(e[r],r);else for(;r<t;r++)this.jCal[it+r]=e[r]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[it]=e}toJSON(){return this.jCal}toICALString(){return se.property(this.jCal,this._designSet,!0)}}const st=0,Ue=1,at=2,Kg=0,em=3;class Oe{static fromString(e){return new Oe(J.component(e))}constructor(e,t){typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=t||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}_hydratedPropertyCount=0;_hydratedComponentCount=0;_timezoneCache=null;_components=null;_properties=null;get name(){return this.jCal[st]}get _designSet(){let e=this.parent&&this.parent._designSet;if(!e&&this.name=="vcard"){let t=this.jCal[Ue]?.[0];if(t&&t[Kg]=="version"&&t[em]=="3.0")return ce.getDesignSet("vcard3")}return e||ce.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let t=new Oe(this.jCal[at][e],this);return this._hydratedComponentCount++,this._components[e]=t}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let t=new At(this.jCal[Ue][e],this);return this._hydratedPropertyCount++,this._properties[e]=t}getFirstSubcomponent(e){if(e){let t=0,r=this.jCal[at],i=r.length;for(;t<i;t++)if(r[t][st]===e)return this._hydrateComponent(t)}else if(this.jCal[at].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let t=this.jCal[at].length,r=0;if(e){let i=this.jCal[at],s=[];for(;r<t;r++)e===i[r][st]&&s.push(this._hydrateComponent(r));return s}else{if(!this._components||this._hydratedComponentCount!==t)for(;r<t;r++)this._hydrateComponent(r);return this._components||[]}}hasProperty(e){let t=this.jCal[Ue],r=t.length,i=0;for(;i<r;i++)if(t[i][st]===e)return!0;return!1}getFirstProperty(e){if(e){let t=0,r=this.jCal[Ue],i=r.length;for(;t<i;t++)if(r[t][st]===e)return this._hydrateProperty(t)}else if(this.jCal[Ue].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let t=this.getFirstProperty(e);return t?t.getFirstValue():null}getAllProperties(e){let t=this.jCal[Ue].length,r=0;if(e){let i=this.jCal[Ue],s=[];for(;r<t;r++)e===i[r][st]&&s.push(this._hydrateProperty(r));return s}else{if(!this._properties||this._hydratedPropertyCount!==t)for(;r<t;r++)this._hydrateProperty(r);return this._properties||[]}}_removeObjectByIndex(e,t,r){if(t=t||[],t[r]){let i=t[r];"parent"in i&&(i.parent=null)}t.splice(r,1),this.jCal[e].splice(r,1)}_removeObject(e,t,r){let i=0,s=this.jCal[e],a=s.length,l=this[t];if(typeof r=="string"){for(;i<a;i++)if(s[i][st]===r)return this._removeObjectByIndex(e,l,i),!0}else if(l){for(;i<a;i++)if(l[i]&&l[i]===r)return this._removeObjectByIndex(e,l,i),!0}return!1}_removeAllObjects(e,t,r){let i=this[t],s=this.jCal[e],a=s.length-1;for(;a>=0;a--)(!r||s[a][st]===r)&&this._removeObjectByIndex(e,i,a)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let t=this.jCal[at].push(e.jCal);return this._components[t-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let t=this._removeObject(at,"_components",e);return t&&this._hydratedComponentCount--,t}removeAllSubcomponents(e){let t=this._removeAllObjects(at,"_components",e);return this._hydratedComponentCount=0,t}addProperty(e){if(!(e instanceof At))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let t=this.jCal[Ue].push(e.jCal);return this._properties[t-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,t){let r=new At(e);return r.setValue(t),this.addProperty(r),r}updatePropertyWithValue(e,t){let r=this.getFirstProperty(e);return r?r.setValue(t):r=this.addPropertyWithValue(e,t),r}removeProperty(e){let t=this._removeObject(Ue,"_properties",e);return t&&this._hydratedPropertyCount--,t}removeAllProperties(e){let t=this._removeAllObjects(Ue,"_properties",e);return this._hydratedPropertyCount=0,t}toJSON(){return this.jCal}toString(){return se.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);const t=this.getAllSubcomponents("vtimezone");for(const r of t)if(r.getFirstProperty("tzid").getFirstValue()===e){const i=new k({component:r,tzid:e});return this._timezoneCache.set(e,i),i}return null}}class No{constructor(e){this.ruleDates=[],this.exDates=[],this.fromData(e)}complete=!1;ruleIterators=null;ruleDates=null;exDates=null;ruleDateInc=0;exDateInc=0;exDate=null;ruleDate=null;dtstart=null;last=null;fromData(e){let t=Qe(e.dtstart,S);if(t)this.dtstart=t;else throw new Error(".dtstart (ICAL.Time) must be given");if(e.component)this._init(e.component);else{if(this.last=Qe(e.last,S)||t.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(r){return Qe(r,je)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(r=>Qe(r,S)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(r=>Qe(r,S)),this.exDate=this.exDates[this.exDateInc]),typeof e.complete<"u"&&(this.complete=e.complete)}}_compare_special(e,t){return!e.isDate&&t.isDate?new S({year:e.year,month:e.month,day:e.day}).compare(t):e.compare(t)}next(){let e,t,r,i=500,s=0;for(;;){if(s++>i)throw new Error("max tries have occurred, rule may be impossible to fulfill.");if(t=this.ruleDate,e=this._nextRecurrenceIter(this.last),!t&&!e){this.complete=!0;break}if((!t||e&&t.compare(e.last)>0)&&(t=e.last.clone(),e.next()),this.ruleDate===t&&this._nextRuleDay(),this.last=t,this.exDate&&(r=this._compare_special(this.last,this.exDate),r>0&&this._nextExDay(),r===0)){this._nextExDay();continue}return this.last}}toJSON(){function e(r){return r.toJSON()}let t=Object.create(null);return t.ruleIterators=this.ruleIterators.map(e),this.ruleDates&&(t.ruleDates=this.ruleDates.map(e)),this.exDates&&(t.exDates=this.exDates.map(e)),t.ruleDateInc=this.ruleDateInc,t.exDateInc=this.exDateInc,t.last=this.last.toJSON(),t.dtstart=this.dtstart.toJSON(),t.complete=this.complete,t}_extractDates(e,t){let r=[],i=e.getAllProperties(t);for(let s=0,a=i.length;s<a;s++)for(let l of i[s].getValues()){let o=Dt(r,l,(c,d)=>c.compare(d));r.splice(o,0,l)}return r}_init(e){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e.hasProperty("rdate")&&!e.hasProperty("rrule")&&!e.hasProperty("recurrence-id")){this.ruleDate=this.last.clone(),this.complete=!0;return}if(e.hasProperty("rdate")&&(this.ruleDates=this._extractDates(e,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=Dt(this.ruleDates,this.last,(t,r)=>t.compare(r)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.hasProperty("rrule")){let t=e.getAllProperties("rrule"),r=0,i=t.length,s,a;for(;r<i;r++)s=t[r].getFirstValue(),a=s.iterator(this.dtstart),this.ruleIterators.push(a),a.next()}e.hasProperty("exdate")&&(this.exDates=this._extractDates(e,"exdate"),this.exDateInc=Dt(this.exDates,this.last,this._compare_special),this.exDate=this.exDates[this.exDateInc])}_nextExDay(){this.exDate=this.exDates[++this.exDateInc]}_nextRuleDay(){this.ruleDate=this.ruleDates[++this.ruleDateInc]}_nextRecurrenceIter(){let e=this.ruleIterators;if(e.length===0)return null;let t=e.length,r,i,s=0,a;for(;s<t;s++){if(r=e[s],i=r.last,r.completed){t--,s!==0&&s--,e.splice(s,1);continue}(!a||a.last.compare(i)>0)&&(a=r)}return a}}class dn{constructor(e,t){e instanceof Oe||(t=e,e=null),e?this.component=e:this.component=new Oe("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],t&&t.strictExceptions&&(this.strictExceptions=t.strictExceptions),t&&t.exceptions?t.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(r){r.hasProperty("recurrence-id")&&this.relateException(r)},this)}static THISANDFUTURE="THISANDFUTURE";exceptions=null;strictExceptions=!1;relateException(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof Oe&&(e=new dn(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");let t=e.recurrenceId.toString();if(this.exceptions[t]=e,e.modifiesFuture()){let r=[e.recurrenceId.toUnixTime(),t],i=Dt(this.rangeExceptions,r,Ea);this.rangeExceptions.splice(i,0,r)}}modifiesFuture(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===dn.THISANDFUTURE:!1}findRangeException(e){if(!this.rangeExceptions.length)return null;let t=e.toUnixTime(),r=Dt(this.rangeExceptions,[t],Ea);if(r-=1,r<0)return null;let i=this.rangeExceptions[r];return t<i[0]?null:i[1]}getOccurrenceDetails(e){let t=e.toString(),r=e.convertToZone(k.utcTimezone).toString(),i,s={recurrenceId:e};if(t in this.exceptions)i=s.item=this.exceptions[t],s.startDate=i.startDate,s.endDate=i.endDate,s.item=i;else if(r in this.exceptions)i=this.exceptions[r],s.startDate=i.startDate,s.endDate=i.endDate,s.item=i;else{let a=this.findRangeException(e),l;if(a){let o=this.exceptions[a];s.item=o;let c=this._rangeExceptionCache[a];if(!c){let u=o.recurrenceId.clone(),h=o.startDate.clone();u.zone=h.zone,c=h.subtractDate(u),this._rangeExceptionCache[a]=c}let d=e.clone();d.zone=o.startDate.zone,d.addDuration(c),l=d.clone(),l.addDuration(o.duration),s.startDate=d,s.endDate=l}else l=e.clone(),l.addDuration(this.duration),s.endDate=l,s.startDate=e,s.item=this}return s}iterator(e){return new No({component:this.component,dtstart:e||this.startDate})}isRecurring(){let e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")}isRecurrenceException(){return this.component.hasProperty("recurrence-id")}getRecurrenceTypes(){let e=this.component.getAllProperties("rrule"),t=0,r=e.length,i=Object.create(null);for(;t<r;t++){let s=e[t].getFirstValue();i[s.freq]=!0}return i}get uid(){return this._firstProp("uid")}set uid(e){this._setProp("uid",e)}get startDate(){return this._firstProp("dtstart")}set startDate(e){this._setTime("dtstart",e)}get endDate(){let e=this._firstProp("dtend");if(!e){let t=this._firstProp("duration");e=this.startDate.clone(),t?e.addDuration(t):e.isDate&&(e.day+=1)}return e}set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)}get duration(){let e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)}set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)}get location(){return this._firstProp("location")}set location(e){this._setProp("location",e)}get attendees(){return this.component.getAllProperties("attendee")}get summary(){return this._firstProp("summary")}set summary(e){this._setProp("summary",e)}get description(){return this._firstProp("description")}set description(e){this._setProp("description",e)}get color(){return this._firstProp("color")}set color(e){this._setProp("color",e)}get organizer(){return this._firstProp("organizer")}set organizer(e){this._setProp("organizer",e)}get sequence(){return this._firstProp("sequence")}set sequence(e){this._setProp("sequence",e)}get recurrenceId(){return this._firstProp("recurrence-id")}set recurrenceId(e){this._setTime("recurrence-id",e)}_setTime(e,t){let r=this.component.getFirstProperty(e);r||(r=new At(e),this.component.addProperty(r)),t.zone===k.localTimezone||t.zone===k.utcTimezone?r.removeParameter("tzid"):r.setParameter("tzid",t.zone.tzid),r.setValue(t)}_setProp(e,t){this.component.updatePropertyWithValue(e,t)}_firstProp(e){return this.component.getFirstPropertyValue(e)}toString(){return this.component.toString()}}function Ea(n,e){return n[0]>e[0]?1:e[0]>n[0]?-1:0}class tm{constructor(e){typeof e>"u"&&(e={});for(let[t,r]of Object.entries(e))this[t]=r}parseEvent=!0;parseTimezone=!0;oncomplete=function(){};onerror=function(e){};ontimezone=function(e){};onevent=function(e){};process(e){typeof e=="string"&&(e=J(e)),e instanceof Oe||(e=new Oe(e));let t=e.getAllSubcomponents(),r=0,i=t.length,s;for(;r<i;r++)switch(s=t[r],s.name){case"vtimezone":if(this.parseTimezone){let a=s.getFirstPropertyValue("tzid");a&&this.ontimezone(new k({tzid:a,component:s}))}break;case"vevent":this.parseEvent&&this.onevent(new dn(s));break;default:continue}this.oncomplete()}}var Gt={foldLength:75,debug:!1,newLineChar:`\r
`,Binary:_r,Component:Oe,ComponentParser:tm,Duration:we,Event:dn,Period:qe,Property:At,Recur:be,RecurExpansion:No,RecurIterator:je,Time:S,Timezone:k,TimezoneService:ar,UtcOffset:He,VCardTime:dt,parse:J,stringify:se,design:ce,helpers:Lg};class nm{constructor(e){this.maxIterations=e.maxIterations!=null?e.maxIterations:1e3,this.skipInvalidDates=e.skipInvalidDates!=null?e.skipInvalidDates:!1,this.jCalData=Gt.parse(e.ics),this.component=new Gt.Component(this.jCalData),this.events=this.component.getAllSubcomponents("vevent").map(t=>new Gt.Event(t)),this.skipInvalidDates&&(this.events=this.events.filter(t=>{try{return t.startDate.toJSDate(),t.endDate.toJSDate(),!0}catch{return!1}}))}between(e,t){function r(l,o){return(!e||o>=e.getTime())&&(!t||l<=t.getTime())}function i(l){const o=l.startDate.toJSDate().getTime();let c=l.endDate.toJSDate().getTime();return l.endDate.isDate&&c>o&&(c-=1),{startTime:o,endTime:c}}const s=[];this.events.forEach(l=>{l.isRecurrenceException()&&s.push(l)});const a={events:[],occurrences:[]};return this.events.filter(l=>!l.isRecurrenceException()).forEach(l=>{const o=[];if(l.component.getAllProperties("exdate").forEach(u=>{const h=u.getFirstValue();o.push(h.toJSDate().getTime())}),l.isRecurring()){const u=l.iterator();let h,f=0;do if(f+=1,h=u.next(),h){const m=l.getOccurrenceDetails(h),{startTime:g,endTime:v}=i(m),y=o.indexOf(g)!==-1,E=s.find(D=>D.uid===l.uid&&D.recurrenceId.toJSDate().getTime()===m.startDate.toJSDate().getTime());if(t&&g>t.getTime())break;r(g,v)&&(E?a.events.push(E):y||a.occurrences.push(m))}while(h&&(!this.maxIterations||f<this.maxIterations));return}const{startTime:c,endTime:d}=i(l);r(c,d)&&a.events.push(l)}),a}before(e){return this.between(void 0,e)}after(e){return this.between(e)}all(){return this.between()}}const rm={parseMeta(n){return n.url&&n.format==="ics"?{url:n.url,format:"ics"}:null},fetch(n,e,t){let r=n.eventSource.meta,{internalState:i}=r;(!i||n.isRefetch)&&(i=r.internalState={response:null,iCalExpanderPromise:fetch(r.url,{method:"GET"}).then(s=>s.text().then(a=>(i.response=s,new nm({ics:a,skipInvalidDates:!0}))))}),i.iCalExpanderPromise.then(s=>{e({rawEvents:im(s,n.range),response:i.response})},t)}};function im(n,e){let t=ue(e.start,-1),r=ue(e.end,1),i=n.between(t,r),s=[];for(let a of i.events)s.push(Object.assign(Object.assign({},Sa(a)),{start:a.startDate.toString(),end:_a(a)&&a.endDate?a.endDate.toString():null}));for(let a of i.occurrences){let l=a.item;s.push(Object.assign(Object.assign({},Sa(l)),{start:a.startDate.toString(),end:_a(l)&&a.endDate?a.endDate.toString():null}))}return s}function Sa(n){return{title:n.summary,url:sm(n),extendedProps:{location:n.location,organizer:n.organizer,description:n.description}}}function sm(n){let e=n.component.getFirstProperty("url");return e?e.getFirstValue():""}function _a(n){return!!n.component.getFirstProperty("dtend")||!!n.component.getFirstProperty("duration")}var am=Le({name:"@fullcalendar/icalendar",eventSourceDefs:[rm]});const lm={key:0,class:"bg-gray-100 border-b border-gray-300 p-4 relative"},om={class:"m-0 text-base font-bold text-gray-800"},cm={class:"p-4 max-h-[calc(85vh-140px)] overflow-y-auto"},dm={key:1,class:"bg-gray-100 border-t border-gray-300 p-4 text-right"},um={__name:"Modal",props:{title:{type:String,default:""},size:{type:String,default:"default",validator:n=>["default","large"].includes(n)},highZIndex:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},emits:["close"],setup(n,{emit:e}){const t=n,r=e,i=Ot("dialogRef"),s=K(!1);function a(c){c.stopPropagation()}function l(){s.value||(s.value=!0,setTimeout(()=>{i.value?.close(),r("close")},150))}fn(()=>{i.value?.show()});const o=Ye(()=>{switch(t.size){case"large":return"max-w-2xl w-[90%] max-h-[85vh]";default:return"max-w-md w-[90%] max-h-[85vh]"}});return(c,d)=>(C(),he(Ca,{to:"body"},[s.value?Y("",!0):(C(),B("div",{key:0,class:Wt(["fixed inset-0 bg-black/40",t.highZIndex?"z-[3999]":"z-[2999]"]),onClick:d[0]||(d[0]=u=>t.closable?l:null)},null,2)),w("dialog",{ref_key:"dialogRef",ref:i,closedby:"none",class:Wt(["modal-dialog","bg-white border border-gray-300 rounded-sm shadow-lg overflow-hidden","text-[13px] leading-tight",t.highZIndex?"z-[4001]":"z-[3001]",s.value?"modal-closing":"",o.value]),onClick:a},[t.title||c.$slots.header?(C(),B("div",lm,[w("h2",om,[ut(c.$slots,"header",{},()=>[$(X(t.title),1)],!0)]),t.closable?(C(),B("button",{key:0,class:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-none border-none text-lg cursor-pointer text-gray-500 p-0 w-5 h-5 flex items-center justify-center hover:text-gray-800",onClick:l}," × ")):Y("",!0)])):Y("",!0),w("div",cm,[ut(c.$slots,"default",{},void 0,!0)]),c.$slots.footer?(C(),B("div",dm,[ut(c.$slots,"footer",{},void 0,!0)])):Y("",!0)],2)]))}},et=Po(um,[["__scopeId","data-v-39791b78"]]),fm={class:"mb-4"},hm=["for"],pm={key:0,class:"text-red-500 ml-0.5 font-bold"},gm={key:1,class:"text-red-500 text-xs mt-1"},mm={key:2,class:"text-gray-500 text-xs mt-1"},Re={__name:"FormGroup",props:{label:{type:String,default:""},inputId:{type:String,default:""},required:{type:Boolean,default:!1},error:{type:String,default:""},helpText:{type:String,default:""}},setup(n){const e=n;return(t,r)=>(C(),B("div",fm,[e.label||t.$slots.label?(C(),B("label",{key:0,for:e.inputId,class:"block mb-1 font-bold text-gray-800 text-[13px]"},[ut(t.$slots,"label",{},()=>[$(X(e.label)+" ",1),e.required?(C(),B("span",pm,"*")):Y("",!0)])],8,hm)):Y("",!0),ut(t.$slots,"default"),e.error?(C(),B("div",gm,X(e.error),1)):Y("",!0),e.helpText?(C(),B("div",mm,X(e.helpText),1)):Y("",!0)]))}},vm=["type","disabled","placeholder","required"],Ne={__name:"Input",props:fi({type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},{modelValue:{type:[String,Number],default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:e}){const t=Ot("inputRef"),r=hi(n,"modelValue"),i=n;function s(){t.value?.focus()}function a(){t.value?.blur()}e({focus:s,blur:a});const l=Ye(()=>{const o=[];return i.type==="color"&&o.push("h-8 px-0.5"),i.disabled&&o.push("bg-gray-100 cursor-not-allowed"),o.join(" ")});return(o,c)=>pi((C(),B("input",or({ref_key:"inputRef",ref:t,class:["w-full px-2 py-1.5 border border-gray-300 rounded-sm text-[13px] box-border focus:outline-none focus:border-blue-400 focus:shadow-[0_0_4px_rgba(102,175,233,0.6)]",l.value],type:i.type,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),disabled:i.disabled,placeholder:i.placeholder,required:i.required,style:{"font-family":"inherit"}},o.$attrs),null,16,vm)),[[Ho,r.value]])}},ym=["disabled"],re={__name:"Button",props:{variant:{type:String,default:"default",validator:n=>["default","primary","danger","warning"].includes(n)},size:{type:String,default:"default",validator:n=>["default","small"].includes(n)},disabled:{type:Boolean,default:!1}},setup(n){const e=n,t=Ye(()=>{const r=[];switch(e.variant){case"primary":r.push("text-white bg-gradient-to-b from-slate-700 to-slate-800 border border-slate-700 hover:from-slate-800 hover:to-slate-700 hover:border-slate-700");break;case"danger":r.push("text-white bg-gradient-to-b from-red-500 to-red-700 border border-red-500 hover:from-red-700 hover:to-red-500 hover:border-red-700");break;case"warning":r.push("text-white bg-gradient-to-b from-yellow-500 to-yellow-600 border border-yellow-500 hover:from-yellow-600 hover:to-yellow-500 hover:border-yellow-600");break;default:r.push("text-gray-800 bg-gradient-to-b from-white to-gray-200 border border-gray-300 hover:from-gray-200 hover:to-gray-300 hover:border-gray-400")}return e.size==="small"&&r.push("text-xs px-3 py-1"),e.disabled&&r.push("opacity-50 cursor-not-allowed"),r.join(" ")});return(r,i)=>(C(),B("button",or({class:["relative inline-block px-3 py-1 ml-0 mr-1 leading-snug cursor-pointer text-[13px] font-normal text-center align-middle whitespace-nowrap select-none rounded-sm transition-all duration-200",t.value],disabled:e.disabled,style:{"font-family":"inherit"}},r.$attrs),[ut(r.$slots,"default")],16,ym))}},De={auth:{async login(n){return await(await fetch("/api/auth",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async logout(){return await(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async verify(){return await(await fetch("/api/auth/verify",{method:"GET",credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))}},calendar:{async get(){return await(await fetch("/api/calendars",{credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async create(n){return await(await fetch("/api/calendars",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,url:n.url,color:n.color,visible_to_public:n.visible_to_public!==void 0?n.visible_to_public:!0,show_details_to_public:n.show_details_to_public!==void 0?n.show_details_to_public:!0})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async update(n,e){return await(await fetch(`/api/calendars/${n}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,url:e.url,color:e.color,visible_to_public:e.visible_to_public,show_details_to_public:e.show_details_to_public})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async delete(n){return await(await fetch(`/api/calendars/${n}`,{method:"DELETE",credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async import(n){return await(await fetch("/api/calendars/import",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({calendars:n})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async export(){return await(await fetch("/api/calendars/export",{credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async refresh(){return await(await fetch("/api/calendars/refresh",{method:"POST",credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))}},settings:{async isPasswordConfigured(){return await(await fetch("/api/settings/password-configured",{credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async setupPassword(n,e){return await(await fetch("/api/settings/setup-password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n,confirmPassword:e})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async changePassword(n,e,t){return await(await fetch("/api/settings/password",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:n,newPassword:e,confirmPassword:t})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async getCronSettings(){return await(await fetch("/api/settings/cron",{credentials:"include"})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))},async updateCronSettings(n,e){return await(await fetch("/api/settings/cron",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:n,schedule:e})})).json().catch(()=>({success:!1,message:"Failed to parse response",errors:null,data:null}))}}},Ut=K(!1),Pe=K(!1);function Dr(){const n=hn();async function e(){Pe.value=!0;try{return await De.settings.isPasswordConfigured()}catch(l){return n.error("Error checking password configuration: "+l.message),{success:!1,message:l.message,errors:null,data:null}}finally{Pe.value=!1}}async function t(l,o){Pe.value=!0;try{const c=await De.settings.setupPassword(l,o);return c.success?n.success(c.message||"Password configured successfully! You can now log in."):n.error(c.message||"Failed to configure password"),c}catch(c){return n.error("Failed to configure password: "+c.message),{success:!1,message:c.message,errors:null,data:null}}finally{Pe.value=!1}}async function r(l){Pe.value=!0;try{const o=await De.auth.login(l);return o.success?(Ut.value=!0,n.success(o.message||"Logged in successfully")):n.error(o.message||"Invalid password"),o}catch(o){return n.error("Authentication error: "+o.message),{success:!1,message:o.message,errors:null,data:null}}finally{Pe.value=!1}}async function i(l={}){const{reload:o=!0}=l;Pe.value=!0;try{const c=await De.auth.logout();return c.success?(Ut.value=!1,n.success(c.message||"Logged out successfully"),o&&window.location.reload()):n.error(c.message||"Failed to logout"),c}catch(c){return n.error("Logout error: "+c.message),{success:!1,message:c.message,errors:null,data:null}}finally{Pe.value=!1}}async function s(){try{return(await De.auth.verify()).success?(Ut.value=!0,!0):(Ut.value=!1,!1)}catch(l){return Ut.value=!1,console.error("Auth check failed:",l),!1}}async function a(l,o,c){Pe.value=!0;try{const d=await De.settings.changePassword(l,o,c);return d.success?n.success(d.message||"Password changed successfully"):d.errors||n.error(d.message||"Failed to change password"),d}catch(d){return n.error("Failed to change password"),{success:!1,message:d.message,errors:null,data:null}}finally{Pe.value=!1}}return{isAuthenticated:Ut,isLoading:Pe,login:r,logout:i,verifySession:s,checkPasswordConfiguration:e,setupPassword:t,changePassword:a}}const bm={__name:"ModalPassword",emits:["close","authenticated"],setup(n,{emit:e}){const t=e,{login:r,isLoading:i}=Dr(),s=K(""),a=Ot("passwordInput"),l=Ge({password:""});async function o(){l.password="";const c=await r(s.value);c.success?setTimeout(()=>{t("authenticated")},100):c.errors&&Object.keys(c.errors).forEach(d=>{l.hasOwnProperty(d)&&(l[d]=c.errors[d])})}return fn(async()=>{await xa(),a.value?.focus()}),(c,d)=>(C(),he(et,{title:"Authentication Required",onClose:d[2]||(d[2]=u=>t("close"))},{footer:M(()=>[N(re,{variant:"primary",onClick:o,disabled:oe(i)},{default:M(()=>[$(X(oe(i)?"Logging in...":"Login"),1)]),_:1},8,["disabled"]),N(re,{onClick:d[1]||(d[1]=u=>t("close")),disabled:oe(i)},{default:M(()=>[...d[3]||(d[3]=[$("Cancel",-1)])]),_:1},8,["disabled"])]),default:M(()=>[N(Re,{label:"Password",required:"","input-id":"password",error:l.password},{default:M(()=>[N(Ne,{id:"password",modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=u=>s.value=u),type:"password",placeholder:"Enter password",required:"",ref_key:"passwordInput",ref:a,onKeyup:Br(o,["enter"])},null,8,["modelValue"])]),_:1},8,["error"])]),_:1}))}},Da=K([]),Se=K(!1);function Sn(){const n=hn();async function e(){Se.value=!0;try{const o=await De.calendar.get();return o.success?(Da.value=o.data,o):(n.error(o.message||"Failed to load calendars"),o)}catch(o){return n.error("Failed to load calendars: "+o.message),{success:!1,message:o.message,errors:null,data:null}}finally{Se.value=!1}}async function t(o){Se.value=!0;try{const c=await De.calendar.create(o);return c.success?(n.success(c.message||"Calendar added successfully"),await e()):n.error(c.message||"Failed to add calendar"),c}catch(c){return n.error("Error adding calendar: "+c.message),{success:!1,message:c.message,errors:null,data:null}}finally{Se.value=!1}}async function r(o,c){Se.value=!0;try{const d=await De.calendar.update(o,c);return d.success?(n.success(d.message||"Calendar updated successfully"),await e(),d):(n.error(d.message||"Failed to update calendar"),d)}catch(d){return n.error("Error updating calendar: "+d.message),{success:!1,message:d.message,errors:null,data:null}}finally{Se.value=!1}}async function i(o){Se.value=!0;try{const c=await De.calendar.delete(o);return c.success?(n.success(c.message||"Calendar deleted successfully"),await e()):n.error(c.message||"Failed to delete calendar"),c}catch(c){return n.error("Error deleting calendar: "+c.message),{success:!1,message:c.message,errors:null,data:null}}finally{Se.value=!1}}async function s(o){Se.value=!0;try{const c=await De.calendar.import(o);return c.success?(n.success(c.message||"Settings imported successfully"),await e()):n.error(c.message||"Failed to import settings"),c}catch(c){return n.error("Error importing settings: "+c.message),{success:!1,message:c.message,errors:null,data:null}}finally{Se.value=!1}}async function a(){Se.value=!0;try{const o=await De.calendar.export();if(o.success){const c=new Blob([JSON.stringify(o.data,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=`calendar-settings-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d),n.success(o.message||"Settings exported successfully")}else n.error(o.message||"Failed to export settings");return o}catch(o){return n.error("Error exporting settings: "+o.message),{success:!1,message:o.message,errors:null,data:null}}finally{Se.value=!1}}async function l(){Se.value=!0;try{const o=await De.calendar.refresh();if(o.success){const c=o.data,d=`Calendars refreshed: ${c.successful} successful, ${c.failed} failed`;return n.success(d),await e(),o}else return n.error(o.message||"Failed to refresh calendars"),o}catch(o){return n.error("Error refreshing calendars: "+o.message),{success:!1,message:o.message,errors:null,data:null}}finally{Se.value=!1}}return{calendars:Da,isLoading:Se,getCalendars:e,addCalendar:t,updateCalendar:r,deleteCalendar:i,importCalendars:s,exportCalendars:a,refreshCalendars:l}}function wm(){const n=hn(),e=K(!1),t=Ge({enabled:!1,schedule:"0 */2 * * *",status:"",lastRun:""});async function r(){e.value=!0;try{const s=await De.settings.getCronSettings();return s.success?(Object.assign(t,s.data),s):(n.error(s.message||"Failed to load auto refresh settings"),s)}catch(s){return n.error("Error loading auto refresh settings: "+s.message),{success:!1,message:s.message,errors:null,data:null}}finally{e.value=!1}}async function i(){e.value=!0;try{const s=await De.settings.updateCronSettings(t.enabled,t.schedule);return s.success?(n.success(s.message||"Auto refresh settings updated"),Object.assign(t,s.data),s):(n.error(s.message||"Failed to update auto refresh settings"),s)}catch(s){return n.error("Error updating auto refresh settings: "+s.message),{success:!1,message:s.message,errors:null,data:null}}finally{e.value=!1}}return{cronSettings:t,isLoading:e,getCronSettings:r,updateCronSettings:i}}const Em=["disabled","required"],Sm={__name:"Select",props:fi({disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},{modelValue:{type:[String,Number],default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:e}){const t=Ot("selectRef"),r=hi(n,"modelValue"),i=n;function s(){t.value?.focus()}function a(){t.value?.blur()}e({focus:s,blur:a});const l=Ye(()=>{const o=[];return i.disabled&&o.push("bg-gray-100 cursor-not-allowed opacity-50"),o.join(" ")});return(o,c)=>pi((C(),B("select",or({ref_key:"selectRef",ref:t,class:["w-full px-2 py-1.5 border border-gray-300 rounded-sm text-[13px] box-border focus:outline-none focus:border-blue-400 focus:shadow-[0_0_4px_rgba(102,175,233,0.6)]",l.value],"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),disabled:i.disabled,required:i.required,style:{"font-family":"inherit"}},o.$attrs),[ut(o.$slots,"default")],16,Em)),[[Lo,r.value]])}},_m={class:"cursor-pointer font-normal text-gray-800 text-[13px] leading-relaxed m-0 flex items-center"},Dm={class:"relative flex items-center mr-2"},Am=["disabled"],Cm={key:0,class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},xm={class:"flex-1"},un={__name:"Checkbox",props:fi({label:{type:String,default:""},disabled:{type:Boolean,default:!1}},{modelValue:{type:[Boolean,Number],default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=hi(n,"modelValue"),t=n;return(r,i)=>(C(),B("label",_m,[w("div",Dm,[pi(w("input",or({type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=s=>e.value=s),disabled:t.disabled,class:"sr-only"},r.$attrs),null,16,Am),[[Bo,e.value]]),w("div",{class:Wt(["w-4 h-4 border rounded-sm flex items-center justify-center transition-all duration-200",e.value?"border-slate-700 bg-slate-700":"border-gray-300 bg-white hover:border-slate-400",t.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"])},[e.value?(C(),B("svg",Cm,[...i[1]||(i[1]=[w("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):Y("",!0)],2)]),w("span",xm,[ut(r.$slots,"default",{},()=>[$(X(t.label),1)])])]))}},Tm={class:"space-y-4"},Rm={class:"flex gap-6"},Im={class:"flex gap-2 justify-end"},Mm={__name:"ModalAddCalendar",props:{highZIndex:{type:Boolean,default:!1}},emits:["close","calendar-added"],setup(n,{emit:e}){const t=n,r=e,{addCalendar:i,isLoading:s}=Sn(),a=Ge({name:"",url:"",color:"#3b82f6",visible_to_public:!0,show_details_to_public:!0}),l=Ge({name:"",url:"",color:""});function o(){a.name="",a.url="",a.color="#3b82f6",a.visible_to_public=!0,a.show_details_to_public=!0,l.name="",l.url="",l.color=""}async function c(){l.name="",l.url="",l.color="";const u=await i(a);u.success?(r("calendar-added"),r("close"),o()):u.errors&&Object.keys(u.errors).forEach(h=>{l.hasOwnProperty(h)&&(l[h]=u.errors[h])})}function d(){r("close"),o()}return(u,h)=>(C(),he(et,{title:"Add New Calendar","high-z-index":t.highZIndex,onClose:d},{footer:M(()=>[w("div",Im,[N(re,{type:"submit",variant:"primary",onClick:c,disabled:oe(s)},{default:M(()=>[...h[5]||(h[5]=[$(" Add Calendar ",-1)])]),_:1},8,["disabled"]),N(re,{type:"button",onClick:d},{default:M(()=>[...h[6]||(h[6]=[$("Cancel",-1)])]),_:1})])]),default:M(()=>[w("form",{onSubmit:Ta(c,["prevent"])},[w("div",Tm,[N(Re,{label:"Name",required:"",error:l.name},{default:M(()=>[N(Ne,{modelValue:a.name,"onUpdate:modelValue":h[0]||(h[0]=f=>a.name=f),type:"text",placeholder:"Calendar name",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"URL",required:"",error:l.url},{default:M(()=>[N(Ne,{modelValue:a.url,"onUpdate:modelValue":h[1]||(h[1]=f=>a.url=f),type:"url",placeholder:"https://example.com/calendar.ics",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"Color",error:l.color},{default:M(()=>[N(Ne,{modelValue:a.color,"onUpdate:modelValue":h[2]||(h[2]=f=>a.color=f),type:"color"},null,8,["modelValue"])]),_:1},8,["error"]),w("div",Rm,[N(un,{"model-value":!a.visible_to_public,"onUpdate:modelValue":h[3]||(h[3]=f=>a.visible_to_public=!f),label:"Hide calendar from public view"},null,8,["model-value"]),N(un,{"model-value":!a.show_details_to_public,"onUpdate:modelValue":h[4]||(h[4]=f=>a.show_details_to_public=!f),label:"Hide event details for public view (show as time blocks only)"},null,8,["model-value"])])])],32)]),_:1},8,["high-z-index"]))}},Om={class:"space-y-4"},km={class:"flex gap-6"},Nm={class:"flex gap-2 justify-end"},Pm={__name:"ModalEditCalendar",props:{calendar:{type:Object,required:!0},highZIndex:{type:Boolean,default:!1}},emits:["close","calendar-updated"],setup(n,{emit:e}){const t=n,r=e,{updateCalendar:i,isLoading:s}=Sn(),a=Ge({name:"",url:"",color:"#3b82f6",visible_to_public:!0,show_details_to_public:!0}),l=Ge({name:"",url:"",color:""});Uo(()=>t.calendar,d=>{d&&(a.name=d.name||"",a.url=d.url||"",a.color=d.color||"#3b82f6",a.visible_to_public=!!d.visible_to_public,a.show_details_to_public=!!d.show_details_to_public,l.name="",l.url="",l.color="")},{immediate:!0});async function o(){l.name="",l.url="",l.color="";const d=await i(t.calendar.id,a);d.success?(r("calendar-updated"),r("close")):d.errors&&Object.keys(d.errors).forEach(u=>{l.hasOwnProperty(u)&&(l[u]=d.errors[u])})}function c(){r("close")}return(d,u)=>(C(),he(et,{title:"Edit Calendar","high-z-index":t.highZIndex,onClose:c},{footer:M(()=>[w("div",Nm,[N(re,{type:"submit",variant:"primary",onClick:o,disabled:oe(s)},{default:M(()=>[...u[5]||(u[5]=[$(" Update Calendar ",-1)])]),_:1},8,["disabled"]),N(re,{type:"button",onClick:c},{default:M(()=>[...u[6]||(u[6]=[$("Cancel",-1)])]),_:1})])]),default:M(()=>[w("form",{onSubmit:Ta(o,["prevent"])},[w("div",Om,[N(Re,{label:"Name",required:"",error:l.name},{default:M(()=>[N(Ne,{modelValue:a.name,"onUpdate:modelValue":u[0]||(u[0]=h=>a.name=h),type:"text",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"URL",required:"",error:l.url},{default:M(()=>[N(Ne,{modelValue:a.url,"onUpdate:modelValue":u[1]||(u[1]=h=>a.url=h),type:"url",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"Color",error:l.color},{default:M(()=>[N(Ne,{modelValue:a.color,"onUpdate:modelValue":u[2]||(u[2]=h=>a.color=h),type:"color"},null,8,["modelValue"])]),_:1},8,["error"]),w("div",km,[N(un,{"model-value":!a.visible_to_public,"onUpdate:modelValue":u[3]||(u[3]=h=>a.visible_to_public=!h),label:"Hide calendar from public view"},null,8,["model-value"]),N(un,{"model-value":!a.show_details_to_public,"onUpdate:modelValue":u[4]||(u[4]=h=>a.show_details_to_public=!h),label:"Hide event details for public view (show as time blocks only)"},null,8,["model-value"])])])],32)]),_:1},8,["high-z-index"]))}},Hm={class:"text-gray-700"},Lm={class:"flex gap-2"},Bm={__name:"ModalDeleteCalendar",props:{calendar:{type:Object,required:!0},highZIndex:{type:Boolean,default:!1}},emits:["close","calendar-deleted"],setup(n,{emit:e}){const t=n,r=e,{deleteCalendar:i,isLoading:s}=Sn();async function a(){(await i(t.calendar.id)).success&&(r("calendar-deleted"),r("close"))}function l(){r("close")}return(o,c)=>(C(),he(et,{title:"Delete Confirmation","high-z-index":t.highZIndex,onClose:l},{footer:M(()=>[w("div",Lm,[N(re,{variant:"danger",onClick:a,disabled:oe(s)},{default:M(()=>[...c[2]||(c[2]=[$(" Delete ",-1)])]),_:1},8,["disabled"]),N(re,{onClick:l},{default:M(()=>[...c[3]||(c[3]=[$("Cancel",-1)])]),_:1})])]),default:M(()=>[w("p",Hm,[c[0]||(c[0]=$(' Are you sure you want to delete "',-1)),w("strong",null,X(t.calendar.name),1),c[1]||(c[1]=$('"? This action cannot be undone. ',-1))])]),_:1},8,["high-z-index"]))}},Um={class:"border-b border-gray-200 mb-4"},Ym={class:"-mb-px flex space-x-8"},zm={key:0,class:"h-[500px] flex flex-col"},Wm={class:"flex justify-between items-center mb-4"},jm={class:"flex-1 min-h-0 mb-6"},Fm={class:"h-full overflow-y-auto border border-gray-200 rounded-lg bg-white"},Vm={class:"overflow-x-hidden"},Gm={class:"w-full table-fixed"},$m={class:"bg-white divide-y divide-gray-200"},qm={class:"px-4 py-4"},Qm={class:"flex items-start space-x-3"},Zm={class:"min-w-0 flex-1"},Xm=["onClick","title"],Jm={class:"text-xs text-gray-500 truncate mt-1"},Km={class:"px-4 py-4"},ev={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 whitespace-nowrap"},tv={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 whitespace-nowrap"},nv={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap"},rv={class:"px-4 py-4 text-right"},iv={class:"flex gap-2 justify-end"},sv={key:0},av={class:"border-t border-gray-200 pt-4"},lv={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ov={key:1,class:"h-[500px] overflow-y-auto space-y-6"},cv={class:"space-y-6"},dv={class:"space-y-4"},uv={key:0,class:"space-y-4"},fv={class:"text-sm py-1.5 text-gray-600"},hv={class:"border-t border-gray-200 pt-4"},pv={key:2,class:"h-[500px] overflow-y-auto space-y-6"},gv={class:"space-y-4"},mv={class:"pt-6 border-t border-gray-200"},vv={__name:"ModalSettings",props:{calendars:{type:Array,default:()=>[]}},emits:["close","calendar-updated"],setup(n,{emit:e}){const t=e,r=hn(),{logout:i,verifySession:s,changePassword:a}=Dr(),{importCalendars:l,exportCalendars:o,refreshCalendars:c}=Sn(),{cronSettings:d,isLoading:u,getCronSettings:h,updateCronSettings:f}=wm(),m=K("calendars"),g=K(!1),v=K(!1),y=K(!1),E=K(null),D=K(null),_=Ot("importInput"),I=Ge({currentPassword:"",newPassword:"",confirmPassword:""}),P=K(!1),x=Ge({currentPassword:"",newPassword:"",confirmPassword:""}),U=K(!1),T=K(!1),L=K(!1);function ee(me){E.value=me,v.value=!0}function fe(me){D.value=me,y.value=!0}function le(){t("calendar-updated"),g.value=!1}function Be(){t("calendar-updated"),v.value=!1,E.value=null}function tt(){t("calendar-updated"),y.value=!1,D.value=null}async function Ht(){T.value=!0;try{await o()}finally{T.value=!1}}function nt(){_.value.click()}async function Z(me){const A=me.target.files[0];if(A){L.value=!0;try{if(!A.name.endsWith(".json"))throw new Error("Please select a JSON file");if(A.size>1024*1024)throw new Error("File size too large. Please select a file under 1MB");const F=await A.text(),Bt=JSON.parse(F);if(!Bt.calendars||!Array.isArray(Bt.calendars))throw new Error("Invalid settings file format. Expected a 'calendars' array");const Ki=await l(Bt.calendars);if(Ki.success)t("calendar-updated"),r.success("Settings imported successfully");else throw new Error(Ki.message||"Failed to import calendars")}catch(F){F instanceof SyntaxError?r.error("Invalid JSON file format"):r.error("Error importing settings: "+F.message)}finally{L.value=!1,me.target.value=""}}}async function j(){await i()}async function V(){U.value=!0;try{(await c()).success&&(t("calendar-updated"),await h())}finally{U.value=!1}}async function Kt(){x.currentPassword="",x.newPassword="",x.confirmPassword="",P.value=!0;try{const me=await a(I.currentPassword,I.newPassword,I.confirmPassword);me.success?(I.currentPassword="",I.newPassword="",I.confirmPassword="",await s()):me.errors&&Object.keys(me.errors).forEach(A=>{x.hasOwnProperty(A)&&(x[A]=me.errors[A])})}finally{P.value=!1}}async function Lt(me){try{await navigator.clipboard.writeText(me),r.success("URL copied to clipboard")}catch{r.error("Failed to copy URL to clipboard")}}return fn(()=>{h()}),(me,A)=>(C(),he(et,{title:"Settings",size:"large",onClose:A[13]||(A[13]=F=>t("close"))},{footer:M(()=>[N(re,{onClick:A[9]||(A[9]=F=>t("close"))},{default:M(()=>[...A[27]||(A[27]=[$("Close",-1)])]),_:1})]),default:M(()=>[w("div",Um,[w("nav",Ym,[w("button",{onClick:A[0]||(A[0]=F=>m.value="calendars"),class:Wt(["py-2 px-1 border-b-2 font-medium text-sm",m.value==="calendars"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Calendars ",2),w("button",{onClick:A[1]||(A[1]=F=>m.value="settings"),class:Wt(["py-2 px-1 border-b-2 font-medium text-sm",m.value==="settings"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Settings ",2),w("button",{onClick:A[2]||(A[2]=F=>m.value="account"),class:Wt(["py-2 px-1 border-b-2 font-medium text-sm",m.value==="account"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Account ",2)])]),m.value==="calendars"?(C(),B("div",zm,[w("div",Wm,[A[15]||(A[15]=w("h3",{class:"text-lg font-medium text-gray-900"},"Calendar Management",-1)),N(re,{variant:"primary",onClick:A[3]||(A[3]=F=>g.value=!0)},{default:M(()=>[...A[14]||(A[14]=[$(" Add Calendar ",-1)])]),_:1})]),w("div",jm,[w("div",Fm,[w("div",Vm,[w("table",Gm,[A[19]||(A[19]=w("thead",{class:"bg-gray-50 sticky top-0 z-10"},[w("tr",null,[w("th",{class:"w-2/5 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Calendar "),w("th",{class:"w-1/3 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),w("th",{class:"w-1/3 px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),w("tbody",$m,[(C(!0),B(Fn,null,Ra(n.calendars,F=>(C(),B("tr",{key:F.id,class:"hover:bg-gray-50"},[w("td",qm,[w("div",Qm,[w("div",{class:"w-4 h-4 rounded-full flex-shrink-0 mt-0.5",style:Ia({backgroundColor:F.color})},null,4),w("div",Zm,[w("div",{class:"font-medium text-gray-900 cursor-pointer hover:text-primary-600 transition-colors",onClick:Bt=>Lt(F.url),title:"Click to copy URL: "+F.url},X(F.name),9,Xm),w("div",Jm,X(F.url),1)])])]),w("td",Km,[F.visible_to_public?F.show_details_to_public?(C(),B("span",nv," Visible to Public ")):(C(),B("span",tv," Details Hidden from Public ")):(C(),B("span",ev," Hidden from Public "))]),w("td",rv,[w("div",iv,[N(re,{onClick:Bt=>ee(F),variant:"primary",size:"small"},{default:M(()=>[...A[16]||(A[16]=[$(" Edit ",-1)])]),_:1},8,["onClick"]),N(re,{onClick:Bt=>fe(F),variant:"danger",size:"small"},{default:M(()=>[...A[17]||(A[17]=[$(" Delete ",-1)])]),_:1},8,["onClick"])])])]))),128)),n.calendars.length===0?(C(),B("tr",sv,[...A[18]||(A[18]=[w("td",{colspan:"3",class:"px-4 py-8 text-center text-gray-500"},' No calendars configured. Click "Add Calendar" to get started. ',-1)])])):Y("",!0)])])])])]),w("div",av,[A[20]||(A[20]=w("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Import/Export",-1)),w("div",lv,[N(re,{onClick:Ht,variant:"primary",disabled:T.value,class:"w-full"},{default:M(()=>[$(X(T.value?"Exporting...":"Export Settings"),1)]),_:1},8,["disabled"]),N(re,{onClick:nt,variant:"default",disabled:L.value,class:"w-full"},{default:M(()=>[$(X(L.value?"Importing...":"Import Settings"),1)]),_:1},8,["disabled"]),w("input",{ref_key:"importInput",ref:_,type:"file",accept:".json",onChange:Z,class:"hidden"},null,544)])])])):Y("",!0),m.value==="settings"?(C(),B("div",ov,[A[23]||(A[23]=w("div",{class:"flex justify-between items-center mb-4"},[w("h3",{class:"text-lg font-medium text-gray-900"},"Settings Management")],-1)),w("div",cv,[w("div",dv,[w("div",null,[N(un,{modelValue:oe(d).enabled,"onUpdate:modelValue":A[4]||(A[4]=F=>oe(d).enabled=F),label:"Enable automatic calendar refresh",disabled:oe(u),onChange:oe(f)},null,8,["modelValue","disabled","onChange"])]),oe(d).enabled?(C(),B("div",uv,[N(Re,{label:"Refresh Schedule"},{default:M(()=>[N(Sm,{modelValue:oe(d).schedule,"onUpdate:modelValue":A[5]||(A[5]=F=>oe(d).schedule=F),onChange:oe(f),disabled:oe(u)},{default:M(()=>[...A[21]||(A[21]=[w("option",{value:"0 */1 * * *"},"Every hour",-1),w("option",{value:"0 */2 * * *"},"Every 2 hours",-1),w("option",{value:"0 */4 * * *"},"Every 4 hours",-1),w("option",{value:"0 */6 * * *"},"Every 6 hours",-1),w("option",{value:"0 */12 * * *"},"Every 12 hours",-1),w("option",{value:"0 0 * * *"},"Daily",-1)])]),_:1},8,["modelValue","onChange","disabled"])]),_:1}),oe(d).lastRun?(C(),he(Re,{key:0,label:"Last Run"},{default:M(()=>[w("div",fv,X(new Date(oe(d).lastRun).toLocaleString()),1)]),_:1})):Y("",!0)])):Y("",!0)]),w("div",hv,[A[22]||(A[22]=w("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Manual Refresh",-1)),N(re,{onClick:V,disabled:U.value,variant:"primary"},{default:M(()=>[$(X(U.value?"Refreshing...":"Refresh All Calendars Now"),1)]),_:1},8,["disabled"])])])])):Y("",!0),m.value==="account"?(C(),B("div",pv,[w("div",null,[A[24]||(A[24]=w("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Change Password",-1)),w("div",gv,[N(Re,{label:"Current Password",required:"","input-id":"currentPassword",error:x.currentPassword},{default:M(()=>[N(Ne,{id:"currentPassword",modelValue:I.currentPassword,"onUpdate:modelValue":A[6]||(A[6]=F=>I.currentPassword=F),type:"password",placeholder:"Enter current password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"New Password",required:"","input-id":"newPassword",error:x.newPassword},{default:M(()=>[N(Ne,{id:"newPassword",modelValue:I.newPassword,"onUpdate:modelValue":A[7]||(A[7]=F=>I.newPassword=F),type:"password",placeholder:"Enter new password (min 8 characters)",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"Confirm New Password",required:"","input-id":"confirmNewPassword",error:x.confirmPassword},{default:M(()=>[N(Ne,{id:"confirmNewPassword",modelValue:I.confirmPassword,"onUpdate:modelValue":A[8]||(A[8]=F=>I.confirmPassword=F),type:"password",placeholder:"Confirm new password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),N(re,{onClick:Kt,disabled:P.value||!I.currentPassword||!I.newPassword||!I.confirmPassword,variant:"primary"},{default:M(()=>[$(X(P.value?"Changing...":"Change Password"),1)]),_:1},8,["disabled"])])]),w("div",mv,[A[26]||(A[26]=w("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Account Actions",-1)),N(re,{onClick:j,class:"w-[134px]",variant:"danger"},{default:M(()=>[...A[25]||(A[25]=[$("Logout",-1)])]),_:1})])])):Y("",!0),g.value?(C(),he(Mm,{key:3,"high-z-index":"",onClose:A[10]||(A[10]=F=>g.value=!1),onCalendarAdded:le})):Y("",!0),v.value&&E.value?(C(),he(Pm,{key:4,calendar:E.value,"high-z-index":"",onClose:A[11]||(A[11]=F=>{v.value=!1,E.value=null}),onCalendarUpdated:Be},null,8,["calendar"])):Y("",!0),y.value&&D.value?(C(),he(Bm,{key:5,calendar:D.value,"high-z-index":"",onClose:A[12]||(A[12]=F=>{y.value=!1,D.value=null}),onCalendarDeleted:tt},null,8,["calendar"])):Y("",!0)]),_:1}))}},yv={key:0,class:"space-y-3"},bv={class:"text-lg font-semibold mb-4"},wv={class:"space-y-2 text-sm"},Ev={key:0,class:"mb-2"},Sv={class:"mb-2"},_v={key:1,class:"mb-2"},Dv={key:2,class:"mb-2"},Av={key:3,class:"mb-2"},Cv=["innerHTML"],xv={key:4,class:"mb-2"},Tv=["innerHTML"],Rv={key:5,class:"mb-2"},Iv={key:6,class:"mb-2"},Mv={key:0},Ov={key:1},kv=["href"],Nv={key:3},Pv={key:7,class:"mb-2"},Hv={key:8,class:"mb-2"},Lv={key:9,class:"mb-2"},Bv=["href"],Uv={key:0},Yv={key:10,class:"mb-2"},zv={key:11,class:"mb-2"},Wv={key:12,class:"mb-2"},jv={key:13,class:"mb-2"},Fv={class:"text-xs bg-gray-100 px-2 py-1 rounded break-all"},Vv={key:14,class:"mb-2"},Gv={class:"inline-flex items-center"},$v={key:15,class:"mb-2"},qv=["href"],Qv={__name:"ModalEvent",props:{event:{type:Object,default:null},calendar:{type:Object,default:null}},emits:["close"],setup(n,{emit:e}){const t=n,r=e;function i(h,f=!1){return h?new Date(h).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:f?void 0:"2-digit",minute:f?void 0:"2-digit"}):"N/A"}function s(h){if(!h)return h;const f=h.split(/(\s+)/),m=[];for(let g=0;g<f.length;g++){const v=f[g];if(/^\s+$/.test(v)){m[g]=v;continue}let y=v,E="";const D=v.match(/^(.+?)([.,;:!?)\]}>]+)$/);if(D&&(y=D[1],E=D[2]),/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(y)){m[g]=`<a href="mailto:${y}">${y}</a>${E}`;continue}const I=/^(\+?1[-.\s]?)?\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})$/;if(y.match(I)){const x=y.replace(/[^\d+]/g,"");m[g]=`<a href="tel:${x}">${y}</a>${E}`;continue}try{const x=new URL(y);if(x.protocol==="http:"||x.protocol==="https:"){m[g]=`<a href="${x.href}" target="_blank" rel="noopener noreferrer">${y}</a>${E}`;continue}}catch{}m[g]=v}return m.join("")}const a=Ye(()=>t.event?.start?i(t.event.start,t.event?.allDay):""),l=Ye(()=>t.event?.end?i(t.event.end,t.event?.allDay):""),o=Ye(()=>{if(!t.event?.start||!t.event?.end||t.event?.allDay)return null;const f=(new Date(t.event.end)-new Date(t.event.start))/1e3/60;if(f<60)return`${f} minutes`;{const m=Math.floor(f/60),g=f%60;return`${m}h ${g>0?g+"m":""}`}}),c=Ye(()=>t.event?.extendedProps?.attendeeEmails?t.event.extendedProps.attendeeEmails.split(", "):[]),d=Ye(()=>t.event?.extendedProps?.description?s(t.event.extendedProps.description):""),u=Ye(()=>t.event?.extendedProps?.location?s(t.event.extendedProps.location):"");return(h,f)=>(C(),he(et,{title:"Event Details",onClose:f[1]||(f[1]=m=>r("close"))},{footer:M(()=>[N(re,{onClick:f[0]||(f[0]=m=>r("close"))},{default:M(()=>[...f[19]||(f[19]=[$("Close",-1)])]),_:1})]),default:M(()=>[t.event?(C(),B("div",yv,[w("h3",bv,X(t.event.title||"Event Details"),1),w("div",wv,[t.event.allDay?(C(),B("div",Ev,[...f[2]||(f[2]=[w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"When:",-1),w("span",null,"All day event",-1)])])):Y("",!0),w("div",Sv,[f[3]||(f[3]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Start:",-1)),w("span",null,X(a.value),1)]),t.event.end?(C(),B("div",_v,[f[4]||(f[4]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"End:",-1)),w("span",null,X(l.value),1)])):Y("",!0),o.value?(C(),B("div",Dv,[f[5]||(f[5]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Duration:",-1)),w("span",null,X(o.value),1)])):Y("",!0),u.value?(C(),B("div",Av,[f[6]||(f[6]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Location:",-1)),w("span",{innerHTML:u.value},null,8,Cv)])):Y("",!0),d.value?(C(),B("div",xv,[f[7]||(f[7]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Description:",-1)),w("div",{innerHTML:d.value,class:"inline"},null,8,Tv)])):Y("",!0),t.event.extendedProps?.status?(C(),B("div",Rv,[f[8]||(f[8]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Status:",-1)),w("span",null,X(t.event.extendedProps.status),1)])):Y("",!0),t.event.extendedProps?.organizerEmail||t.event.extendedProps?.organizerName?(C(),B("div",Iv,[f[9]||(f[9]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Organizer:",-1)),t.event.extendedProps.organizerName?(C(),B("span",Mv,X(t.event.extendedProps.organizerName),1)):Y("",!0),t.event.extendedProps.organizerName&&t.event.extendedProps.organizerEmail?(C(),B("span",Ov," (")):Y("",!0),t.event.extendedProps.organizerEmail?(C(),B("a",{key:2,href:`mailto:${t.event.extendedProps.organizerEmail}`},X(t.event.extendedProps.organizerEmail),9,kv)):Y("",!0),t.event.extendedProps.organizerName&&t.event.extendedProps.organizerEmail?(C(),B("span",Nv,")")):Y("",!0)])):Y("",!0),t.event.extendedProps?.attendeeCount&&parseInt(t.event.extendedProps.attendeeCount)>0?(C(),B("div",Pv,[f[10]||(f[10]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Attendees:",-1)),w("span",null,X(t.event.extendedProps.attendeeCount)+" attendee(s)",1)])):Y("",!0),t.event.extendedProps?.attendeeNames?(C(),B("div",Hv,[f[11]||(f[11]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Names:",-1)),w("span",null,X(t.event.extendedProps.attendeeNames),1)])):Y("",!0),c.value.length>0?(C(),B("div",Lv,[f[12]||(f[12]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Emails:",-1)),w("span",null,[(C(!0),B(Fn,null,Ra(c.value,(m,g)=>(C(),B(Fn,{key:m},[w("a",{href:`mailto:${m}`},X(m),9,Bv),g<c.value.length-1?(C(),B("span",Uv,", ")):Y("",!0)],64))),128))])])):Y("",!0),t.event.extendedProps?.transparency?(C(),B("div",Yv,[f[13]||(f[13]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Show as:",-1)),w("span",null,X(t.event.extendedProps.transparency==="OPAQUE"?"Busy":"Free"),1)])):Y("",!0),t.event.extendedProps?.created?(C(),B("div",zv,[f[14]||(f[14]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Created:",-1)),w("span",null,X(new Date(t.event.extendedProps.created).toLocaleString()),1)])):Y("",!0),t.event.extendedProps?.lastModified?(C(),B("div",Wv,[f[15]||(f[15]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Modified:",-1)),w("span",null,X(new Date(t.event.extendedProps.lastModified).toLocaleString()),1)])):Y("",!0),t.event.extendedProps?.uid?(C(),B("div",jv,[f[16]||(f[16]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Event ID:",-1)),w("code",Fv,X(t.event.extendedProps.uid),1)])):Y("",!0),t.calendar?(C(),B("div",Vv,[f[17]||(f[17]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Calendar:",-1)),w("span",Gv,[w("span",{class:"inline-block w-3 h-3 rounded-sm mr-2",style:Ia({backgroundColor:t.calendar.color})},null,4),$(" "+X(t.calendar.name),1)])])):Y("",!0),t.event.url?(C(),B("div",$v,[f[18]||(f[18]=w("span",{class:"font-bold text-gray-800 mr-2 inline-block min-w-[80px]"},"Link:",-1)),w("a",{href:t.event.url,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:underline"},"Open in calendar",8,qv)])):Y("",!0)])])):Y("",!0)]),_:1}))}},Zv={class:"m-0 leading-relaxed"},Xv={__name:"ModalConfirm",props:{title:{type:String,default:"Confirm"},message:{type:String,required:!0},type:{type:String,default:"default"},confirmText:{type:String,default:"Confirm"}},emits:["confirm","cancel"],setup(n,{emit:e}){const t=n,r=e;return(i,s)=>(C(),he(et,{title:t.title,"high-z-index":"",onClose:s[2]||(s[2]=a=>r("cancel"))},{footer:M(()=>[N(re,{variant:t.type==="delete"?"danger":"primary",onClick:s[0]||(s[0]=a=>r("confirm"))},{default:M(()=>[$(X(t.confirmText),1)]),_:1},8,["variant"]),N(re,{onClick:s[1]||(s[1]=a=>r("cancel"))},{default:M(()=>[...s[3]||(s[3]=[$("Cancel",-1)])]),_:1})]),default:M(()=>[w("p",Zv,X(t.message),1)]),_:1},8,["title"]))}},Jv={class:"flex gap-2 justify-end"},Kv={__name:"ModalSetupPassword",emits:["close","password-configured"],setup(n,{emit:e}){const t=e,{setupPassword:r,isLoading:i}=Dr(),s=K(""),a=K(""),l=Ot("passwordInput"),o=Ge({password:"",confirmPassword:""});async function c(){o.password="",o.confirmPassword="";const d=await r(s.value,a.value);d.success?t("password-configured"):d.errors&&Object.keys(d.errors).forEach(u=>{o.hasOwnProperty(u)&&(o[u]=d.errors[u])})}return fn(async()=>{await xa(),l.value?.focus()}),(d,u)=>(C(),he(et,{title:"Setup Application Password",onClose:u[3]||(u[3]=h=>t("close"))},{footer:M(()=>[w("div",Jv,[N(re,{onClick:c,disabled:oe(i)||!s.value||!a.value,variant:"primary"},{default:M(()=>[$(X(oe(i)?"Configuring...":"Configure Password"),1)]),_:1},8,["disabled"]),N(re,{onClick:u[2]||(u[2]=h=>t("close")),disabled:oe(i)},{default:M(()=>[...u[4]||(u[4]=[$("Cancel",-1)])]),_:1},8,["disabled"])])]),default:M(()=>[u[5]||(u[5]=w("div",{class:"text-center mb-6"},[w("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Welcome to Calendar!"),w("p",{class:"text-sm text-gray-600"}," To secure your calendar application, please create an admin password. ")],-1)),N(Re,{label:"Admin Password",required:"","input-id":"password",error:o.password},{default:M(()=>[N(Ne,{id:"password",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=h=>s.value=h),type:"password",placeholder:"Enter admin password (min 8 characters)",required:"",ref_key:"passwordInput",ref:l,onKeyup:Br(c,["enter"])},null,8,["modelValue"])]),_:1},8,["error"]),N(Re,{label:"Confirm Password",required:"","input-id":"confirmPassword",error:o.confirmPassword},{default:M(()=>[N(Ne,{id:"confirmPassword",modelValue:a.value,"onUpdate:modelValue":u[1]||(u[1]=h=>a.value=h),type:"password",placeholder:"Confirm admin password",required:"",onKeyup:Br(c,["enter"])},null,8,["modelValue"])]),_:1},8,["error"])]),_:1}))}},ey={class:"text-center"},ty={__name:"ModalAbout",emits:["close"],setup(n,{emit:e}){const t=e;function r(){return window.open("https://github.com/wajeht/calendar","_blank")}return(i,s)=>(C(),he(et,{title:"About Calendar",onClose:s[1]||(s[1]=a=>t("close"))},{footer:M(()=>[N(re,{onClick:s[0]||(s[0]=a=>t("close"))},{default:M(()=>[...s[5]||(s[5]=[$("Close",-1)])]),_:1})]),default:M(()=>[w("div",ey,[s[3]||(s[3]=w("div",{class:"mb-4"},[w("h3",{class:"text-base font-bold text-gray-800 mb-2"},"Calendar"),w("p",{class:"text-[13px] text-gray-600 leading-tight"}," A web-based calendar application with multiple calendar source support via iCal/WebCal URLs ")],-1)),s[4]||(s[4]=w("div",{class:"mb-4"},[w("p",{class:"text-[13px] text-gray-600"},[$(" Made with ❤️ by "),w("a",{href:"https://github.com/wajeht",target:"_blank",rel:"noopener noreferrer",class:"text-gray-800 hover:text-gray-900 font-normal"}," @wajeht ")]),w("p",{class:"text-[13px] text-gray-600 mt-1"},[$(" Questions or feedback? "),w("a",{href:"mailto:github@jaw.dev",class:"text-gray-800 hover:text-gray-900 underline"}," Drop me a line "),$(" or "),w("a",{href:"https://github.com/wajeht/calendar/issues",target:"_blank",rel:"noopener noreferrer",class:"text-gray-800 hover:text-gray-900 underline"}," create an issue "),$(" on GitHub ")])],-1)),w("div",null,[N(re,{variant:"primary",onClick:r},{default:M(()=>[...s[2]||(s[2]=[$(" View on GitHub ",-1)])]),_:1})])])]),_:1}))}},ny={class:"h-screen w-screen"},iy={__name:"Index",setup(n){const e=hn(),{isAuthenticated:t,verifySession:r,checkPasswordConfiguration:i}=Dr(),{calendars:s,getCalendars:a}=Sn(),l=Ot("calendarRef"),o=K([]),c=K(!1),d=K(!1),u=K(!1),h=K(!1),f=K(!1),m=K(null),g=K(null),v=K(null),y=Ge({show:!1,title:"",message:"",type:"default",confirmText:"Confirm",resolve:null,reject:null}),E={month:"dayGridMonth",week:"timeGridWeek",day:"timeGridDay",list:"listMonth"},D=K({plugins:[up,Fp,ig,Cg,am],initialView:_(),initialDate:I(),firstDay:1,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth settingsButton aboutButton"},customButtons:{settingsButton:{text:"settings",hint:"Manage Calendars",click:P},aboutButton:{text:"about",hint:"About this app",click:x}},height:"100%",nowIndicator:!0,expandRows:!0,editable:!1,selectable:!1,selectMirror:!1,businessHours:{daysOfWeek:[1,2,3,4,5],startTime:"09:00",endTime:"17:00"},eventSources:[],eventClick:L,loading:fe,eventSourceFailure:le,datesSet:Ht});function _(){const j=new URLSearchParams(window.location.search).get("view");return E[j]||"timeGridWeek"}function I(){return new URLSearchParams(window.location.search).get("date")||void 0}async function P(){v.value===!1?h.value=!0:(await r(),t.value?d.value=!0:c.value=!0)}function x(){f.value=!0}async function U(){const Z=await i();Z.success?v.value=Z.data.configured:(console.error("Failed to check password configuration:",Z.message),v.value=!0)}function T(){h.value=!1,v.value=!0,c.value=!0}function L(Z){if(Z.jsEvent.preventDefault(),!t.value&&Z.event.extendedProps&&!Z.event.extendedProps.show_details_to_public)return;const j=o.value.find(V=>V.id==Z.event.source.id);m.value=Z.event,g.value=j,u.value=!0}function ee(){u.value=!1,m.value=null,g.value=null}function fe(Z){Z&&console.debug("Loading calendar...")}function le(Z){console.error("Calendar load failed:",Z),e.error("Failed to load calendar events")}function Be(){c.value=!1,tt()}async function tt(){const Z=await a();if(!Z.success||!Z.data||Z.data.length===0){console.debug("No calendars to load");return}const j=l.value.getApi();j.removeAllEventSources(),o.value=[];for(const V of Z.data){if(!V||!V.id)continue;const Kt=V.events||[],Lt={id:V.id,events:Kt,color:V.color};j.addEventSource(Lt),o.value.push({id:V.id,name:V.name,color:V.color})}}function Ht(){const Z=l.value.getApi();if(!Z)return;const j=Z.view,V=Z.getDate(),Kt=new Date().toISOString().split("T")[0],Lt=V.toISOString().split("T")[0],me=Object.keys(E).find(F=>E[F]===j.type)||"week",A=new URL(window.location);A.searchParams.set("view",me),Lt!==Kt?A.searchParams.set("date",Lt):A.searchParams.delete("date"),window.history.replaceState({},"",A.toString())}function nt(Z){Z.key==="Escape"&&(u.value?ee():d.value?d.value=!1:c.value?c.value=!1:f.value?f.value=!1:y.show&&y.reject())}return fn(async()=>{document.addEventListener("keydown",nt),await U(),await tt()}),Yo(()=>{document.removeEventListener("keydown",nt)}),(Z,j)=>(C(),B("main",ny,[N(oe(Ih),{ref_key:"calendarRef",ref:l,options:D.value},null,8,["options"]),c.value?(C(),he(bm,{key:0,onClose:j[0]||(j[0]=V=>c.value=!1),onAuthenticated:Be})):Y("",!0),d.value?(C(),he(vv,{key:1,onClose:j[1]||(j[1]=V=>d.value=!1),calendars:oe(s),onCalendarUpdated:tt},null,8,["calendars"])):Y("",!0),u.value?(C(),he(Qv,{key:2,event:m.value,calendar:g.value,onClose:ee},null,8,["event","calendar"])):Y("",!0),y.show?(C(),he(Xv,{key:3,title:y.title,message:y.message,type:y.type,"confirm-text":y.confirmText,onConfirm:y.resolve,onCancel:y.reject},null,8,["title","message","type","confirm-text","onConfirm","onCancel"])):Y("",!0),h.value?(C(),he(Kv,{key:4,onClose:j[2]||(j[2]=V=>h.value=!1),onPasswordConfigured:T})):Y("",!0),f.value?(C(),he(ty,{key:5,onClose:j[3]||(j[3]=V=>f.value=!1)})):Y("",!0)]))}};export{iy as default};
